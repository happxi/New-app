<!DOCTYPE html>  
<html lang="ko">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ìíœ´ë ˆí„° - í–…ì‚ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”!</title>  
    <style>  
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');  
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap');  
  
        :root {  
            /* ğŸ’œ ì—°ë³´ë¼ìƒ‰ íŒŒìŠ¤í…”í†¤ ë¬´ë“œ */  
            --color-primary: #9B59B6; /* ì—°ë³´ë¼ìƒ‰ ë©”ì¸ */  
            --color-primary-light: #D7BDE2; /* ì—°í•œ ì—°ë³´ë¼ìƒ‰ */  
            --color-primary-dark: #8E44AD; /* ì§„í•œ ì—°ë³´ë¼ìƒ‰ */  
            --color-secondary: #E8DAEF; /* ì•„ì£¼ ì—°í•œ ì—°ë³´ë¼ìƒ‰ ë°°ê²½ */  
            --color-accent: #BB8FCE; /* í¬ì¸íŠ¸ ì—°ë³´ë¼ìƒ‰ */  
            --color-text: #2C3E50;  
            --color-text-light: #7F8C8D;  
            --color-white: rgba(255, 255, 255, 0.9);  
            --color-shadow: rgba(155, 89, 182, 0.2);  
        }  
  
        * {  
            box-sizing: border-box;  
            margin: 0;  
            padding: 0;  
            font-family: 'Noto Sans KR', sans-serif;  
        }  
  
        body {  
            background: linear-gradient(135deg, var(--color-secondary) 0%, #F4ECF7 100%);  
            color: var(--color-text);  
            min-height: 100vh;  
            overflow-x: hidden;  
            position: relative;  
        }  
  
        /* ğŸ“± ëª¨ë°”ì¼ ìµœì í™” */  
        .container {  
            width: 100%;  
            max-width: 100vw;  
            min-height: calc(100vh - 80px);  
            padding: 0 16px 20px;  
            padding-bottom: 100px;  
        }  
  
        /* ğŸ’ ìœ ë¦¬ì§ˆê° ì¹´ë“œ */  
        .glass-card {  
            background: var(--color-white);  
            backdrop-filter: blur(15px);  
            -webkit-backdrop-filter: blur(15px);  
            border-radius: 20px;  
            border: 1px solid rgba(255, 255, 255, 0.3);  
            box-shadow: 0 8px 25px var(--color-shadow);  
            padding: 20px;  
            margin-bottom: 16px;  
            width: 100%;  
        }  
  
        /* ğŸ¯ ë©”ì¸ í—¤ë” */  
        .main-header {  
            text-align: center;  
            padding: 40px 0 20px;  
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);  
            -webkit-background-clip: text;  
            -webkit-text-fill-color: transparent;  
        }  
  
        .main-header h1 {  
            font-family: 'Playfair Display', serif;  
            font-size: 28px;  
            font-weight: 700;  
            margin-bottom: 8px;  
        }  
  
        .main-header p {  
            font-size: 16px;  
            color: var(--color-text-light);  
            font-weight: 300;  
        }  
  
        /* --- ë¡œê·¸ì¸/íšŒì›ê°€ì… ëª¨ë‹¬ --- */  
        .auth-modal {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.5);  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            z-index: 1000;  
        }  
  
        .auth-content {  
            background: var(--color-white);  
            border-radius: 25px;  
            padding: 30px;  
            width: 90%;  
            max-width: 350px;  
        }  
  
        .auth-content h2 {  
            color: var(--color-primary);  
            text-align: center;  
            margin-bottom: 25px;  
            font-size: 24px;  
        }  
  
        .auth-input {  
            width: 100%;  
            padding: 12px 16px;  
            border: 2px solid var(--color-primary-light);  
            border-radius: 15px;  
            margin-bottom: 15px;  
            font-size: 16px;  
            transition: border-color 0.3s;  
        }  
  
        .auth-input:focus {  
            outline: none;  
            border-color: var(--color-primary);  
        }  
  
        .auth-button {  
            width: 100%;  
            padding: 12px;  
            background: var(--color-primary);  
            color: white;  
            border: none;  
            border-radius: 15px;  
            font-size: 16px;  
            font-weight: 600;  
            cursor: pointer;  
            transition: all 0.3s;  
            margin-bottom: 15px;  
        }  
  
        .auth-button:hover {  
            background: var(--color-primary-dark);  
            transform: translateY(-2px);  
        }  
  
        /* --- ì•¡ì…˜ ë²„íŠ¼ --- */  
        .action-button {  
            display: inline-block;  
            padding: 12px 25px;  
            background: var(--color-primary);  
            color: white;  
            border: none;  
            border-radius: 25px;  
            font-weight: 600;  
            cursor: pointer;  
            transition: all 0.3s;  
            text-decoration: none;  
            text-align: center;  
            box-shadow: 0 4px 15px var(--color-shadow);  
        }  
  
        .action-button:hover {  
            background: var(--color-primary-dark);  
            transform: translateY(-2px);  
            box-shadow: 0 6px 20px rgba(155, 89, 182, 0.3);  
        }  
  
        /* ğŸŒŸ ë©”ì¸ ì•¡ì…˜ ê·¸ë£¹ */  
        .action-group {  
            display: flex;  
            justify-content: space-around;  
            margin: 30px 0;  
            gap: 20px;  
        }  
  
        .action-item {  
            text-decoration: none;  
            color: var(--color-text);  
            font-size: 13px;  
            text-align: center;  
            flex: 1;  
        }  
  
        .action-icon {  
            width: 70px;  
            height: 70px;  
            margin: 0 auto 8px;  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-size: 28px;  
              
            background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-primary) 100%);  
            box-shadow: 0 8px 25px var(--color-shadow);  
            color: white;  
            transition: all 0.3s;  
        }  
  
        .action-item:hover .action-icon {  
            transform: translateY(-5px) scale(1.05);  
            box-shadow: 0 12px 30px rgba(155, 89, 182, 0.4);  
        }  
  
        /* --- í•„í„°ë§ ë²„íŠ¼ --- */  
        .filter-buttons {  
            display: flex;  
            gap: 10px;  
            margin-bottom: 20px;  
        }  
  
        .filter-buttons button {  
            flex: 1;  
            padding: 10px;  
            border: 2px solid var(--color-primary);  
            background: transparent;  
            color: var(--color-primary);  
            font-weight: 600;  
            border-radius: 20px;  
            cursor: pointer;  
            transition: all 0.3s;  
        }  
  
        .filter-buttons button.active {  
            background: var(--color-primary);  
            color: white;  
            transform: scale(1.02);  
        }  
  
        /* --- ê²Œì‹œë¬¼ ëª©ë¡ --- */  
        .post-item {  
            background: white;  
            border-radius: 15px;  
            padding: 16px;  
            margin-bottom: 12px;  
            box-shadow: 0 2px 10px rgba(155, 89, 182, 0.1);  
            transition: all 0.3s;  
        }  
  
        .post-item:hover {  
            transform: translateY(-2px);  
            box-shadow: 0 4px 20px rgba(155, 89, 182, 0.2);  
        }  
  
        .post-header {  
            display: flex;  
            align-items: center;  
            margin-bottom: 12px;  
        }  
  
        .post-avatar {  
            width: 40px;  
            height: 40px;  
            border-radius: 50%;  
            background: var(--color-primary);  
            color: white;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-weight: 700;  
            margin-right: 12px;  
        }  
  
        .post-info h4 {  
            font-size: 16px;  
            font-weight: 600;  
            color: var(--color-text);  
        }  
  
        .post-info p {  
            font-size: 12px;  
            color: var(--color-text-light);  
        }  
  
        .post-content {  
            margin-bottom: 12px;  
            line-height: 1.5;  
        }  
  
        .post-image {  
            width: 100%;  
            height: 200px;  
            object-fit: cover;  
            border-radius: 10px;  
            margin-bottom: 12px;  
        }  
  
        .post-actions {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
        }  
  
        .action-btn {  
            display: flex;  
            align-items: center;  
            gap: 5px;  
            padding: 6px 12px;  
            border: none;  
            background: transparent;  
            color: var(--color-text-light);  
            border-radius: 15px;  
            cursor: pointer;  
            transition: all 0.2s;  
            font-size: 14px;  
        }  
  
        .action-btn:hover {  
            background: var(--color-secondary);  
            color: var(--color-primary);  
        }  
  
        .action-btn.active {  
            color: var(--color-primary);  
        }  
  
        /* --- ë§ˆì´í˜ì´ì§€ --- */  
        .mypage-menu {  
            list-style: none;  
            padding: 0;  
        }  
  
        .mypage-menu li {  
            margin-bottom: 12px;  
        }  
  
        .mypage-button {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
            width: 100%;  
            padding: 15px;  
            border: none;  
            background: white;  
            border-radius: 15px;  
            font-weight: 500;  
            cursor: pointer;  
            transition: all 0.2s;  
            text-align: left;  
            font-size: 15px;  
        }  
  
        .mypage-button:hover {  
            background: var(--color-secondary);  
        }  
  
        /* --- ìŠ¤íƒ¬í”„ --- */  
        .stamp-grid {  
            display: grid;  
            grid-template-columns: repeat(10, 1fr);  
            gap: 8px;  
            margin-top: 20px;  
        }  
  
        .stamp-icon {  
            width: 28px;  
            height: 28px;  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-size: 14px;  
            transition: all 0.3s;  
        }  
  
        .unstamped {  
            background: #f0f0f0;  
            color: #ccc;  
        }  
  
        .stamped {  
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);  
            color: white;  
            box-shadow: 0 2px 8px rgba(155, 89, 182, 0.3);  
        }  
  
        .stamped::after {  
            content: 'âœ“';  
        }  
  
        /* --- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” --- */  
        .bottom-nav {  
            position: fixed;  
            bottom: 0;  
            width: 100%;  
            max-width: 100vw;  
            height: 80px;  
            background: var(--color-white);  
            backdrop-filter: blur(15px);  
            border-top: 1px solid rgba(255, 255, 255, 0.3);  
            display: flex;  
            justify-content: space-around;  
            align-items: center;  
            z-index: 100;  
            box-shadow: 0 -5px 20px var(--color-shadow);  
        }  
  
        .nav-item {  
            display: flex;  
            flex-direction: column;  
            align-items: center;  
            text-decoration: none;  
            color: var(--color-text-light);  
            font-size: 11px;  
            padding: 5px;  
            transition: all 0.2s;  
            flex: 1;  
        }  
  
        .nav-item.active {  
            color: var(--color-primary);  
        }  
  
        .nav-item span:first-child {  
            font-size: 24px;  
            margin-bottom: 4px;  
        }  
  
        .central-button {  
            background: var(--color-primary) !important;  
            color: white !important;  
            border-radius: 15px;  
            padding: 10px 5px;  
            margin: -10px 2px;  
            box-shadow: 0 4px 15px var(--color-shadow);  
        }  
  
        /* --- ìƒì„¸í˜ì´ì§€ --- */  
        .detail-header {  
            text-align: center;  
            margin-bottom: 20px;  
        }  
  
        .detail-content {  
            background: white;  
            border-radius: 15px;  
            padding: 20px;  
            margin-bottom: 20px;  
        }  
  
        .detail-actions {  
            display: flex;  
            justify-content: space-around;  
            margin-top: 20px;  
            padding: 15px;  
            background: var(--color-secondary);  
            border-radius: 15px;  
        }  
  
        /* --- ê¸€ì“°ê¸° ëª¨ë‹¬ --- */  
        .write-modal {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.5);  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            z-index: 1000;  
        }  
  
        .write-content {  
            background: white;  
            border-radius: 20px;  
            padding: 20px;  
            width: 90%;  
            max-width: 400px;  
            max-height: 90vh;  
            overflow-y: auto;  
        }  
  
        .write-textarea {  
            width: 100%;  
            min-height: 150px;  
            padding: 12px;  
            border: 2px solid var(--color-primary-light);  
            border-radius: 10px;  
            resize: none;  
            font-family: 'Noto Sans KR', sans-serif;  
            margin-bottom: 15px;  
        }  
  
        .write-textarea:focus {  
            outline: none;  
            border-color: var(--color-primary);  
        }  
  
        .image-upload {  
            border: 2px dashed var(--color-primary-light);  
            border-radius: 10px;  
            padding: 20px;  
            text-align: center;  
            margin-bottom: 15px;  
            cursor: pointer;  
            transition: all 0.3s;  
        }  
  
        .image-upload:hover {  
            border-color: var(--color-primary);  
            background: var(--color-secondary);  
        }  
  
        /* --- í–…ì”¨ ê´€ë¦¬ì ì „ìš© --- */  
        .admin-dashboard {  
            background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-secondary) 100%);  
        }  
  
        /* --- ë°˜ì‘í˜• --- */  
        .hide {  
            display: none !important;  
        }  
  
        .fade-in {  
            animation: fadeIn 0.3s ease-out;  
        }  
  
        @keyframes fadeIn {  
            from {  
                opacity: 0;  
                transform: translateY(20px);  
            }  
            to {  
                opacity: 1;  
                transform: translateY(0);  
            }  
        }  
    </style>  
</head>  
<body>  
    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ -->  
    <div id="loginModal" class="auth-modal">  
        <div class="auth-content">  
            <h2>ìíœ´ë ˆí„°</h2>  
            <input type="email" id="loginEmail" class="auth-input" placeholder="ì´ë©”ì¼">  
            <input type="password" id="loginPassword" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸">  
            <button onclick="handleLogin()" class="auth-button">ë¡œê·¸ì¸</button>  
            <button onclick="showSignup()" class="auth-button" style="background: transparent; color: var(--color-primary); border: 2px solid var(--color-primary);">íšŒì›ê°€ì…</button>  
        </div>  
    </div>  
  
    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->  
    <div id="signupModal" class="auth-modal hide">  
        <div class="auth-content">  
            <h2>íšŒì›ê°€ì…</h2>  
            <input type="email" id="signupEmail" class="auth-input" placeholder="ì´ë©”ì¼">  
            <input type="password" id="signupPassword" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸">  
            <input type="password" id="signupPasswordConfirm" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸">  
            <button onclick="handleSignup()" class="auth-button">ê°€ì…í•˜ê¸°</button>  
            <button onclick="showLogin()" class="auth-button" style="background: transparent; color: var(--color-primary); border: 2px solid var(--color-primary);">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>  
        </div>  
    </div>  
  
    <!-- ê¸€ì“°ê¸° ëª¨ë‹¬ -->  
    <div id="writeModal" class="write-modal hide">  
        <div class="write-content">  
            <h3 style="color: var(--color-primary); margin-bottom: 15px;">ê¸€ì“°ê¸°</h3>  
            <textarea id="writeContent" class="write-textarea" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>  
              
            <div id="imageUploadArea" class="image-upload" onclick="document.getElementById('imageInput').click()">  
                <div style="font-size: 32px; margin-bottom: 8px;">ğŸ“·</div>  
                <p>ì‚¬ì§„ ì¶”ê°€í•˜ê¸°</p>  
                <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">  
            </div>  
              
            <button onclick="submitPost()" class="action-button" style="width: 100%;">ê²Œì‹œí•˜ê¸°</button>  
            <button onclick="closeWriteModal()" class="auth-button" style="background: transparent; color: var(--color-primary); border: 2px solid var(--color-primary); width: 100%; margin-top: 10px;">ì·¨ì†Œ</button>  
        </div>  
    </div>  
  
    <div id="app"></div>  
  
    <nav class="bottom-nav">  
        <a href="#" class="nav-item active" data-tab="home">  
            <span>ğŸ </span>  
            <span>í™ˆ</span>  
        </a>  
        <a href="#" class="nav-item" data-tab="letter">  
            <span>ğŸ’Œ</span>  
            <span>ë ˆí„°</span>  
        </a>  
        <a href="#" class="nav-item central-button" data-tab="mood">  
            <span></span>  
            <span>ë¬´ë“œ</span>  
        </a>  
        <a href="#" class="nav-item" data-tab="editor-talk">  
            <span>â˜•</span>  
            <span>ì—ë””í† í¬</span>  
        </a>  
        <a href="#" class="nav-item" data-tab="mypage">  
            <span>ğŸ‘¤</span>  
            <span>ë§ˆì´</span>  
        </a>  
    </nav>  
  
    <script>  
        // ì‚¬ìš©ì ë°ì´í„°  
        const users = [  
            { id: 'happxi@jahyu.com', name: 'í–…ì”¨', password: 'admin123', role: 'super_admin', avatar: 'í–…' },  
            { id: 'elly@jahyu.com', name: 'ì—˜ë¦¬', password: 'admin123', role: 'admin', avatar: 'ì—˜' },  
            { id: 'gokal@jahyu.com', name: 'ê³ ì¹¼', password: 'admin123', role: 'admin', avatar: 'ê³ ' },  
            { id: 'yudan@jahyu.com', name: 'ìœ ë‹¨', password: 'admin123', role: 'admin', avatar: 'ìœ ' },  
            { id: 'sunny@jahyu.com', name: 'ì¨ë‹ˆ', password: 'admin123', role: 'admin', avatar: 'ì¨' },  
            { id: 'hyeran@example.com', name: 'í˜œë€', password: 'user123', role: 'user', avatar: 'í˜œ' }  
        ];  
  
        let currentUser = null;  
        let currentTab = 'home';  
        let userStamps = 45;  
        let selectedImage = null;  
        let currentLetterFilter = 'ìíœ´ë ˆí„°';  
  
        // ê²Œì‹œë¬¼ ë°ì´í„°  
        let posts = [  
            {  
                id: 1,  
                author: 'ì—˜ë¦¬',  
                content: 'ìƒˆí•´ ëª©í‘œë¥¼ ì„¸ì›Œë´¤ì–´ìš”. ì¼ì£¼ì¼ì— 3ë²ˆ ìš”ê°€í•˜ê¸°!',  
                date: '2025.12.10',  
                category: 'editor-talk',  
                likes: 12,  
                comments: 3,  
                likedBy: [],  
                bookmarkedBy: []  
            },  
            {  
                id: 2,  
                author: 'ê³ ì¹¼',  
                content: 'ê²¨ìš¸ í•œì •íŒ íŠ¸ë Œë”” ì¹´í˜ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸ ì •ë¦¬ ì¤‘!',  
                date: '2025.12.09',  
                category: 'editor-talk',  
                likes: 8,  
                comments: 1,  
                likedBy: [],  
                bookmarkedBy: []  
            },  
            {  
                id: 3,  
                author: 'ì¨ë‹ˆ',  
                content: 'ì˜¤ëŠ˜ì€ ì°½ë¬¸ì„ ì—´ê³  í–‡ì‚´ì„ ë°›ìœ¼ë©° ì°¨ í•œì”~',  
 date: '2025.12.08',  
                category: 'editor-talk',  
                likes: 15,  
                comments: 5,  
                likedBy: [],  
                bookmarkedBy: []  
            }  
        ];  
  
        // ë¬´ë“œ ë°ì´í„°  
        const moodsData = [  
            { id: 1, userId: 'hyeran@example.com', content: 'ì˜¤ëŠ˜ í•˜ë£¨ ë„ˆë¬´ ì§€ì³¤ì–´ìš”...', mood: 'ğŸ˜©', date: '2025.12.10' },  
            { id: 2, userId: 'happxi@jahyu.com', content: 'ëª¨ë‘ ìˆ˜ê³ í–ˆì–´ìš”! ë‚´ì¼ì€ ë” ë¹›ë‚  ê±°ì˜ˆìš” âœ¨', mood: 'ğŸ¥°', date: '2025.12.09' },  
            { id: 3, userId: 'elly@jahyu.com', content: 'ì£¼ë§ì— ì‰¬ê³  ì‹¶ì–´ìš”~', mood: 'ğŸ˜Š', date: '2025.12.08' }  
        ];  
  
        // ë¡œê·¸ì¸ ì²˜ë¦¬  
        function handleLogin() {  
            const email = document.getElementById('loginEmail').value;  
            const password = document.getElementById('loginPassword').value;  
              
            const user = users.find(u => u.id === email && u.password === password);  
            if (user) {  
                currentUser = user;  
                document.getElementById('loginModal').classList.add('hide');  
                renderTab('home');  
            } else {  
                alert('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
            }  
        }  
  
        // íšŒì›ê°€ì… ì²˜ë¦¬  
        function handleSignup() {  
            const email = document.getElementById('signupEmail').value;  
            const password = document.getElementById('signupPassword').value;  
            const confirm = document.getElementById('signupPasswordConfirm').value;  
              
            if (password !== confirm) {  
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
                return;  
            }  
              
            alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');  
            showLogin();  
        }  
  
        // ëª¨ë‹¬ í† ê¸€  
        function showLogin() {  
            document.getElementById('signupModal').classList.add('hide');  
            document.getElementById('loginModal').classList.remove('hide');  
        }  
  
        function showSignup() {  
            document.getElementById('loginModal').classList.add('hide');  
            document.getElementById('signupModal').classList.remove('hide');  
        }  
  
        // í™ˆ í…œí”Œë¦¿  
        function getHomeTemplate() {  
            return `  
                <div class="container fade-in">  
                    <div class="main-header">  
                        <h1>í–…ì‚ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”!</h1>  
                        <p>ë©”ë§ˆë¥¸ ì¼ìƒì— íœ´ì‹ í•œ ë°©ìš¸!</p>  
                    </div>  
  
                    <div class="glass-card">  
                        <div style="text-align: center; padding: 30px 0;">  
                            <h2 style="color: var(--color-primary); font-size: 20px; margin-bottom: 10px;">  
                                <strong style="color: var(--color-primary);">ìíœ´ë ˆí„°</strong> & <strong style="color: var(--color-accent);">ìíœ´ë©</strong>  
                            </h2>  
                            <p style="color: var(--color-text-light); margin-bottom: 20px;">  
                                ìíœ´ë ˆí„°ì™€ ìíœ´ë©ì„ ì£¼ì œë³„ë¡œ í•œ ëˆˆì—!  
                            </p>  
                            <a href="#" class="action-button" data-tab="letter">ë ˆí„° ì•„ì¹´ì´ë¸Œ ë°”ë¡œê°€ê¸°</a>  
                        </div>  
                    </div>  
  
                    <div class="action-group">  
                        <a href="https://pf.kakao.com/_xxxxxx" class="action-item" target="_blank">  
                            <div class="action-icon">ğŸ—£ï¸</div>  
                            <p>1:1 ì¹´í†¡</p>  
                        </a>  
                        <a href="http://pf.kakao.com/_Jfjxgn/111753149" class="action-item" target="_blank">  
                            <div class="action-icon">ğŸ–‹ï¸</div>  
                            <p>ë¬¸ì¥ ìˆ˜ì§‘</p>  
                        </a>  
                        <a href="https://index-html-zak5.vercel.app/" class="action-item" target="_blank">  
                            <div class="action-icon">âœ¨</div>  
                            <p>íë§í…ŒìŠ¤íŠ¸</p>  
                        </a>  
                        <a href="https://maily.so/happci/posts/2nzn7qegrp5" class="action-item" target="_blank">  
                            <div class="action-icon">ğŸ“®</div>  
                            <p>ë ˆí„°ë³´ê¸°</p>  
                        </a>  
                    </div>  
                </div>  
            `;  
        }  
  
        // ë ˆí„° ì•„ì¹´ì´ë¸Œ í…œí”Œë¦¿  
        function getLetterTemplate() {  
            const letterPosts = [  
                { title: '[ìíœ´ë ˆí„°] íë§ ì—ì„¸ì´ 12ì›”í˜¸', date: '2025.12.10', category: 'ìíœ´ë ˆí„°' },  
                { title: '[ìíœ´ë©] ì£¼ë§ ì‰¼ì˜ ê¸°ìˆ ', date: '2025.12.09', category: 'ìíœ´ë©' },  
                { title: '[ìíœ´ë ˆí„°] ì¼ìƒì˜ ì‘ì€ í–‰ë³µ ì°¾ê¸°', date: '2025.12.08', category: 'ìíœ´ë ˆí„°' },  
                { title: '[ìíœ´ë©] ê°ì„±ì ì¸ ì¹´í˜ ì¶”ì²œ', date: '2025.12.07', category: 'ìíœ´ë©' }  
            ];  
  
            const filteredPosts = letterPosts.filter(post => post.category === currentLetterFilter);  
  
            return `  
                <div class="container fade-in">  
                    <div class="main-header">  
                        <h2>ë ˆí„° ì•„ì¹´ì´ë¸Œ</h2>  
                    </div>  
  
                    <div class="filter-buttons">  
                        <button class="${currentLetterFilter === 'ìíœ´ë ˆí„°' ? 'active' : ''}" onclick="filterLetters('ìíœ´ë ˆí„°')">ìíœ´ë ˆí„°</button>  
                        <button class="${currentLetterFilter === 'ìíœ´ë©' ? 'active' : ''}" onclick="filterLetters('ìíœ´ë©')">ìíœ´ë©</button>  
                    </div>  
  
                    <div style="margin-bottom: 20px;">  
                        ${filteredPosts.map(post => `  
                            <div class="post-item">  
                                <div class="post-header">  
                                    <div class="post-avatar">ì</div>  
                                    <div class="post-info">  
                                        <h4>${post.title}</h4>  
                                        <p>${post.date}</p>  
                                    </div>  
                                </div>  
                                <div class="post-actions">  
                                    <button class="action-btn">â¤ï¸ ì¢‹ì•„ìš”</button>  
                                    <button class="action-btn">ğŸ’¬ ëŒ“ê¸€</button>  
                                    <button class="action-btn">ğŸ”– ë¶ë§ˆí¬</button>  
                                </div>  
                            </div>  
                        `).join('')}  
                    </div>  
                </div>  
            `;  
        }  
  
        // ì—ë””í„°í†¡ í…œí”Œë¦¿  
        function getEditorTalkTemplate() {  
            const isAdmin = currentUser && currentUser.role !== 'user';  
              
            return `  
                <div class="container fade-in">  
                    <div class="main-header">  
                        <h2>ì—ë””í„°í†¡</h2>  
                        <p>ì—ë””í„°ì˜ ì¼ìƒì„ ë” ê°€ê¹Œì´ì—ì„œ ë§Œë‚˜ë³´ì„¸ìš”!</p>  
                    </div>  
  
                    ${isAdmin ? `  
                        <button onclick="openWriteModal()" class="action-button" style="width: 100%; margin-bottom: 20px;">  
                            âœï¸ ê¸€ì“°ê¸°  
                        </button>  
                    ` : ''}  
  
                    <div>  
                        ${posts.map(post => {  
                            const authorProfile = users.find(u => u.name === post.author);  
                            return `  
                                <div class="post-item" onclick="showPostDetail(${post.id})">  
                                    <div class="post-header">  
                                        <div class="post-avatar" style="background: ${authorProfile ? getAdminColor(authorProfile.name) : '#9B59B6'}">${authorProfile ? authorProfile.avatar : 'ì'}</div>  
                                        <div class="post-info">  
                                            <h4>${post.author}</h4>  
                                            <p>${post.date}</p>  
                                        </div>  
                                    </div>  
                                    <div class="post-content">${post.content}</div>  
                                    ${post.image ? `<img src="${post.image}" alt="ê²Œì‹œë¬¼ ì´ë¯¸ì§€" class="post-image">` : ''}  
                                    <div class="post-actions">  
                                        <button class="action-btn ${post.likedBy.includes(currentUser?.id) ? 'active' : ''}" onclick="toggleLike(event, ${post.id})">  
                                            â¤ï¸ ${post.likes}  
                                        </button>  
                                        <button class="action-btn">  
                                            ğŸ’¬ ${post.comments}  
                                        </button>  
                                        <button class="action-btn ${post.bookmarkedBy.includes(currentUser?.id) ? 'active' : ''}" onclick="toggleBookmark(event, ${post.id})">  
                                            ğŸ”–  
                                        </button>  
                                    </div>  
                                </div>  
                            `;  
                        }).join('')}  
                    </div>  
                </div>  
            `;  
        }  
  
        // ë¬´ë“œ í…œí”Œë¦¿  
        function getMoodTemplate() {  
            // í–…ì”¨ ê´€ë¦¬ìì¸ ê²½ìš° ëª¨ë“  ì‚¬ìš©ìì˜ ë¬´ë“œ í‘œì‹œ  
            if (currentUser && currentUser.role === 'super_admin') {  
                return getAdminMoodTemplate();  
            }  
  
            return `  
                <div class="container fade-in">  
                    <div class="main-header">  
                        <h2>ì˜¤ëŠ˜ì˜ ë¬´ë“œ</h2>  
                        <p>ë‹¹ì‹ ì˜ ê°ì •ì„ ê¸°ë¡í•´ë³´ì„¸ìš”</p>  
                    </div>  
  
                    <div class="glass-card" style="text-align: center; padding: 40px 20px; min-height: 300px;">  
                        <p style="font-size: 16px; color: var(--color-text-light); margin-bottom: 30px;">  
                            ì—¬ê¸°ì— ì›”ê°„/ì£¼ê°„ ë¬´ë“œ íŠ¸ë˜ì»¤ê°€ ì‹œê°í™”ë©ë‹ˆë‹¤  
                        </p>  
                        <div style="font-size: 48px; margin-bottom: 20px;">ğŸ“Š</div>  
                        <button onclick="openWriteModal()" class="action-button">  
                            ë¬´ë“œ ê¸°ë¡ ì‘ì„±  
                        </button>  
                    </div>  
                </div>  
            `;  
        }  
  
        // í–…ì”¨ ê´€ë¦¬ììš© ë¬´ë“œ í…œí”Œë¦¿  
        function getAdminMoodTemplate() {  
            const groupedMoods = {};  
            moodsData.forEach(mood => {  
                if (!groupedMoods[mood.userId]) {  
                    const user = users.find(u => u.id === mood.userId);  
                    groupedMoods[mood.userId] = {  
                        user: user,  
                        moods: []  
                    };  
                }  
                groupedMoods[mood.userId].moods.push(mood);  
            });  
  
            return `  
                <div class="container fade-in">  
                    <div class="main-header admin-dashboard">  
                        <h2>ğŸ‘‘ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h2>  
                        <p>ëª¨ë“  í–…ì‚ë‹˜ë“¤ì˜ ê°ì •ì„ ì‚´í´ë³´ì„¸ìš”</p>  
                    </div>  
  
                    ${Object.entries(groupedMoods).map(([userId, data]) => `  
                        <div class="glass-card admin-dashboard">  
                            <div class="post-header">  
                                <div class="post-avatar" style="background: ${getAdminColor(data.user.name)}">${data.user.avatar}</div>  
                                <div class="post-info">  
                                    <h4>${data.user.name}</h4>  
                                    <p>${data.user.id}</p>  
                                </div>  
                            </div>  
                            <div style="margin-top: 15px;">  
                                ${data.moods.map(mood => `  
                                    <div class="post-item" style="margin-bottom: 10px;">  
                                        <p style="margin-bottom: 5px;"><strong>${mood.mood} ${mood.date}</strong></p>  
                                        <p>${mood.content}</p>  
                                    </div>  
                                `).join('')}  
                            </div>  
                        </div>  
                    `).join('')}  
                </div>  
            `;  
        }  
  
        // ë§ˆì´í˜ì´ì§€ í…œí”Œë¦¿  
        function getMyPageTemplate() {  
            const isVIP = userStamps >= 50;  
              
            return `  
                <div class="container fade-in">  
                    <div class="main-header">  
                        <h2>${isVIP ? 'â­ VIP í–…ì‚ë‹˜!' : 'My Space'}</h2>  
                        <p>${isVIP ? 'íŠ¹ë³„í•œ í˜œíƒì„ ì¦ê²¨ë³´ì„¸ìš”!' : 'ì˜¤ëŠ˜ë„ ìíœ´ë ˆí„°ì™€ í•¨ê»˜í•´ìš”'}</p>  
                    </div>  
  
                    <ul class="mypage-menu">  
                        <li><button class="mypage-button" onclick="showContentList('mypost')">ë‚´ê°€ ì“´ ê¸€ â–¶ï¸</button></li>  
                        <li><button class="mypage-button" onclick="showContentList('mycomment')">ë‚˜ì˜ ëŒ“ê¸€ â–¶ï¸</button></li>  
                        <li><button class="mypage-button" onclick="showContentList('mylike')">ì¢‹ì•„ìš”í•œ ê¸€ â–¶ï¸</button></li>  
                        <li><button class="mypage-button" onclick="showContentList('mybookmark')">ë¶ë§ˆí¬í•œ ê¸€ â–¶ï¸</button></li>  
                        <li><button class="mypage-button" onclick="showContentList('mystamp')">ìíœ´ ìŠ¤íƒ¬í”„ (${userStamps}ê°œ) â–¶ï¸</button></li>  
                        <li><button class="mypage-button" onclick="handleLogout()">ë¡œê·¸ì•„ì›ƒ â–¶ï¸</button></li>  
                    </ul>  
  
                    <div class="glass-card">  
                        <h3 style="color: var(--color-primary); margin-bottom: 15px;">ë‚˜ì˜ ìíœ´ ìŠ¤íƒ¬í”„</h3>  
                        <div class="stamp-grid">  
                            ${Array(50).fill(0).map((_, index) => `  
                                <div class="stamp-icon ${index < userStamps ? 'stamped' : 'unstamped'}"></div>  
                            `).join('')}  
                        </div>  
                        <p style="text-align: center; margin-top: 20px; font-size: 12px; color: var(--color-text-light);">  
                            *ìŠ¤íƒ¬í”„ 50ê°œ ì´ìƒ ëˆ„ì ì‹œ ìíœ´ë ˆí„°VIPê°€ ë©ë‹ˆë‹¤! <br>  
                            (ê°‘ìê¸° ê¹œì§ ìŠ¤íì…œë ˆí„°ë¥¼ ë³´ë‚´ë“œë¦´ê²Œìš”â¤ï¸)  
                        </p>  
                    </div>  
                </div>  
            `;  
        }  
  
        // ê²Œì‹œë¬¼ ìƒì„¸ í…œí”Œë¦¿  
        function getPostDetailTemplate(postId) {  
            const post = posts.find(p => p.id === postId);  
            if (!post) return '';  
  
            const authorProfile = users.find(u => u.name === post.author);  
            const isLiked = post.likedBy.includes(currentUser?.id);  
            const isBookmarked = post.bookmarkedBy.includes(currentUser?.id);  
  
            return `  
                <div class="container fade-in">  
                    <div class="detail-header">  
                        <h2 style="color: var(--color-primary);">ê²Œì‹œë¬¼ ìƒì„¸</h2>  
                    </div>  
  
                    <div class="detail-content">  
                        <div class="post-header">  
                            <div class="post-avatar" style="background: ${authorProfile ? getAdminColor(authorProfile.name) : '#9B59B6'}">${authorProfile ? authorProfile.avatar : 'ì'}</div>  
                            <div class="post-info">  
                                <h4>${post.author}</h4>  
                                <p>${post.date}</p>  
                            </div>  
                        </div>  
                        <div class="post-content" style="font-size: 16px; line-height: 1.6; margin: 20px 0;">  
                            ${post.content}  
                        </div>  
                        ${post.image ? `<img src="${post.image}" alt="ê²Œì‹œë¬¼ ì´ë¯¸ì§€" style="width: 100%; border-radius: 10px; margin-bottom: 20px;">` : ''}  
                    </div>  
  
                    <div class="detail-actions">  
                        <button class="action-btn ${isLiked ? 'active' : ''}" onclick="toggleLike(event, ${post.id})">  
                            â¤ï¸ ${post.likes}  
                        </button>  
                        <button class="action-btn">  
                            ğŸ’¬ ${post.comments}  
                        </button>  
                        <button class="action-btn ${isBookmarked ? 'active' : ''}" onclick="toggleBookmark(event, ${post.id})">  
                            ğŸ”– ë¶ë§ˆí¬  
                        </button>  
                    </div>  
  
                    <button class="action-button" style="width: 100%; margin-top: 20px;" onclick="renderTab('editor-talk')">  
                        ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°  
                    </button>  
                </div>  
            `;  
        }  
  
        // ì»¨í…ì¸  ëª©ë¡ í…œí”Œë¦¿  
        function getContentListTemplate(type) {  
            const titles = {  
                'mypost': 'ë‚´ê°€ ì“´ ê¸€',  
                'mycomment': 'ë‚˜ì˜ ëŒ“ê¸€',  
                'mylike': 'ì¢‹ì•„ìš”í•œ ê¸€',  
                'mybookmark': 'ë¶ë§ˆí¬í•œ ê¸€',  
                'mystamp': 'ìíœ´ ìŠ¤íƒ¬í”„'  
            };  
  
            return `  
                <div class="container fade-in">  
                    <div class="detail-header">  
                        <h2 style="color: var(--color-primary);">${titles[type]}</h2>  
                    </div>  
  
                    <div class="glass-card" style="padding: 30px; text-align: center;">  
                        <p style="font-size: 16px; color: var(--color-text-light); margin-bottom: 20px;">  
                            ${titles[type]} ë°ì´í„°ê°€ ì—¬ê¸°ì— ì—°ë™ë©ë‹ˆë‹¤  
                        </p>  
                        <p>- 12/10: í…ŒìŠ¤íŠ¸ ê²Œì‹œë¬¼ 1</p>  
                        <p>- 12/08: í…ŒìŠ¤íŠ¸ ê²Œì‹œë¬¼ 2</p>  
                        <p style="margin-top: 20px; color: var(--color-primary); font-weight: 600;">  
                            âœ… í•´ë‹¹ í˜ì´ì§€ ë Œë”ë§ìœ¼ë¡œ ê¸°ëŠ¥ ì—°ë™ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤  
                        </p>  
                    </div>  
  
                    <button class="action-button" style="width: 100%; margin-top: 20px;" onclick="renderTab('mypage')">  
                        ë§ˆì´í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°  
                    </button>  
                </div>  
            `;  
        }  
  
        // ê´€ë¦¬ì ìƒ‰ìƒ í•¨ìˆ˜  
        function getAdminColor(name) {  
            const colors = {  
                'í–…ì”¨': '#9B59B6',  
                'ì—˜ë¦¬': '#E74C3C',  
                'ê³ ì¹¼': '#3498DB',  
                'ìœ ë‹¨': '#2ECC71',  
                'ì¨ë‹ˆ': '#F39C12'  
            };  
            return colors[name] || '#9B59B6';  
        }  
  
        // ë Œë”ë§ í•¨ìˆ˜  
        function renderTab(tabName, actionType = null) {  
            currentTab = tabName;  
            const app = document.getElementById('app');  
            app.innerHTML = '';  
  
            // ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸  
            document.querySelectorAll('.nav-item').forEach(item => {  
                item.classList.remove('active');  
                if (item.getAttribute('data-tab') === tabName) {  
                    item.classList.add('active');  
                }  
            });  
  
            if (actionType && ['mypost', 'mycomment', 'mylike', 'mybookmark', 'mystamp'].includes(actionType)) {  
                app.innerHTML = getContentListTemplate(actionType);  
                return;  
            }  
  
            switch (tabName) {  
                case 'home':  
                    app.innerHTML = getHomeTemplate();  
                    break;  
                case 'letter':  
                    app.innerHTML = getLetterTemplate();  
                    break;  
                case 'editor-talk':  
                    app.innerHTML = getEditorTalkTemplate();  
                    break;  
                case 'mood':  
                    app.innerHTML = getMoodTemplate();  
                    break;  
                case 'mypage':  
                    app.innerHTML = getMyPageTemplate();  
                    break;  
                default:  
                    app.innerHTML = '<div class="container"><div class="glass-card"><p>í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></div></div>';  
            }  
  
            window.scrollTo(0, 0);  
        }  
  
        // í•„í„°ë§ í•¨ìˆ˜  
        function filterLetters(category) {  
            currentLetterFilter = category;  
            renderTab('letter');  
        }  
  
        // ê¸€ì“°ê¸° ëª¨ë‹¬  
        function openWriteModal() {  
            document.getElementById('writeModal').classList.remove('hide');  
        }  
  
        function closeWriteModal() {  
            document.getElementById('writeModal').classList.add('hide');  
            selectedImage = null;  
            document.getElementById('writeContent').value = '';  
            document.getElementById('imageUploadArea').innerHTML = `  
                <div style="font-size: 32px; margin-bottom: 8px;">ğŸ“·</div>  
                <p>ì‚¬ì§„ ì¶”ê°€í•˜ê¸°</p>  
            `;  
        }  
  
        // ì´ë¯¸ì§€ ì—…ë¡œë“œ  
        function handleImageUpload(event) {  
            const file = event.target.files[0];  
            if (file) {  
                const reader = new FileReader();  
                reader.onload = function(e) {  
                    selectedImage = e.target.result;  
                    document.getElementById('imageUploadArea').innerHTML = `  
                        <img src="${selectedImage}" alt="ì„ íƒëœ ì´ë¯¸ì§€" style="max-width: 100%; max-height: 200px; border-radius: 10px; margin-bottom: 8px;">  
                        <p>ì‚¬ì§„ ë³€ê²½í•˜ê¸°</p>  
                    `;  
                };  
                reader.readAsDataURL(file);  
            }  
        }  
  
        // ê²Œì‹œë¬¼ ì œì¶œ  
        function submitPost() {  
            if (!currentUser || currentUser.role === 'user') {  
                alert('ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');  
                return;  
            }  
  
            const content = document.getElementById('writeContent').value;  
            if (!content) {  
                alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
  
            const newPost = {  
                id: posts.length + 1,  
                author: currentUser.name,  
                content: content,  
                date: new Date().toLocaleDateString('ko-KR'),  
                category: 'editor-talk',  
                likes: 0,  
                comments: 0,  
                likedBy: [],  
                bookmarkedBy: [],  
                image: selectedImage  
            };  
  
            posts.unshift(newPost);  
            closeWriteModal();  
            renderTab('editor-talk');  
            alert('ê²Œì‹œë¬¼ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');  
        }  
  
        // ì¢‹ì•„ìš” í† ê¸€  
        function toggleLike(event, postId) {  
            event.stopPropagation();  
            if (!currentUser) {  
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');  
                return;  
            }  
  
            const post = posts.find(p => p.id === postId);  
            if (!post) return;  
  
            const userIndex = post.likedBy.indexOf(currentUser.id);  
            if (userIndex > -1) {  
                post.likedBy.splice(userIndex, 1);  
                post.likes--;  
            } else {  
                post.likedBy.push(currentUser.id);  
                post.likes++;  
            }  
  
            renderTab('editor-talk');  
        }  
  
        // ë¶ë§ˆí¬ í† ê¸€  
        function toggleBookmark(event, postId) {  
            event.stopPropagation();  
            if (!currentUser) {  
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');  
                return;  
            }  
  
            const post = posts.find(p => p.id === postId);  
            if (!post) return;  
  
            const userIndex = post.bookmarkedBy.indexOf(currentUser.id);  
            if (userIndex > -1) {  
                post.bookmarkedBy.splice(userIndex, 1);  
            } else {  
                post.bookmarkedBy.push(currentUser.id);  
            }  
  
            renderTab('editor-talk');  
        }  
  
        // ìƒì„¸í˜ì´ì§€ ë³´ê¸°  
        function showPostDetail(postId) {  
            const app = document.getElementById('app');  
            app.innerHTML = getPostDetailTemplate(postId);  
        }  
  
        // ì»¨í…ì¸  ëª©ë¡ ë³´ê¸°  
        function showContentList(type) {  
            renderTab('content-list', type);  
        }  
  
        // ë¡œê·¸ì•„ì›ƒ  
        function handleLogout() {  
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {  
                currentUser = null;  
                renderTab('home');  
            }  
        }  
  
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ  
        document.addEventListener('click', handleAppClicks);  
  
        function handleAppClicks(e) {  
            const target = e.target.closest('[data-tab], .action-button, .mypage-button');  
            if (!target) return;  
  
            if (target.hasAttribute('data-tab')) {  
                e.preventDefault();  
                const tab = target.getAttribute('data-tab');  
                renderTab(tab);  
            }  
        }  
  
        // ì´ˆê¸° ë¡œë“œ  
        window.addEventListener('DOMContentLoaded', () => {  
            // ìë™ ë¡œê·¸ì¸ (í…ŒìŠ¤íŠ¸ìš©)  
            currentUser = users.find(u => u.id === 'hyeran@example.com');  
            document.getElementById('loginModal').classList.add('hide');  
            renderTab('home');  
        });  
    </script>  
</body>  
</html>  
