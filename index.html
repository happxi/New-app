
<!DOCTYPE html>  
<html lang="ko">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>ìíœ´ë ˆí„° - ììœ ë¡œìš´ ë‹¹ì‹ ì˜ íœ´ì‹ ê°€ì´ë“œ</title>  
    <script src="https://cdn.tailwindcss.com"></script>  
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">  
    <style>  
        * {  
            font-family: 'Noto Sans KR', sans-serif;  
        }  
          
        /* ğŸ¨ íŠ¸ë Œë””í•œ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ */  
        :root {  
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);  
            --bg-gradient: linear-gradient(135deg, #e0e7ff 0%, #f3e7e9 100%);  
            --card-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);  
            --primary-blue: #667eea;  
            --soft-blue: #e0e7ff;  
            --accent-pink: #f093fb;  
            --text-dark: #4a5568;  
            --text-light: #718096;  
            --glass-bg: rgba(255, 255, 255, 0.9);  
            --new-badge-gradient: linear-gradient(135deg, #ff6b6b 0%, #ff8787 100%);  
            --secret-bg: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);  
            --happxi-bg: linear-gradient(135deg, #ffd70020 0%, #ffb34720 100%);  
        }  
  
        body {  
            background: var(--bg-gradient);  
            min-height: 100vh;  
            overflow-x: hidden;  
        }  
  
        /* âœ¨ ìœ ë¦¬ì§ˆê° ë””ìì¸ */  
        .glass-card {  
            background: var(--glass-bg);  
            backdrop-filter: blur(15px);  
            border: 1px solid rgba(255, 255, 255, 0.3);  
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.1);  
        }  
  
        /* ğŸ”’ ë³´ì•ˆ 10ë‹¨ê³„ ê°•í™” - í”„ë¼ì´ë²„ì‹œ ë³´í˜¸ ë””ìì¸ */  
        .privacy-protected {  
            background: var(--secret-bg);  
            backdrop-filter: blur(15px);  
            border: 2px solid rgba(102, 126, 234, 0.15);  
            border-radius: 20px;  
            padding: 20px;  
            position: relative;  
            overflow: hidden;  
        }  
  
        .privacy-protected::before {  
            content: 'ğŸ”’';  
            position: absolute;  
            top: 8px;  
            right: 8px;  
            font-size: 16px;  
            opacity: 0.2;  
            animation: privacyPulse 3s ease-in-out infinite;  
        }  
  
        /* ğŸ‘‘ í–…ì”¨ ì „ìš© ê´€ë¦¬ì ë””ìì¸ */  
        .happxi-admin {  
            background: var(--happxi-bg);  
            backdrop-filter: blur(15px);  
            border: 2px solid rgba(255, 215, 0, 0.3);  
            border-radius: 20px;  
            padding: 20px;  
            position: relative;  
            overflow: hidden;  
        }  
  
        .happxi-admin::before {  
            content: 'ğŸ‘‘';  
            position: absolute;  
            top: 8px;  
            right: 8px;  
            font-size: 18px;  
            animation: crownFloat 2s ease-in-out infinite;  
        }  
  
        @keyframes privacyPulse {  
            0%, 100% { opacity: 0.2; transform: scale(1); }  
            50% { opacity: 0.3; transform: scale(1.1); }  
        }  
  
        @keyframes crownFloat {  
            0%, 100% { transform: translateY(0px) rotate(0deg); }  
            50% { transform: translateY(-3px) rotate(5deg); }  
        }  
  
        /* ğŸŒŸ í”„ë¦¬ë¯¸ì—„ ë²„íŠ¼ ë””ìì¸ */  
        .premium-btn {  
            background: var(--primary-gradient);  
            color: white;  
            padding: 12px 24px;  
            border-radius: 25px;  
            font-weight: 500;  
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);  
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);  
        }  
  
        .premium-btn:hover {  
            transform: translateY(-2px);  
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);  
        }  
  
        /* ğŸ’– í¸ì§€ ìŠ¤íƒ€ì¼ ì•Œë¦¼ ë””ìì¸ */  
        .letter-notification {  
            position: fixed;  
            top: 20px;  
            left: 50%;  
            transform: translateX(-50%);  
            z-index: 9999;  
            background: var(--glass-bg);  
            backdrop-filter: blur(20px);  
            border: 2px solid rgba(102, 126, 234, 0.2);  
            border-radius: 20px;  
            padding: 20px;  
            min-width: 300px;  
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);  
        }  
  
        .letter-notification::before {  
            content: 'ğŸ’Œ';  
            position: absolute;  
            top: -15px;  
            right: -15px;  
            font-size: 50px;  
            opacity: 0.2;  
            animation: float 3s ease-in-out infinite;  
        }  
  
        @keyframes float {  
            0%, 100% { transform: translateY(0px) rotate(0deg); }  
            50% { transform: translateY(-10px) rotate(10deg); }  
        }  
  
        /* ğŸ†• NEW ë±ƒì§€ ë””ìì¸ */  
        .new-badge {  
            background: var(--new-badge-gradient);  
            color: white;  
            padding: 4px 10px;  
            border-radius: 15px;  
            font-size: 11px;  
            font-weight: bold;  
            animation: pulse 2s infinite;  
            box-shadow: 0 2px 8px rgba(255, 107, 107, 0.3);  
        }  
  
        @keyframes pulse {  
            0%, 100% { transform: scale(1); }  
            50% { transform: scale(1.05); }  
        }  
  
        /* ğŸ¯ ì„¸ë ¨ëœ ì¹´ë“œ ë””ìì¸ */  
        .trend-card {  
            background: var(--glass-bg);  
            backdrop-filter: blur(15px);  
            border-radius: 20px;  
            padding: 20px;  
            border: 1px solid rgba(255, 255, 255, 0.2);  
            transition: all 0.3s ease;  
            cursor: pointer;  
        }  
  
        .trend-card:hover {  
            transform: translateY(-5px);  
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.2);  
        }  
  
        /* ğŸ“± ëª¨ë°”ì¼ ìµœì í™” ë„¤ë¹„ê²Œì´ì…˜ */  
        .bottom-nav {  
            position: fixed;  
            bottom: 0;  
            left: 0;  
            right: 0;  
            height: 70px;  
            z-index: 1000;  
            background: var(--glass-bg);  
            backdrop-filter: blur(20px);  
            border-top: 1px solid rgba(102, 126, 234, 0.1);  
        }  
  
        .nav-item {  
            display: flex;  
            flex-direction: column;  
            align-items: center;  
            justify-content: center;  
            height: 100%;  
            color: var(--text-light);  
            text-decoration: none;  
            transition: all 0.3s ease;  
            position: relative;  
            padding: 5px 10px;  
        }  
  
        .nav-item.active {  
            color: var(--primary-blue);  
        }  
  
        .nav-item::before {  
            content: '';  
            position: absolute;  
            top: 0;  
            left: 50%;  
            transform: translateX(-50%);  
            width: 30px;  
            height: 3px;  
            background: var(--primary-gradient);  
            border-radius: 2px;  
            opacity: 0;  
            transition: opacity 0.3s ease;  
        }  
  
        .nav-item.active::before {  
            opacity: 1;  
        }  
  
        /* ğŸ¨ ê¸°ë¶„ íŠ¸ë˜ì»¤ ë””ìì¸ */  
        .mood-item {  
            width: 50px;  
            height: 50px;  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-size: 24px;  
            cursor: pointer;  
            transition: all 0.3s ease;  
            border: 3px solid transparent;  
            background: rgba(255, 255, 255, 0.8);  
        }  
  
        .mood-item:hover {  
            transform: scale(1.1);  
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);  
        }  
  
        .mood-item.selected {  
            border-color: var(--primary-blue);  
            background: var(--soft-blue);  
            transform: scale(1.15);  
        }  
  
        /* ğŸ“¸ ëª¨ë¨¼íŠ¸ í”¼ë“œ ë””ìì¸ */  
        .moment-card {  
            background: var(--glass-bg);  
            backdrop-filter: blur(15px);  
            border-radius: 20px;  
            padding: 20px;  
            margin-bottom: 20px;  
            border: 1px solid rgba(255, 255, 255, 0.2);  
            transition: all 0.3s ease;  
        }  
  
        .moment-card:hover {  
            transform: translateY(-3px);  
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);  
        }  
  
        /* ğŸ­ ëª¨ë‹¬ ë””ìì¸ */  
        .modal {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.5);  
            backdrop-filter: blur(10px);  
            z-index: 2000;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            opacity: 0;  
            visibility: hidden;  
            transition: all 0.3s ease;  
        }  
  
        .modal.active {  
            opacity: 1;  
            visibility: visible;  
        }  
  
        .modal-content {  
            background: var(--glass-bg);  
            backdrop-filter: blur(20px);  
            border-radius: 25px;  
            padding: 30px;  
            max-width: 500px;  
            width: 90%;  
            max-height: 90vh;  
            overflow-y: auto;  
            transform: scale(0.7);  
            transition: transform 0.3s ease;  
        }  
  
        .modal.active .modal-content {  
            transform: scale(1);  
        }  
  
        /* ğŸ“ ì‘ì„± ì˜ì—­ ë””ìì¸ */  
        .compose-textarea {  
            width: 100%;  
            min-height: 150px;  
            border-radius: 15px;  
            border: 2px solid rgba(102, 126, 234, 0.2);  
            padding: 15px;  
            resize: none;  
            background: rgba(255, 255, 255, 0.8);  
            font-family: 'Noto Sans KR', sans-serif;  
            transition: border-color 0.3s ease;  
        }  
  
        .compose-textarea:focus {  
            outline: none;  
            border-color: var(--primary-blue);  
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);  
        }  
  
        /* ğŸ­ ë¡œê·¸ì¸ í™”ë©´ ë””ìì¸ */  
        .login-input {  
            width: 100%;  
            padding: 12px 16px;  
            border-radius: 15px;  
            border: 2px solid rgba(102, 126, 234, 0.2);  
            background: rgba(255, 255, 255, 0.8);  
            transition: all 0.3s ease;  
            margin-bottom: 15px;  
        }  
  
        .login-input:focus {  
            outline: none;  
            border-color: var(--primary-blue);  
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);  
        }  
  
        /* ë°˜ì‘í˜• ë””ìì¸ */  
        .hide { display: none !important; }  
        .fade-in { animation: fadeIn 0.5s ease-out; }  
          
        @keyframes fadeIn {  
            from { opacity: 0; transform: translateY(20px); }  
            to { opacity: 1; transform: translateY(0); }  
        }  
  
        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” */  
        ::-webkit-scrollbar {  
            width: 8px;  
        }  
  
        ::-webkit-scrollbar-track {  
            background: rgba(255, 255, 255, 0.1);  
        }  
  
        ::-webkit-scrollbar-thumb {  
            background: var(--primary-blue);  
            border-radius: 4px;  
        }  
  
        ::-webkit-scrollbar-thumb:hover {  
            background: var(--accent-pink);  
        }  
  
        /* ğŸ’¬ ì—ë””í„°í†¡ ì‘ì„± ì˜ì—­ */  
        .editor-compose {  
            background: var(--glass-bg);  
            backdrop-filter: blur(15px);  
            border: 2px solid rgba(102, 126, 234, 0.2);  
            border-radius: 20px;  
            padding: 20px;  
            margin-bottom: 20px;  
        }  
  
        .interaction-btn {  
            background: rgba(255, 255, 255, 0.8);  
            border: 2px solid rgba(102, 126, 234, 0.2);  
            border-radius: 12px;  
            padding: 6px 12px;  
            font-size: 12px;  
            cursor: pointer;  
            transition: all 0.2s ease;  
            margin-right: 8px;  
        }  
  
        .interaction-btn:hover {  
            background: var(--soft-blue);  
            border-color: var(--primary-blue);  
        }  
  
        .interaction-btn.liked {  
            background: var(--primary-blue);  
            color: white;  
            border-color: var(--primary-blue);  
        }  
    </style>  
</head>  
<body>  
  
<!-- âœ‰ï¸ ì €ë… 6ì‹œ í¸ì§€ ì•Œë¦¼ -->  
<div id="letterNotification" class="letter-notification hide">  
    <div class="text-center">  
        <div class="text-2xl mb-2">ğŸ’Œ</div>  
        <h3 class="text-lg font-bold mb-1" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
            í–…ì‚ë‹˜ì˜ í¸ì§€ê°€ ë„ì°©í–ˆì–´ìš”!  
        </h3>  
        <p class="text-sm text-gray-600 mb-4">  
            ì •ë§ ê³ ìƒë§ì•˜ì–´ìš”! ì˜¤ëŠ˜ í•˜ë£¨ë¥¼ ê¸°ë¡í•˜ëŸ¬ ê°€ë³¼ê¹Œìš”?  
        </p>  
        <button onclick="openTodayMood()" class="premium-btn w-full">  
            ì§€ê¸ˆ ê¸°ë¡í•˜ê¸° âœ¨  
        </button>  
    </div>  
</div>  
  
<div id="appContainer" class="min-h-screen pb-[70px]">  
  
    <!-- ğŸ  í™ˆí˜ì´ì§€ -->  
    <section id="homePage" class="p-5 pt-16 fade-in">  
        <div class="text-center mb-8">  
            <h1 class="text-3xl font-bold mb-2" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
                í–…ì‚ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”!  
            </h1>  
            <p class="text-gray-600">ë©”ë§ˆë¥¸ ì¼ìƒì— íœ´ì‹ í•œ ë°©ìš¸!</p>  
        </div>  
  
        <div class="glass-card rounded-3xl p-6 mb-6">  
            <div class="flex items-center justify-between">  
                <div>  
                    <h3 class="text-xl font-bold text-gray-800" id="userGreeting">í˜œë€ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”! ğŸŒ¿</h3>  
                    <p class="text-sm text-gray-600 mt-1">ë‹¹ì‹ ì˜ íë§ì„ ìœ„í•œ, ìíœ´ë ˆí„°</p>  
                </div>  
                <div class="text-4xl animate-pulse">ğŸ’–</div>  
            </div>  
        </div>  
  
        <div class="mb-6">  
            <h3 class="text-xl font-bold mb-4 text-gray-800">HOT TREND</h3>  
            <div class="trend-card" onclick="openHealingTypeTest()">  
                <div class="flex items-center justify-between">  
                    <div>  
                        <h4 class="font-bold text-lg text-gray-800">ë‚˜ë§Œì˜ íë§ ìœ í˜• TEST</h4>  
                        <p class="text-sm text-gray-600 mt-1">ë‚˜ì—ê²Œ ë”± ë§ëŠ” íœ´ì‹ì„ ì°¾ì•„ë³´ì!</p>  
                    </div>  
                    <div class="text-2xl">âœ¨</div>  
                </div>  
            </div>  
        </div>  
  
        <div class="grid grid-cols-3 gap-4">  
            <button class="glass-card rounded-2xl p-4 text-center transition hover:shadow-lg" onclick="openChat()">  
                <div class="text-3xl mb-2">ğŸ’¬</div>  
                <span class="text-xs text-gray-600">1:1 ì¹´í†¡</span>  
            </button>  
            <button class="glass-card rounded-2xl p-4 text-center transition hover:shadow-lg" onclick="openSentenceCollection()">  
                <div class="text-3xl mb-2">ğŸ“–</div>  
                <span class="text-xs text-gray-600">ë¬¸ì¥ ìˆ˜ì§‘</span>  
            </button>  
            <button class="glass-card rounded-2xl p-4 text-center transition hover:shadow-lg" onclick="openLetterView()">  
                <div class="text-3xl mb-2">ğŸ’Œ</div>  
                <span class="text-xs text-gray-600">ë ˆí„° ë³´ê¸°</span>  
            </button>  
        </div>  
    </section>  
  
    <!-- ğŸ“¬ ë ˆí„° í˜ì´ì§€ -->  
    <section id="newsletterPage" class="p-5 pt-16 hide fade-in">  
        <h2 class="text-3xl font-bold mb-4 text-gray-800">ìíœ´ë ˆí„° ì•„ì¹´ì´ë¸Œ</h2>  
        <p class="text-gray-600 mb-6">ìíœ´ë ˆí„°ì™€ ìíœ´ë©ì„ ì£¼ì œë³„ë¡œ í•œ ëˆˆì—!</p>  
  
        <div class="flex mb-6">  
            <button class="premium-btn mr-4" onclick="filterLetters('jahyuLetter')">  
                <span class="font-bold" style="color: #667eea;">ìíœ´ë ˆí„°</span>  
            </button>  
            <button class="premium-btn" onclick="filterLetters('jahyuLab')">  
                <span class="font-bold" style="color: #f093fb;">ìíœ´ë©</span>  
            </button>  
        </div>  
  
        <div class="space-y-4" id="letterFeed">  
            <div class="glass-card rounded-2xl p-5" data-category="jahyuLetter">  
                <h4 class="text-lg font-bold text-gray-800 mb-1">32í˜¸. í‡´ì‚¬ í›„ ë²ˆì•„ì›ƒ, ì €ë§Œ ì´ëŸ°ê°€ìš”?</h4>  
                <p class="text-sm text-gray-600">í‡´ì‚¬ í›„ì—ë„ ì‰¬ì§€ ëª»í•˜ëŠ” ë‹¹ì‹ ì—ê²Œ...</p>  
                <div class="mt-3 text-xs text-gray-500">3ì¼ ì „</div>  
            </div>  
              
            <div class="glass-card rounded-2xl p-5" data-category="jahyuLetter">  
                <h4 class="text-lg font-bold text-gray-800 mb-1">31í˜¸. ì£¼ë§ì—ë„ ì¼ìƒê°ì´ ë©ˆì¶”ì§€ ì•Šì•„ìš”</h4>  
                <p class="text-sm text-gray-600">ì™„ì „í•œ íœ´ì‹ì„ ìœ„í•œ ë§ˆìŒ ë²—ê¸°ê¸°ë²•</p>  
                <div class="mt-3 text-xs text-gray-500">1ì£¼ì¼ ì „</div>  
            </div>  
        </div>  
    </section>  
  
    <!-- ğŸ’¬ ì—ë””í„°í†¡ í˜ì´ì§€ -->  
    <section id="editorTalkPage" class="p-5 pt-16 hide fade-in">  
        <div class="flex items-center justify-between mb-6">  
            <div>  
                <h2 class="text-3xl font-bold text-gray-800">ì—ë””í„° í†¡</h2>  
                <p class="text-gray-600 mt-1" id="editorTalkDescription">ì—ë””í„°ì™€ í–…ì‚ë‹˜ë“¤ì´ ì†Œí†µí•˜ëŠ” ê³µê°„</p>  
            </div>  
        </div>  
  
        <!-- ğŸ“ ê´€ë¦¬ì ì „ìš© ì‘ì„± ì˜ì—­ -->  
        <div id="editorComposeArea" class="editor-compose hide">  
            <form onsubmit="submitEditorPost(event)">  
                <h4 class="font-bold text-gray-800 mb-3">ğŸ“ ì—ë””í„°ë‹˜ ê¸€ì“°ê¸°</h4>  
                <textarea placeholder="í–…ì‚ë‹˜ë“¤ì—ê²Œ ì‘ì›ì˜ ë©”ì‹œì§€ë¥¼ ì „í•´ì£¼ì„¸ìš”!" rows="4" class="compose-textarea mb-3" id="editorContent"></textarea>  
                <button type="submit" class="premium-btn">  
                    ê²Œì‹œí•˜ê¸° ğŸ’¬  
                </button>  
            </form>  
        </div>  
  
        <div id="editorTalkFeed" class="space-y-4">  
            <!-- ì—ë””í„°í†¡ í”¼ë“œê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->  
        </div>  
    </section>  
  
    <!-- ğŸ“¸ ëª¨ë¨¼íŠ¸ í˜ì´ì§€ -->  
    <section id="momentPage" class="p-5 pt-16 hide fade-in">  
        <div class="flex items-center justify-between mb-6">  
            <div>  
                <h2 class="text-3xl font-bold text-gray-800">ëª¨ë¨¼íŠ¸</h2>  
                <p class="text-gray-600 mt-1">í–…ì‚ë‹˜ë“¤ì˜ ì¼ìƒì´ ê¶ê¸ˆí•´ìš”! í–‰ë³µí•œ ìˆœê°„ë“¤ì„ ê³µìœ í•´ì£¼ì„¸ìš”!</p>  
            </div>  
            <button onclick="openMomentCompose()" class="premium-btn">  
                ì‘ì„±í•˜ê¸° âœ¨  
            </button>  
        </div>  
          
        <div id="momentsFeed" class="space-y-4">  
            <div class="moment-card">  
                <div class="flex items-center mb-3">  
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-400 to-red-400 flex items-center justify-center text-white font-bold mr-3">  
                        í˜œ  
                    </div>  
                    <div class="flex-1">  
                        <p class="font-bold text-gray-800">í˜œë€</p>  
                        <p class="text-xs text-gray-500">3ì‹œê°„ ì „</p>  
                    </div>  
                </div>  
                <p class="text-gray-700 mb-3">ì˜¤ëŠ˜ì€ ë‚ ì”¨ë„ ì¢‹ê³  ì¹´í˜ì—ì„œ ì—¬ìœ ë¡­ê²Œ ì‰¬ê³  ìˆì–´ìš” â˜•ï¸âœ¨</p>  
                <img src="https://picsum.photos/seed/cafe1/400/300.jpg" alt="ì¹´í˜ ì´ë¯¸ì§€" class="w-full rounded-xl mb-3">  
                <div class="flex items-center justify-between text-sm text-gray-600">  
                    <div class="flex gap-4">  
                        <span>ğŸ’™ 12</span>  
                        <span>ğŸ’¬ 3</span>  
                    </div>  
                    <span>ğŸ‘ï¸ 234</span>  
                </div>  
            </div>  
        </div>  
    </section>  
  
    <!-- ğŸ‘¤ ë§ˆì´í˜ì´ì§€ -->  
    <section id="myPage" class="p-5 pt-16 hide fade-in">  
        <h2 class="text-3xl font-bold mb-4 text-gray-800">ë§ˆì´í˜ì´ì§€</h2>  
          
        <div class="glass-card rounded-2xl p-6 mb-6">  
            <div class="flex items-center">  
                <div class="w-20 h-20 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center text-white text-2xl font-bold mr-4" id="profileAvatar">  
                    í˜œ  
                </div>  
                <div>  
                    <h3 class="text-xl font-bold text-gray-800" id="profileName">í˜œë€</h3>  
                    <p class="text-gray-600" id="profileEmail">hyeran@example.com</p>  
                    <div class="mt-2">  
                        <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs" id="profileRole">ì¼ë°˜ íšŒì›</span>  
                    </div>  
                </div>  
            </div>  
        </div>  
          
        <div class="space-y-3 mb-6">  
            <button class="w-full glass-card rounded-2xl p-4 text-left">  
                <span class="font-medium text-gray-800">ì„¤ì •</span>  
            </button>  
            <button class="w-full glass-card rounded-2xl p-4 text-left">  
                <span class="font-medium text-gray-800">ì•Œë¦¼</span>  
            </button>  
            <button class="w-full glass-card rounded-2xl p-4 text-left">  
                <span class="font-medium text-gray-800">ê³ ê°ì„¼í„°</span>  
            </button>  
        </div>  
          
        <button onclick="handleLogout()" class="w-full bg-red-500 text-white rounded-2xl p-4 font-medium hover:bg-red-600 transition">  
            ë¡œê·¸ì•„ì›ƒ  
        </button>  
    </section>  
</div>  
  
<!-- ğŸ“ ë‹¤ì´ì–´ë¦¬ ì‘ì„± ëª¨ë‹¬ -->  
<div id="diaryModal" class="modal" onclick="closeModal('diaryModal')">  
    <div class="modal-content" onclick="event.stopPropagation()">  
        <div class="flex items-center justify-between mb-6">  
            <h3 class="text-2xl font-bold" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
                ì˜¤ëŠ˜ì˜ ê¸°ë¡ âœ¨  
            </h3>  
            <button onclick="closeModal('diaryModal')" class="text-gray-500 hover:text-gray-700">  
                âœ•  
            </button>  
        </div>  
          
        <form onsubmit="submitDiary(event)">  
            <div class="mb-6">  
                <p class="text-sm font-medium text-gray-700 mb-3">ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ì–´ë–¤ê°€ìš”?</p>  
                <div class="flex gap-2 justify-center flex-wrap">  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜„', 'í–‰ë³µ')" data-mood="í–‰ë³µ">ğŸ˜„</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜Œ', 'í‰ì˜¨')" data-mood="í‰ì˜¨">ğŸ˜Œ</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ¥°', 'ì„¤ë ˜')" data-mood="ì„¤ë ˜">ğŸ¥°</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜©', 'ì§€ì¹¨')" data-mood="ì§€ì¹¨">ğŸ˜©</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜ ', 'ë¶„ë…¸')" data-mood="ë¶„ë…¸">ğŸ˜ </div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜¢', 'ìŠ¬í””')" data-mood="ìŠ¬í””">ğŸ˜¢</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜Ÿ', 'ë¶ˆì•ˆ')" data-mood="ë¶ˆì•ˆ">ğŸ˜Ÿ</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜', 'ë¬´ê´€ì‹¬')" data-mood="ë¬´ê´€ì‹¬">ğŸ˜</div>  
                </div>  
            </div>  
              
            <input type="text" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒ)" class="w-full p-3 rounded-xl border-2 border-gray-200 mb-4 focus:border-purple-400 focus:outline-none" id="diaryTitle">  
              
            <textarea placeholder="ì˜¤ëŠ˜ì€ ì–´ë–¤ í•˜ë£¨ì˜€ë‚˜ìš”?" rows="8" class="compose-textarea mb-4" id="diaryContent"></textarea>  
              
            <button type="submit" class="premium-btn w-full" id="diarySubmitBtn" disabled>  
                ê¸°ë¡ ì™„ë£Œ ğŸ’–  
            </button>  
        </form>  
    </div>  
</div>  
  
<!-- ğŸ“· ëª¨ë¨¼íŠ¸ ì‘ì„± ëª¨ë‹¬ -->  
<div id="momentModal" class="modal" onclick="closeModal('momentModal')">  
    <div class="modal-content" onclick="event.stopPropagation()">  
        <div class="flex items-center justify-between mb-6">  
            <h3 class="text-2xl font-bold" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
                ëª¨ë¨¼íŠ¸ ì‘ì„± ğŸ“¸  
            </h3>  
            <button onclick="closeModal('momentModal')" class="text-gray-500 hover:text-gray-700">  
                âœ•  
            </button>  
        </div>  
          
        <form onsubmit="submitMoment(event)">  
            <div class="mb-4">  
                <div class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center cursor-pointer hover:border-purple-400 transition" onclick="document.getElementById('imageInput').click()">  
                    <div class="text-4xl mb-2">ğŸ“¸</div>  
                    <p class="text-gray-600">ì‚¬ì§„ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”</p>  
                    <p class="text-sm text-gray-500">í´ë¦­ ë˜ëŠ” ë“œë˜ê·¸</p>  
                </div>  
                <input type="file" id="imageInput" accept="image/*" class="hidden" onchange="handleImageUpload(event)">  
            </div>  
              
            <textarea placeholder="ì˜¤ëŠ˜ì˜ ìˆœê°„ì„ ê³µìœ í•´ì£¼ì„¸ìš” ğŸŒŸ" rows="4" class="compose-textarea mb-4" id="momentContent"></textarea>  
              
            <button type="submit" class="premium-btn w-full">  
                ëª¨ë¨¼íŠ¸ ê³µìœ  âœ¨  
            </button>  
        </form>  
    </div>  
</div>  
  
<!-- ğŸ“± í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->  
<nav class="bottom-nav">  
    <a href="#" class="nav-item active" onclick="navigateTo('newsletter', event)">  
        <span class="nav-icon">âœ‰ï¸</span>  
        <span class="nav-text">ë ˆí„°</span>  
    </a>  
    <a href="#" class="nav-item" onclick="navigateTo('editorTalk', event)">  
        <span class="nav-icon">ğŸ’¬</span>  
        <span class="nav-text">ì—ë””í„°í†¡</span>  
    </a>  
    <a href="#" class="nav-item" onclick="navigateTo('moment', event)">  
        <span class="nav-icon">ğŸ“¸</span>  
        <span class="nav-text">ëª¨ë¨¼íŠ¸</span>  
    </a>  
    <a href="#" class="nav-item" onclick="navigateTo('myPage', event)">  
        <span class="nav-icon">ğŸ‘¤</span>  
        <span class="nav-text">ë§ˆì´í˜ì´ì§€</span>  
    </a>  
</nav>  
  
<script>  
    // ğŸ” ë³´ì•ˆ 10ë‹¨ê³„ ê°•í™” - ì¸ì¦ ë° ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œ  
    const appData = {  
        // ì‚¬ìš©ì ë°ì´í„° êµ¬ì¡°  
        users: [  
            // ğŸ‘‘ í–…ì”¨ - ìµœê³  ê´€ë¦¬ì (ëª¨ë“  ì‚¬ìš©ìì˜ ë¬´ë“œ ì ‘ê·¼ ê°€ëŠ¥)  
            {   
                id: 'happxi@jahyu.com',   
                name: 'í–…ì”¨',   
                password: 'admin123',   
                role: 'super_admin',   
                avatar: 'í–…',  
                permissions: ['view_all_moods', 'manage_system', 'write_editor_talk']  
            },  
            // ì¼ë°˜ ê´€ë¦¬ì 4ëª… (ì´ë¦„ ë³€ê²½ ë° ì•„ì´ë”” ìˆ˜ì •)  
            {   
                id: 'elly@jahyu.com',      // ID ë³€ê²½  
                name: 'ì—˜ë¦¬',              // ì´ë¦„ ë³€ê²½  
                password: 'admin123',   
                role: 'admin',   
                avatar: 'ì—˜',  
                permissions: ['basic_access', 'write_editor_talk']  
            },  
            {   
                id: 'gokal@jahyu.com',     // ID ë³€ê²½  
                name: 'ê³ ì¹¼',              // ì´ë¦„ ë³€ê²½  
                password: 'admin123',   
                role: 'admin',   
                avatar: 'ê³ ',  
                permissions: ['basic_access', 'write_editor_talk']  
            },  
            {   
                id: 'yudan@jahyu.com',     // ID ë³€ê²½  
                name: 'ìœ ë‹¨',              // ì´ë¦„ ë³€ê²½  
                password: 'admin123',   
                role: 'admin',   
                avatar: 'ìœ ',  
                permissions: ['basic_access', 'write_editor_talk']  
            },  
            {   
                id: 'sunny@jahyu.com',     // ID ë³€ê²½  
                name: 'ì¨ë‹ˆ',              // ì´ë¦„ ë³€ê²½  
                password: 'admin123',   
                role: 'admin',   
                avatar: 'ì¨',  
                permissions: ['basic_access', 'write_editor_talk']  
            },  
            // ì¼ë°˜ ì‚¬ìš©ì  
            {   
                id: 'hyeran@example.com',   
                name: 'í˜œë€',   
                password: 'user123',   
                role: 'user',   
                avatar: 'í˜œ',  
                permissions: ['basic_access']  
            }  
        ],  
        currentUser: { id: 'hyeran@example.com', name: 'í˜œë€', role: 'user', avatar: 'í˜œ', permissions: ['basic_access'] },  
        diaries: [  
            { id: 1, userId: 'hyeran@example.com', date: '2025-12-10', title: 'ì˜¤ëŠ˜ í•˜ë£¨ ë„ˆë¬´ ì§€ì³¤ì–´ìš”', content: 'ì¼ì´ ë„ˆë¬´ ë§ì•„ì„œ í˜ë“¤ì—ˆì§€ë§Œ, ì§‘ì— ì™€ì„œ ë”°ëœ»í•œ ì°¨ë¥¼ ë§ˆì‹œë‹ˆ ì¡°ê¸ˆ í’€ë¦¬ë„¤ìš”.', emotion: 'ğŸ˜©', moodName: 'ì§€ì¹¨' },  
            { id: 2, userId: 'hyeran@example.com', date: '2025-12-09', title: 'ìƒˆë¡œìš´ ì‹œì‘ì— ëŒ€í•œ ê¸°ëŒ€ì™€ ë¶ˆì•ˆ', content: 'ì„±ì¥í†µì´ê¸°ë¥¼ ë°”ë¼ë©°.', emotion: 'ğŸ˜Œ', moodName: 'í‰ì˜¨' },  
            { id: 3, userId: 'hyeran@example.com', date: '2025-12-07', title: 'ì†Œí™•í–‰, ë”°ëœ»í•œ ë¼ë–¼ í•œ ì”', content: 'ëª¨ë“  í”¼ë¡œê°€ ë…¹ëŠ” ê¸°ë¶„.', emotion: 'ğŸ˜„', moodName: 'í–‰ë³µ' },  
            { id: 4, userId: 'elly@jahyu.com', date: '2025-12-10', title: 'ê´€ë¦¬ìì˜ í•˜ë£¨', content: 'ì˜¤ëŠ˜ë„ ë‹¤ë“¤ ì—´ì‹¬íˆ í•˜ì…¨ë„¤ìš”!', emotion: 'ğŸ¥°', moodName: 'ì„¤ë ˜' },  
            { id: 5, userId: 'happxi@jahyu.com', date: '2025-12-08', title: 'ëª¨ë‘ë¥¼ ì‘ì›í•©ë‹ˆë‹¤', content: 'ì˜¤ëŠ˜ í•˜ë£¨ë„ ìˆ˜ê³ í–ˆì–´ìš”!', emotion: 'ğŸ¥°', moodName: 'ì„¤ë ˜' },  
            { id: 6, userId: 'gokal@jahyu.com', date: '2025-12-06', title: 'ì£¼ë§ ê¸°ë‹¤ë ¤ì§', content: 'ì£¼ë§ì— ì‰¬ê³  ì‹¶ì–´ìš”.', emotion: 'ğŸ˜„', moodName: 'í–‰ë³µ' }  
        ],  
        moments: [  
            { id: 1, userId: 'hyeran@example.com', content: 'ì˜¤ëŠ˜ì€ ë‚ ì”¨ë„ ì¢‹ê³  ì¹´í˜ì—ì„œ ì—¬ìœ ë¡­ê²Œ ì‰¬ê³  ìˆì–´ìš” â˜•ï¸âœ¨', likes: 12, comments: 3, views: 234, time: '3ì‹œê°„ ì „' }  
        ],  
        editorTalks: [  
            {   
                id: 1,   
                userId: 'happxi@jahyu.com',   
                content: 'í–…ì‚ë‹˜ë“¤! ì¼ì£¼ì¼ ì˜ ë²„í‹°ì…¨ë‚˜ìš”? ì£¼ë§ì—ëŠ” ì•„ë¬´ ìƒê° ì—†ì´ ì‰¬ì–´ì•¼ í•´ìš”! â˜•ï¸',   
                likes: 45,   
                comments: 8,   
                time: '2ì‹œê°„ ì „',  
                likedBy: []  
            },  
            {   
                id: 2,   
                userId: 'elly@jahyu.com',   
                content: 'ëª¨ë‘ ì˜¤ëŠ˜ í•˜ë£¨ë„ ì •ë§ ìˆ˜ê³  ë§ìœ¼ì…¨ì–´ìš”! ë‚´ì¼ì€ ë” ë¹›ë‚  ê±°ì˜ˆìš” âœ¨',   
                likes: 23,   
                comments: 5,   
                time: '5ì‹œê°„ ì „',  
                likedBy: []  
            }  
        ]  
    };  
  
    let selectedMood = { icon: '', name: '' };  
    let currentTab = 'newsletter';  
  
    // ğŸš€ ì•± ì´ˆê¸°í™”  
    function initApp() {  
        showMainApp();  
        setupEventListeners();  
    }  
  
    // ğŸ“± ë©”ì¸ ì•± í‘œì‹œ  
    function showMainApp() {  
        document.getElementById('appContainer').classList.remove('hide');  
          
        updateUserProfile();  
        updateEditorTalkPageForRole();  
        navigateTo('newsletter');  
        renderEditorTalks();  
    }  
  
    // ğŸ‘¤ ì‚¬ìš©ì í”„ë¡œí•„ ì—…ë°ì´íŠ¸  
    function updateUserProfile() {  
        if (!appData.currentUser) return;  
          
        const user = appData.currentUser;  
          
        document.getElementById('userGreeting').textContent = `${user.name}ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”! ğŸŒ¿`;  
        document.getElementById('profileAvatar').textContent = user.avatar;  
        document.getElementById('profileName').textContent = user.name;  
        document.getElementById('profileEmail').textContent = user.id;  
          
        let roleText = 'ì¼ë°˜ íšŒì›';  
        let roleClass = 'bg-purple-100 text-purple-800';  
          
        if (user.role === 'super_admin') {  
            roleText = 'ğŸ‘‘ í–…ì”¨ (ìµœê³  ê´€ë¦¬ì)';  
            roleClass = 'bg-yellow-100 text-yellow-800';  
        } else if (user.role === 'admin') {  
            roleText = 'ê´€ë¦¬ì';  
            roleClass = 'bg-blue-100 text-blue-800';  
        }  
          
        const roleElement = document.getElementById('profileRole');  
        if (roleElement) {  
            roleElement.textContent = roleText;  
            roleElement.className = `${roleClass} px-3 py-1 rounded-full text-xs`;  
        }  
    }  
  
    // ğŸ’¬ ì—­í• ë³„ ì—ë””í„°í†¡ í˜ì´ì§€ ì„¤ì •  
    function updateEditorTalkPageForRole() {  
        const editorDescription = document.getElementById('editorTalkDescription');  
        const composeArea = document.getElementById('editorComposeArea');  
          
        if (!appData.currentUser) return;  
          
        if (isAdmin()) {  
            // ëª¨ë“  ê´€ë¦¬ìëŠ” ê¸€ì“°ê¸° ê°€ëŠ¥  
            editorDescription.textContent = 'ì—ë””í„°ì™€ í–…ì‚ë‹˜ë“¤ì´ ì†Œí†µí•˜ëŠ” ê³µê°„ (ê¸€ì“°ê¸° ê°€ëŠ¥)';  
            composeArea.classList.remove('hide');  
        } else {  
            // ì¼ë°˜ ì‚¬ìš©ìëŠ” ì½ê¸°ë§Œ ê°€ëŠ¥  
            editorDescription.textContent = 'ì—ë””í„°ì™€ í–…ì‚ë‹˜ë“¤ì´ ì†Œí†µí•˜ëŠ” ê³µê°„ (ì½ê¸° ì „ìš©)';  
            composeArea.classList.add('hide');  
        }  
    }  
  
    // ğŸ” ê´€ë¦¬ì ì—¬ë¶€ í™•ì¸  
    function isAdmin() {  
        return appData.currentUser &&   
               (appData.currentUser.role === 'super_admin' || appData.currentUser.role === 'admin');  
    }  
  
    // ğŸ’¬ ì—ë””í„°í†¡ ë Œë”ë§  
    function renderEditorTalks() {  
        const feed = document.getElementById('editorTalkFeed');  
        if (!feed) return;  
          
        feed.innerHTML = '';  
          
        if (!appData.currentUser) {  
            feed.innerHTML = '<div class="text-center text-gray-400 mt-10"><p>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</p></div>';  
            return;  
        }  
          
        const sortedTalks = appData.editorTalks.sort((a, b) => new Date(b.time) - new Date(a.time));  
          
        sortedTalks.forEach(talk => {  
            const talkCard = createEditorTalkCard(talk);  
            feed.appendChild(talkCard);  
        });  
    }  
  
    // ğŸ’¬ ì—ë””í„°í†¡ ì¹´ë“œ ìƒì„±  
    function createEditorTalkCard(talk) {  
        const card = document.createElement('div');  
        card.className = 'glass-card rounded-2xl p-5';  
          
        const user = appData.users.find(u => u.id === talk.userId);  
        const isLiked = talk.likedBy?.includes(appData.currentUser.id) || false;  
          
        card.innerHTML = `  
            <div class="flex items-center mb-3">  
                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center text-white font-bold mr-3">  
                    ${user.avatar}  
                </div>  
                <div class="flex-1">  
                    <p class="font-bold text-gray-800">${user.name}</p>  
                    <p class="text-xs text-gray-500">${talk.time}</p>  
                </div>  
            </div>  
            <p class="text-gray-700 mb-4">${talk.content}</p>  
            <div class="flex items-center gap-4">  
                <button onclick="toggleLike(\( {talk.id})" class="interaction-btn \){isLiked ? 'liked' : ''}">  
                    ğŸ’™ ${talk.likes}  
                </button>  
                <button onclick="showCommentInput(${talk.id})" class="interaction-btn">  
                    ğŸ’¬ ${talk.comments}  
                </button>  
            </div>  
        `;  
          
        return card;  
    }  
  
    // ğŸ“ ì—ë””í„°í†¡ ê¸€ ì‘ì„±  
    function submitEditorPost(event) {  
        event.preventDefault();  
          
        if (!isAdmin()) {  
            alert('ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');  
            return;  
        }  
          
        const content = document.getElementById('editorContent').value.trim();  
        if (!content) {  
            alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
            return;  
        }  
          
        const newTalk = {  
            id: Date.now(),  
            userId: appData.currentUser.id,  
            content: content,  
            likes: 0,  
            comments: 0,  
            time: 'ë°©ê¸ˆ ì „',  
            likedBy: []  
        };  
          
        appData.editorTalks.unshift(newTalk);  
        renderEditorTalks();  
          
        document.getElementById('editorContent').value = '';  
        alert('ì—ë””í„°í†¡ì— ê²Œì‹œë˜ì—ˆì–´ìš”! ğŸ’¬');  
    }  
  
    // ğŸ’™ ì¢‹ì•„ìš” í† ê¸€  
    function toggleLike(talkId) {  
        if (!appData.currentUser) return;  
          
        const talk = appData.editorTalks.find(t => t.id === talkId);  
        if (!talk) return;  
          
        if (!talk.likedBy) talk.likedBy = [];  
          
        const userIndex = talk.likedBy.indexOf(appData.currentUser.id);  
        if (userIndex > -1) {  
            talk.likedBy.splice(userIndex, 1);  
            talk.likes--;  
        } else {  
            talk.likedBy.push(appData.currentUser.id);  
            talk.likes++;  
        }  
          
        renderEditorTalks();  
    }  
  
    // ğŸ’¬ ëŒ“ê¸€ ì…ë ¥ (ê°„ë‹¨í•œ êµ¬í˜„)  
    function showCommentInput(talkId) {  
        const comment = prompt('ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”:');  
        if (comment) {  
            const talk = appData.editorTalks.find(t => t.id === talkId);  
            if (talk) {  
                talk.comments++;  
                renderEditorTalks();  
                alert('ëŒ“ê¸€ì´ ì‘ì„±ë˜ì—ˆì–´ìš”! ğŸ’¬');  
            }  
        }  
    }  
  
    function formatDate(dateString) {  
        const date = new Date(dateString);  
        return date.toLocaleDateString('ko-KR', {   
            month: 'long',   
            day: 'numeric',  
            year: date.getFullYear() !== new Date().getFullYear() ? 'numeric' : undefined  
        });  
    }  
  
    function isWithin7Days(diaryDate) {  
        const diary = new Date(diaryDate);  
        const today = new Date();  
        const diffTime = Math.abs(today - diary);  
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));  
        return diffDays <= 7;  
    }  
  
    function getTodayDiariesCount() {  
        const today = new Date().toISOString().split('T')[0];  
        return appData.diaries.filter(diary => diary.date === today).length;  
    }  
  
    // ê¸°ë¶„ ì„ íƒ ë° ë‹¤ì´ì–´ë¦¬ ì œì¶œ (ì´ì „ê³¼ ë™ì¼)  
    function selectMood(element, icon, name) {  
        document.querySelectorAll('.mood-item').forEach(item => item.classList.remove('selected'));  
        element.classList.add('selected');  
        selectedMood = { icon, name };  
        checkDiaryForm();  
    }  
  
    function checkDiaryForm() {  
        const content = document.getElementById('diaryContent').value.trim();  
        const submitBtn = document.getElementById('diarySubmitBtn');  
          
        if (selectedMood.icon && content) {  
            submitBtn.disabled = false;  
            submitBtn.classList.add('opacity-100');  
        } else {  
            submitBtn.disabled = true;  
            submitBtn.classList.remove('opacity-100');  
        }  
    }  
  
    function submitDiary(event) {  
        event.preventDefault();  
          
        if (!selectedMood.icon) {  
            alert('ê¸°ë¶„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');  
            return;  
        }  
          
        if (!appData.currentUser) {  
            alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');  
            return;  
        }  
          
        const title = document.getElementById('diaryTitle').value.trim();  
        const content = document.getElementById('diaryContent').value.trim();  
          
        const newDiary = {  
            id: Date.now(),  
            userId: appData.currentUser.id,  
            date: new Date().toISOString().split('T')[0],  
            title: title,  
            content: content,  
            emotion: selectedMood.icon,  
            moodName: selectedMood.name  
        };  
          
        appData.diaries.push(newDiary);  
        closeModal('diaryModal');  
          
        document.getElementById('diaryTitle').value = '';  
        document.getElementById('diaryContent').value = '';  
        selectedMood = { icon: '', name: '' };  
        document.querySelectorAll('.mood-item').forEach(item => item.classList.remove('selected'));  
          
        alert('ì˜¤ëŠ˜ì˜ ë¬´ë“œê°€ ì™„ë²½í•˜ê²Œ ë³´í˜¸ë˜ë©° ì €ì¥ë˜ì—ˆì–´ìš”! ğŸ’–');  
    }  
  
    function handleImageUpload(event) {  
        const file = event.target.files[0];  
        if (file) {  
            const reader = new FileReader();  
            reader.onload = function(e) {  
                const dropZone = event.target.parentElement;  
                dropZone.innerHTML = `  
                    <img src="${e.target.result}" alt="ì—…ë¡œë“œëœ ì´ë¯¸ì§€" class="w-full h-32 object-cover rounded-lg mb-2">  
                    <p class="text-sm text-gray-600">í´ë¦­í•´ì„œ ë‹¤ë¥¸ ì´ë¯¸ì§€ ì„ íƒ</p>  
                `;  
            };  
            reader.readAsDataURL(file);  
        }  
    }  
  
    function submitMoment(event) {  
        event.preventDefault();  
        const content = document.getElementById('momentContent').value.trim();  
          
        if (content) {  
            const newMoment = {  
                id: Date.now(),  
                userId: appData.currentUser.id,  
                content: content,  
                likes: 0,  
                comments: 0,  
                views: 0,  
                time: 'ë°©ê¸ˆ ì „'  
            };  
              
            appData.moments.unshift(newMoment);  
            closeModal('momentModal');  
            document.getElementById('momentContent').value = '';  
            alert('ëª¨ë¨¼íŠ¸ê°€ ê³µìœ ë˜ì—ˆì–´ìš”! âœ¨');  
        }  
    }  
  
    // í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜  
    function navigateTo(page, event) {  
        if (event) event.preventDefault();  
          
        document.querySelectorAll('section').forEach(section => section.classList.add('hide'));  
          
        const targetPage = document.getElementById(page + 'Page');  
        if (targetPage) {  
            targetPage.classList.remove('hide');  
            targetPage.classList.add('fade-in');  
        }  
          
        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));  
        event?.currentTarget?.classList.add('active');  
          
        currentTab = page;  
          
        if (page === 'editorTalk') {  
            renderEditorTalks();  
        }  
    }  
  
    function filterLetters(category) {  
        const letters = document.querySelectorAll('#letterFeed > div');  
        letters.forEach(letter => {  
            if (category === 'all' || letter.dataset.category === category) {  
                letter.style.display = 'block';  
            } else {  
                letter.style.display = 'none';  
            }  
        });  
    }  
  
    function openTodayMood() {  
        document.getElementById('letterNotification').classList.add('hide');  
        setTimeout(() => openDiaryWrite(), 300);  
    }  
  
    function openDiaryWrite() {  
        if (!appData.currentUser) return;  
        document.getElementById('diaryModal').classList.add('active');  
    }  
  
    function openMomentCompose() {  
        if (!appData.currentUser) return;  
        document.getElementById('momentModal').classList.add('active');  
    }  
  
    function closeModal(modalId) {  
        document.getElementById(modalId).classList.remove('active');  
    }  
  
    function openHealingTypeTest() {  
        window.open('https://index-html-zak5.vercel.app/', '_blank');  
    }  
  
    function openChat() {  
        window.open('http://pf.kakao.com/_Jfjxgn/111753149', '_blank');  
    }  
  
    function openSentenceCollection() {  
        window.open('http://pf.kakao.com/_Jfjxgn/111753149', '_blank');  
    }  
  
    function openLetterView() {  
        window.open('https://maily.so/happci/posts/2nzn7qegrp5', '_blank');  
    }  
  
    function showSignup() {  
        alert('íšŒì›ê°€ì… ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤! ğŸ’');  
    }  
  
    function toggleUserDiaries(userId) {  
        alert('ë”ë³´ê¸° ê¸°ëŠ¥ì´ êµ¬í˜„ë  ì˜ˆì •ì…ë‹ˆë‹¤!');  
    }  
  
    function showDiaryDetail(diaryId) {  
        const diary = appData.diaries.find(d => d.id === diaryId);  
        if (!diary) return;  
          
        const user = appData.users.find(u => u.id === diary.userId);  
        alert(`  
ğŸ“ ${diary.title || 'ì œëª© ì—†ìŒ'}  
  
ì‘ì„±ì: \( {user.name} ( \){user.id})  
ì‘ì„±ì¼: ${formatDate(diary.date)}  
ê¸°ë¶„: \( {diary.emotion} \){diary.moodName}  
  
ë‚´ìš©:  
${diary.content}  
        `);  
    }  
  
    function setupEventListeners() {  
        const diaryContent = document.getElementById('diaryContent');  
        if (diaryContent) {  
            diaryContent.addEventListener('input', checkDiaryForm);  
        }  
          
        document.querySelectorAll('.modal').forEach(modal => {  
            modal.addEventListener('click', function(e) {  
                if (e.target === this) {  
                    this.classList.remove('active');  
                }  
            });  
        });  
    }  
  
    // ğŸšª ë¡œê·¸ì•„ì›ƒ (ë³´ì•ˆ ê°•í™”)  
    function handleLogout() {  
        if (confirm('ì •ë§ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {  
            appData.currentUser = null;  
            localStorage.removeItem('jahyuLogin');  
            sessionStorage.clear();  
              
            document.getElementById('appContainer').classList.add('hide');  
              
            navigateTo('newsletter');  
        }  
    }  
  
    window.addEventListener('DOMContentLoaded', initApp);  
</script>  
  
</body>  
</html>