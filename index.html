<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë©”ë§ˆë¥¸ ì¼ìƒì— í•œ ë°©ìš¸ì˜ íœ´ì‹! ìíœ´ë ˆí„°</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#A2D2FF',
                        'primary-dark': '#73A3E0',
                        'soft-bg': '#FAFAFA',
                        'glass-white': 'rgba(255, 255, 255, 0.85)',
                        'new-pink': '#FFC0CB',
                        'text-main': '#2D3436',
                        'text-sub': '#636E72',
                    },
                    boxShadow: {
                        'soft': '0 4px 20px rgba(0, 0, 0, 0.05)',
                        'up': '0 -4px 20px rgba(0, 0, 0, 0.05)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f2f5;
            -webkit-font-smoothing: antialiased;
            color: #2D3436;
        }
        /* ëª¨ë°”ì¼ ì•± ì»¨í…Œì´ë„ˆ */
        .app-container {
            max-width: 480px; /* ëª¨ë°”ì¼ ìµœì í™” í­ */
            margin: 0 auto;
            background-color: #FAFAFA;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 30px rgba(0,0,0,0.05);
            padding-bottom: 80px; /* íƒ­ë°” ê³µê°„ */
        }
        
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¹€ */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ í—¤ë”/íƒ­ë°” */
        .glass-nav {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-top: 1px solid rgba(255,255,255,0.3);
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        .fade-in { animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .active-tab-icon { color: #73A3E0; transform: translateY(-2px); }
        .tab-transition { transition: all 0.2s ease; }

        /* ìœ í‹¸ë¦¬í‹° */
        .hide { display: none !important; }
        .center-absolute { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
    </style>
</head>
<body>

<div class="app-container">
    
    <header class="sticky top-0 z-50 glass-nav h-14 flex items-center justify-between px-4">
        <div class="flex items-center">
            <button id="backBtn" onclick="goBack()" class="mr-3 p-1 rounded-full hover:bg-gray-100 hide">
                <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <h1 class="text-xl font-extrabold text-primary-dark tracking-tight cursor-pointer" onclick="navigateTo('home')">ìíœ´ë ˆí„°</h1>
        </div>
        
        <div class="flex items-center gap-3">
            <button id="adminWriteBtn" onclick="showWriteModal()" class="hide p-1.5 bg-primary-blue rounded-full text-white shadow-sm hover:bg-primary-dark transition">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
            </button>
            <button onclick="toggleAuth()" class="text-sm font-medium text-text-sub hover:text-primary-dark transition" id="authBtnText">ë¡œê·¸ì¸</button>
        </div>
    </header>

    <main class="px-4 py-4">
        
        <section id="homePage" class="fade-in">
            <div class="mb-6 mt-2">
                <h2 id="greetingTitle" class="text-2xl font-bold text-text-main leading-tight">ë‹¹ì‹ ì˜ í–‰ë³µ ë ˆí„° ê°€ì´ë“œ</h2>
                <p id="greetingSub" class="text-sm text-text-sub mt-1">ì„±ì¥ê³¼ í–‰ë³µì„ ìœ„í•œ ê°€ì´ë“œë¥¼ ë§Œë‚˜ë³´ì„¸ìš”.</p>
            </div>

            <div class="relative w-full h-40 rounded-2xl overflow-hidden shadow-soft mb-8 group cursor-pointer" onclick="window.open('https://index-html-zak5.vercel.app/', '_blank')">
                <div class="absolute inset-0 bg-gradient-to-r from-blue-100 to-pink-100 transition duration-300 group-hover:scale-105"></div>
                <div class="absolute inset-0 flex flex-col justify-center items-start p-6">
                    <span class="bg-white/60 backdrop-blur-sm text-primary-dark text-[10px] font-bold px-2 py-1 rounded-full mb-2">HOT TREND</span>
                    <h3 class="text-xl font-bold text-text-main">ë‚˜ì˜ íë§ ìœ í˜•ì€?</h3>
                    <p class="text-xs text-text-sub mt-1">ì§€ê¸ˆ ë°”ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ë§ì¶¤ ë ˆí„° ë°›ê¸° ğŸ‘‰</p>
                </div>
                <div class="absolute bottom-4 right-4 text-4xl">ğŸŒ¿</div>
            </div>

            <div class="flex justify-around mb-8">
                <a href="http://pf.kakao.com/_Jfjxgn" target="_blank" class="flex flex-col items-center gap-2 group">
                    <div class="w-14 h-14 rounded-full bg-yellow-300 flex items-center justify-center shadow-sm group-active:scale-95 transition">
                        <svg class="w-7 h-7 text-yellow-900" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 3.185-9 7.115 0 2.557 1.707 4.8 4.27 6.054-.188.702-.682 2.545-.78 2.94-.123.49.178.483.376.351.155-.103 2.466-1.675 3.464-2.353.541.08 1.1.123 1.67.123 4.97 0 9-3.186 9-7.115C21 6.185 16.97 3 12 3z"/></svg>
                    </div>
                    <span class="text-xs font-medium text-text-sub">ì¹´í†¡ ì¶”ê°€</span>
                </a>
                <a href="http://pf.kakao.com/_Jfjxgn/111753149" target="_blank" class="flex flex-col items-center gap-2 group">
                    <div class="w-14 h-14 rounded-full bg-indigo-100 flex items-center justify-center shadow-sm group-active:scale-95 transition">
                        <span class="text-2xl">ğŸ“–</span>
                    </div>
                    <span class="text-xs font-medium text-text-sub">ë¬¸ì¥ ìˆ˜ì§‘</span>
                </a>
                <div class="flex flex-col items-center gap-2 group cursor-pointer" onclick="navigateTo('newsletter')">
                    <div class="w-14 h-14 rounded-full bg-pink-100 flex items-center justify-center shadow-sm group-active:scale-95 transition">
                        <span class="text-2xl">ğŸ“®</span>
                    </div>
                    <span class="text-xs font-medium text-text-sub">ë ˆí„° ë³´ê¸°</span>
                </div>
            </div>
        </section>

        <section id="newsletterPage" class="hide fade-in">
            <div class="sticky top-14 bg-soft-bg z-30 pb-2 pt-1">
                <h2 class="text-2xl font-bold text-text-main mb-1">ì§€ê¸ˆ ê¼­ í•„ìš”í•œ<br>ìœ„ë¡œë¥¼ ë°›ì•„ë³´ì„¸ìš”!</h2>
                <p class="text-xs text-text-sub mb-4">ìíœ´ë ˆí„°ì™€ ìíœ´ë©ì„ ì£¼ì œë³„ë¡œ í•œ ëˆˆì—!</p>
                
                <div class="flex gap-2">
                    <button class="filter-btn active px-4 py-2 rounded-full text-xs font-bold bg-primary-blue text-white transition shadow-sm" data-filter="all" onclick="filterLetters('all')">ì „ì²´</button>
                    <button class="filter-btn px-4 py-2 rounded-full text-xs font-bold bg-white text-text-sub border border-gray-200 transition" data-filter="letter" onclick="filterLetters('letter')">ìíœ´ë ˆí„°</button>
                    <button class="filter-btn px-4 py-2 rounded-full text-xs font-bold bg-white text-text-sub border border-gray-200 transition" data-filter="lab" onclick="filterLetters('lab')">ìíœ´ë©</button>
                </div>
            </div>

            <div id="letterListContainer" class="mt-4 space-y-4 pb-20">
                </div>
        </section>

        <section id="editorTalkPage" class="hide fade-in">
            <div class="mb-4">
                <h2 class="text-2xl font-bold text-text-main">ì—ë””í„° í†¡ ğŸ’¬</h2>
                <p class="text-sm text-text-sub">ì—ë””í„°ë“¤ì˜ ì¼ìƒì„ ë§Œë‚˜ë³´ì„¸ìš”!</p>
            </div>
            <div id="editorTalkListContainer" class="space-y-4 pb-20"></div>
        </section>

        <section id="momentPage" class="hide fade-in">
            <div class="mb-4">
                <h2 class="text-2xl font-bold text-text-main">ëª¨ë¨¼íŠ¸ âœ¨</h2>
                <p class="text-sm text-text-sub">ì§§ì€ ë‹¨ìƒê³¼ ì˜ê°ì„ ê¸°ë¡í•©ë‹ˆë‹¤.</p>
            </div>
            <div id="momentListContainer" class="grid grid-cols-2 gap-3 pb-20"></div>
        </section>

        <section id="myPage" class="hide fade-in">
            <div class="bg-white p-6 rounded-3xl shadow-sm mb-6 flex items-center gap-4">
                <div class="w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center text-2xl">ğŸ‘¤</div>
                <div>
                    <h3 id="myProfileName" class="text-lg font-bold text-text-main">ë¡œê·¸ì¸ì´ í•„ìš”í•´ìš”</h3>
                    <p id="myProfileEmail" class="text-xs text-text-sub mt-1">ë” ë§ì€ ê¸°ëŠ¥ì„ ì´ìš©í•´ë³´ì„¸ìš”.</p>
                </div>
            </div>

            <div class="flex border-b border-gray-200 mb-4">
                <button class="flex-1 pb-3 text-sm font-bold text-primary-dark border-b-2 border-primary-dark my-tab" data-target="likes">â¤ï¸ ì¢‹ì•„ìš”</button>
                <button class="flex-1 pb-3 text-sm font-medium text-text-sub my-tab" data-target="bookmarks">ğŸ”– ë¶ë§ˆí¬</button>
                <button class="flex-1 pb-3 text-sm font-medium text-text-sub my-tab" data-target="qna">â“ Q&A</button>
                <button class="flex-1 pb-3 text-sm font-medium text-text-sub my-tab" data-target="stamps">â­ï¸ ìŠ¤íƒ¬í”„</button>
            </div>

            <div id="myTabContent" class="pb-20">
                <div class="text-center text-gray-400 mt-10 text-sm">ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
        </section>

        <section id="detailPage" class="hide fade-in bg-white min-h-screen absolute top-0 left-0 w-full z-40 p-4">
            <div id="detailContentArea"></div>
        </section>

    </main>

    <nav class="bottom-nav glass-nav flex justify-around items-center px-2 pb-safe">
        <button class="tab-item w-full py-2 active-tab-icon" onclick="navigateTo('home')" id="nav-home">
            <svg class="w-6 h-6 mb-0.5 transition-transform" fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
            <span class="text-[10px] font-medium">í™ˆ</span>
        </button>
        <button class="tab-item w-full py-2 text-gray-400" onclick="navigateTo('newsletter')" id="nav-newsletter">
            <svg class="w-6 h-6 mb-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
            <span class="text-[10px] font-medium">ë ˆí„°</span>
        </button>
        <button class="tab-item w-full py-2 text-gray-400" onclick="navigateTo('editorTalk')" id="nav-editorTalk">
            <svg class="w-6 h-6 mb-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.682A9.956 9.956 0 013 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
            <span class="text-[10px] font-medium">ì—ë””í„°í†¡</span>
        </button>
        <button class="tab-item w-full py-2 text-gray-400" onclick="navigateTo('moment')" id="nav-moment">
            <svg class="w-6 h-6 mb-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4M17 19h4M16 3h4m-4 10h4m-8 8v4m-4-4h4M3 10h4m-4 4h4m4-14v4M10 3h4m-4 10v4m-4-4h4"/></svg>
            <span class="text-[10px] font-medium">ëª¨ë¨¼íŠ¸</span>
        </button>
        <button class="tab-item w-full py-2 text-gray-400" onclick="navigateTo('myPage')" id="nav-myPage">
            <svg class="w-6 h-6 mb-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
            <span class="text-[10px] font-medium">ë§ˆì´</span>
        </button>
    </nav>

    <div id="authModal" class="modal bg-black/60 backdrop-blur-sm" onclick="closeModal(event, 'authModal')">
        <div class="modal-content text-center">
            <div class="w-12 h-12 bg-primary-blue/20 rounded-full flex items-center justify-center mx-auto mb-3">
                <svg class="w-6 h-6 text-primary-dark" fill="currentColor" viewBox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/></svg>
            </div>
            <h3 class="text-xl font-bold text-primary-dark">í–…ì‚ë‹˜ ë°˜ê°‘ìŠµë‹ˆë‹¤!</h3>
            <p class="text-xs text-text-sub mt-1 mb-6">ë‹¹ì‹ ì˜ íë§ì„ ìœ„í•œ, ìíœ´ë ˆí„°</p>
            
            <form id="loginForm" class="space-y-3" onsubmit="event.preventDefault(); handleLogin();">
                <input type="email" id="authEmail" placeholder="ì´ë©”ì¼" class="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-blue transition">
                <input type="password" id="authPassword" placeholder="ë¹„ë°€ë²ˆí˜¸" class="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-blue transition">
                <button type="submit" class="w-full bg-primary-blue text-white py-3 rounded-xl font-bold shadow-md hover:bg-primary-dark transition transform active:scale-95">ë¡œê·¸ì¸</button>
            </form>
        </div>
    </div>

</div> <script>
    // --- Data & State ---
    const ADMINS = ['happxi@jahyu.com', 'hr@mail.com']; // í–…ì”¨ë‹˜ ì´ë©”ì¼
    let currentUser = null;
    let currentTab = 'home';
    let data = {
        posts: [
            { id: 1, type: 'letter', category: 'letter', title: 'í‡´ì‚¬ í›„ ë²ˆì•„ì›ƒ, ì €ë§Œ ì´ëŸ°ê°€ìš”?', author: 'ì—˜ë¦¬', date: '2025.12.08', content: 'ë‚´ìš©...', isNew: true },
            { id: 2, type: 'letter', category: 'lab', title: 'ê¸€ì“°ê¸° ë…¸í•˜ìš°: ë‚´ ë§ˆìŒì„ ë‹´ëŠ” ë²•', author: 'ê³ ì¹¼', date: '2025.12.05', content: 'ë‚´ìš©...', isNew: true },
            { id: 3, type: 'editorTalk', title: 'ì¼ì£¼ì¼ ì˜ ë²„í‹°ì…¨ë‚˜ìš”?', author: 'ì—˜ë¦¬', date: '2025.12.08', content: 'ì£¼ë§ì—” ì‰¬ì–´ì•¼ í•´ìš”!', isNew: true },
            { id: 4, type: 'moment', title: 'í‡´ê·¼ê¸¸ í•˜ëŠ˜', author: 'í–…ì”¨', date: '2025.12.08', imgColor: 'bg-blue-200' },
            { id: 5, type: 'moment', title: 'ì»¤í”¼ í•œì”', author: 'ê³ ì¹¼', date: '2025.12.07', imgColor: 'bg-yellow-200' },
        ]
    };

    // --- Init ---
    document.addEventListener('DOMContentLoaded', () => {
        navigateTo('home');
        // ë¡œê·¸ì¸ ìƒíƒœ ì²´í¬ ì‹œë®¬ë ˆì´ì…˜ (ì—¬ê¸°ì„  ë¹„ë¡œê·¸ì¸ ì‹œì‘)
        updateUI();
    });

    // --- Navigation ---
    function navigateTo(pageId) {
        // 1. ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
        document.querySelectorAll('main > section').forEach(el => el.classList.add('hide'));
        // 2. íƒ€ê²Ÿ ì„¹ì…˜ ë³´ì´ê¸°
        const target = document.getElementById(pageId + 'Page');
        if(target) target.classList.remove('hide');
        else if(pageId === 'detail') document.getElementById('detailPage').classList.remove('hide');

        // 3. íƒ­ë°” ì—…ë°ì´íŠ¸
        document.querySelectorAll('.bottom-nav button').forEach(btn => {
            btn.classList.remove('text-primary-dark', 'active-tab-icon');
            btn.classList.add('text-gray-400');
        });
        const navBtn = document.getElementById('nav-' + pageId);
        if(navBtn) {
            navBtn.classList.remove('text-gray-400');
            navBtn.classList.add('text-primary-dark', 'active-tab-icon');
        }

        // 4. í—¤ë” ì—…ë°ì´íŠ¸ (ë’¤ë¡œê°€ê¸° ë²„íŠ¼)
        const backBtn = document.getElementById('backBtn');
        if(pageId === 'home') backBtn.classList.add('hide');
        else backBtn.classList.remove('hide');

        // 5. í˜ì´ì§€ë³„ ë°ì´í„° ë¡œë“œ
        if(pageId === 'newsletter') renderLetters('all');
        if(pageId === 'editorTalk') renderEditorTalks();
        if(pageId === 'moment') renderMoments();
        if(pageId === 'myPage') renderMyPage();

        currentTab = pageId;
        window.scrollTo(0,0);
    }

    function goBack() {
        // ë‹¨ìˆœ ë’¤ë¡œê°€ê¸° ë¡œì§ (í™ˆìœ¼ë¡œ)
        navigateTo('home');
    }

    // --- Auth Logic ---
    function toggleAuth() {
        if(currentUser) {
            // ë¡œê·¸ì•„ì›ƒ
            if(confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                currentUser = null;
                alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.');
                updateUI();
                navigateTo('home');
            }
        } else {
            // ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°
            document.getElementById('authModal').style.display = 'flex';
        }
    }

    function closeModal(e, id) {
        if(e.target.id === id) document.getElementById(id).style.display = 'none';
    }

    function handleLogin() {
        const email = document.getElementById('authEmail').value;
        // ì„ì‹œ ë¡œê·¸ì¸ ì„±ê³µ ì²˜ë¦¬
        if(email) {
            currentUser = {
                name: email.includes('happxi') ? 'í–…ì‚' : 'ë°©ë¬¸ì',
                email: email,
                isAdmin: ADMINS.includes(email)
            };
            document.getElementById('authModal').style.display = 'none';
            updateUI();
            alert(`${currentUser.name}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`);
        }
    }

    function updateUI() {
        const btn = document.getElementById('authBtnText');
        const greetingTitle = document.getElementById('greetingTitle');
        const greetingSub = document.getElementById('greetingSub');
        const adminBtn = document.getElementById('adminWriteBtn');

        if(currentUser) {
            btn.innerText = 'ë¡œê·¸ì•„ì›ƒ'; // í…ìŠ¤íŠ¸ ë³€ê²½
            
            // í–…ì‚ë‹˜ ë§ì¶¤ ë¬¸êµ¬
            if(currentUser.email.includes('happxi') || currentUser.email === 'hr@mail.com') {
                greetingTitle.innerText = "í–…ì‚ë‹˜ ì˜¤ëŠ˜ì€ ë” í–‰ë³µí•˜ì„¸ìš”!";
                greetingSub.innerText = "ìš°ë¦¬, ë” í¸í•˜ê³  í”„ë¼ì´ë¹—í•˜ê²Œ ì†Œí†µí•´ìš”!";
            } else {
                greetingTitle.innerText = `${currentUser.name}ë‹˜, ì ì‹œ ì‰¬ì–´ê°€ì„¸ìš”.`;
                greetingSub.innerText = "ì˜¤ëŠ˜ë„ ê³ ìƒ ë§ìœ¼ì…¨ì–´ìš”.";
            }

            // ê´€ë¦¬ì ë²„íŠ¼ í‘œì‹œ
            if(currentUser.isAdmin) adminBtn.classList.remove('hide');
            else adminBtn.classList.add('hide');

        } else {
            btn.innerText = 'ë¡œê·¸ì¸';
            greetingTitle.innerText = "ë‹¹ì‹ ì˜ í–‰ë³µ ë ˆí„° ê°€ì´ë“œ";
            greetingSub.innerText = "ì„±ì¥ê³¼ í–‰ë³µì„ ìœ„í•œ ê°€ì´ë“œë¥¼ ë§Œë‚˜ë³´ì„¸ìš”.";
            adminBtn.classList.add('hide');
        }
    }

    // --- Render Functions ---
    
    // ë ˆí„° ë Œë”ë§
    function renderLetters(filter) {
        const container = document.getElementById('letterListContainer');
        container.innerHTML = '';
        
        // í•„í„°ë§
        const list = data.posts.filter(p => p.type === 'letter' && (filter === 'all' || p.category === filter));
        
        // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
        document.querySelectorAll('.filter-btn').forEach(btn => {
            if(btn.dataset.filter === filter) {
                btn.className = 'filter-btn px-4 py-1.5 rounded-full text-xs font-bold bg-primary-blue text-white shadow-sm transition';
            } else {
                btn.className = 'filter-btn px-4 py-1.5 rounded-full text-xs font-bold bg-white text-text-sub border border-gray-200 transition';
            }
        });

        list.forEach(item => {
            const badge = item.isNew ? `<span class="ml-2 px-1.5 py-0.5 rounded bg-new-pink text-[10px] font-bold text-red-600">NEW</span>` : '';
            const html = `
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-50 mb-3 active:scale-[0.98] transition-transform" onclick="alert('ê¸€ ìƒì„¸ ë³´ê¸°')">
                    <div class="flex items-center mb-1">
                        <span class="text-[10px] font-bold text-primary-dark bg-blue-50 px-2 py-0.5 rounded mr-2">${item.category === 'lab' ? 'ìíœ´ë©' : 'ìíœ´ë ˆí„°'}</span>
                        <span class="text-xs text-gray-400">${item.date}</span>
                    </div>
                    <h3 class="text-lg font-bold text-text-main leading-tight">${item.title} ${badge}</h3>
                    <p class="text-sm text-text-sub mt-2 line-clamp-2">${item.content}</p>
                </div>
            `;
            container.innerHTML += html;
        });
    }

    function filterLetters(filter) {
        renderLetters(filter);
    }

    // ì—ë””í„°í†¡ ë Œë”ë§
    function renderEditorTalks() {
        const container = document.getElementById('editorTalkListContainer');
        container.innerHTML = '';
        const list = data.posts.filter(p => p.type === 'editorTalk');
        
        list.forEach(item => {
            const html = `
                <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-50 mb-3 flex gap-4 items-start">
                    <div class="w-10 h-10 rounded-full bg-gray-200 flex-shrink-0 flex items-center justify-center text-xs">IMG</div>
                    <div>
                        <div class="flex items-baseline gap-2">
                            <h4 class="font-bold text-sm text-text-main">${item.author}</h4>
                            <span class="text-[10px] text-gray-400">${item.date}</span>
                        </div>
                        <p class="text-sm text-text-sub mt-1">${item.title}</p>
                    </div>
                </div>
            `;
            container.innerHTML += html;
        });
    }

    // ëª¨ë¨¼íŠ¸ ë Œë”ë§
    function renderMoments() {
        const container = document.getElementById('momentListContainer');
        container.innerHTML = '';
        const list = data.posts.filter(p => p.type === 'moment');

        list.forEach(item => {
            const html = `
                <div class="aspect-square ${item.imgColor} rounded-xl relative overflow-hidden shadow-sm">
                    <div class="absolute bottom-0 w-full p-2 bg-gradient-to-t from-black/50 to-transparent">
                        <p class="text-white text-xs font-medium truncate">${item.title}</p>
                    </div>
                </div>
            `;
            container.innerHTML += html;
        });
    }

    // ë§ˆì´í˜ì´ì§€ ë Œë”ë§
    function renderMyPage() {
        const container = document.getElementById('myPage');
        if(!currentUser) {
            container.innerHTML = `
                <div class="flex flex-col items-center justify-center h-64">
                    <p class="text-gray-400 mb-4">ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.</p>
                    <button onclick="toggleAuth()" class="px-6 py-2 bg-primary-blue text-white rounded-full font-bold shadow-md">ë¡œê·¸ì¸ í•˜ëŸ¬ê°€ê¸°</button>
                </div>
            `;
            return;
        }
        // ë¡œê·¸ì¸ ëœ ìƒíƒœ (íƒ­ êµ¬ì¡° ë“±ì€ ì´ì „ ë¡œì§ í™œìš©í•˜ì—¬ ì—¬ê¸°ì— ë™ì  ìƒì„±)
        // (ê°„ëµí™”ë¥¼ ìœ„í•´ ìƒëµë˜ì—ˆìœ¼ë‚˜ ì´ì „ V7.6ì˜ ë§ˆì´í˜ì´ì§€ HTML êµ¬ì¡°ê°€ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤.)
    }

</script>
</body>
</html>
