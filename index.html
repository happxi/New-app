<!DOCTYPE html>  
<html lang="ko">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ìíœ´ë ˆí„° - í–…ì‚ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”!</title>  
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Round+Gothic:wght@300;400;500;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">  
    <style>  
        :root {  
            /* ğŸ’™ íŒŒìŠ¤í…” ë¸”ë£¨ ì‹œë¦¬ì¦ˆ */  
            --color-primary-blue: #5B9BD5;  
            --color-light-blue: #BDD7EE;  
            --color-sky-blue: #87CEEB;  
              
            /* ğŸ’– í•‘í¬/í¼í”Œ ê°ì„± ì‹œë¦¬ì¦ˆ */  
            --color-primary-pink: #FF6B9D;  
            --color-light-pink: #FFB6C1;  
            --color-lavender: #E6E6FA;  
            --color-peach: #FFDAB9;  
            --color-mint: #98FB98;  
              
            /* âœ¨ íˆ¬ëª… ìœ ë¦¬ì§ˆê° */  
            --color-glass-white: rgba(255, 255, 255, 0.88);  
            --color-shadow-blue: rgba(91, 155, 213, 0.15);  
            --color-shadow-pink: rgba(255, 107, 157, 0.15);  
              
            /* ğŸ“ í…ìŠ¤íŠ¸ */  
            --color-text-dark: #2C3E50;  
            --color-text-medium: #546E7A;  
            --color-text-light: #90A4AE;  
            --color-white: #FFFFFF;  
        }  
  
        * {  
            box-sizing: border-box;  
            margin: 0;  
            padding: 0;  
            font-family: 'Nanum Round Gothic', 'Noto Sans KR', sans-serif;  
        }  
  
        body {  
            background: linear-gradient(135deg, #F0F8FF 0%, #E6F3FF 50%, #FFF0F5 100%);  
            color: var(--color-text-dark);  
            min-height: 100vh;  
            overflow-x: hidden;  
        }  
  
        /* ğŸ“± ë©”ì¸ ì»¨í…Œì´ë„ˆ */  
        .main-container {  
            width: 100%;  
            max-width: 100vw;  
            min-height: calc(100vh - 80px);  
            max-height: 85vh;  
            padding: 0 16px 20px;  
            padding-bottom: 100px;  
            overflow-y: auto;  
            scrollbar-width: none;  
            display: none;  
        }  
  
        .main-container.show {  
            display: block;  
        }  
  
        /* ğŸŒ¸ í•‘í¬ë¼ë²¤ë” ë¡œê·¸ì¸ ëª¨ë‹¬ */  
        .auth-modal {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.6);  
            backdrop-filter: blur(8px);  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            z-index: 1000;  
        }  
  
        .auth-content {  
            background: linear-gradient(135deg,   
                rgba(255, 182, 193, 0.95) 0%,    
                rgba(230, 230, 250, 0.98) 50%,   
                rgba(255, 218, 185, 0.95) 100%);  
            border-radius: 30px;  
            padding: 45px;  
            width: 90%;  
            max-width: 400px;  
            box-shadow: 0 20px 50px rgba(255, 107, 157, 0.3);  
            border: 1px solid rgba(255, 255, 255, 0.6);  
            animation: bubbleFloat 0.5s ease-out;  
        }  
  
        @keyframes bubbleFloat {  
            from {  
                transform: translateY(30px) scale(0.95);  
                opacity: 0;  
            }  
            to {  
                transform: translateY(0) scale(1);  
                opacity: 1;  
            }  
        }  
  
        .auth-content h2 {  
            color: var(--color-primary-pink);  
            text-align: center;  
            margin-bottom: 35px;  
            font-size: 30px;  
            font-weight: 600;  
        }  
  
        .auth-input {  
            width: 100%;  
            padding: 16px 20px;  
            border: 2px solid var(--color-light-pink);  
            border-radius: 25px;  
            margin-bottom: 20px;  
            font-size: 16px;  
            background: rgba(255, 255, 255, 0.9);  
            transition: all 0.3s;  
        }  
  
        .auth-input:focus {  
            outline: none;  
            border-color: var(--color-primary-pink);  
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.2);  
        }  
  
        .auth-button {  
            width: 100%;  
            padding: 16px;  
            background: linear-gradient(135deg, var(--color-primary-pink) 0%, var(--color-lavender) 100%);  
            color: white;  
            border: none;  
            border-radius: 25px;  
            font-size: 16px;  
            font-weight: 600;  
            cursor: pointer;  
            transition: all 0.3s;  
            margin-bottom: 15px;  
        }  
  
        .auth-button:hover {  
            transform: translateY(-3px);  
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);  
        }  
  
        .checkbox-container {  
            display: flex;  
            align-items: center;  
            margin-bottom: 20px;  
        }  
  
        .checkbox-container input[type="checkbox"] {  
            margin-right: 10px;  
            transform: scale(1.2);  
            accent-color: var(--color-primary-pink);  
        }  
  
        .auth-link {  
            text-align: center;  
            margin-top: 20px;  
        }  
  
        .auth-link button {  
            background: none;  
            border: none;  
            color: var(--color-primary-pink);  
            font-weight: 600;  
            cursor: pointer;  
            font-size: 14px;  
        }  
  
        .auth-link button:hover {  
            text-decoration: underline;  
        }  
  
        /* í™ˆ í—¤ë” */  
        .home-header {  
            text-align: center;  
            padding: 35px 0 25px;  
        }  
  
        .home-header h1 {  
            font-size: 24px;  
            font-weight: 600;  
            margin-bottom: 8px;  
            color: var(--color-primary-pink);  
            background: linear-gradient(135deg, var(--color-primary-pink), var(--color-lavender));  
            -webkit-background-clip: text;  
            -webkit-text-fill-color: transparent;  
            display: inline-block;  
            padding: 20px 25px;  
            border-radius: 24px;  
        }  
  
        .home-header p {  
            font-size: 14px;  
            color: var(--color-text-medium);  
            margin-top: 10px;  
        }  
  
        /* ğŸ¯ ë©”ë‰´ ì•„ì´ì½˜ ë‹¤ì–‘í•œ ìƒ‰ìƒ */  
        .menu-container {  
            display: flex;  
            justify-content: space-between;  
            margin: 25px 0;  
            gap: 12px;  
        }  
  
        .menu-item {  
            text-decoration: none;  
            text-align: center;  
            flex: 1;  
            transition: all 0.3s;  
        }  
  
        .menu-icon {  
            width: 60px;  
            height: 60px;  
            margin: 0 auto 6px;  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            transition: all 0.4s;  
        }  
  
        /* ê° ë©”ë‰´ë³„ ìƒ‰ìƒ */  
        .menu-item:nth-child(1) .menu-icon {  
            background: linear-gradient(135deg, var(--color-sky-blue) 0%, var(--color-primary-blue) 100%);  
        }  
        .menu-item:nth-child(2) .menu-icon {  
            background: linear-gradient(135deg, var(--color-mint) 0%, #4CAF50 100%);  
        }  
        .menu-item:nth-child(3) .menu-icon {  
            background: linear-gradient(135deg, var(--color-primary-pink) 0%, var(--color-light-pink) 100%);  
        }  
        .menu-item:nth-child(4) .menu-icon {  
            background: linear-gradient(135deg, var(--color-lavender) 0%, #9370DB 100%);  
        }  
        .menu-item:nth-child(5) .menu-icon {  
            background: linear-gradient(135deg, var(--color-peach) 0%, #FFA07A 100%);  
        }  
  
        .menu-icon:hover {  
            transform: translateY(-5px) scale(1.08);  
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);  
        }  
  
        .menu-icon svg {  
            width: 28px;  
            height: 28px;  
            fill: white;  
            filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.2));  
        }  
  
        .menu-item p {  
            color: var(--color-text-medium);  
            font-size: 12px;  
            font-weight: 500;  
        }  
  
        /* ğŸ’ íˆ¬ëª… ìœ ë¦¬êµ¬ìŠ¬ ì¹´ë“œ */  
        .glass-card {  
            background: linear-gradient(135deg,     
                rgba(255, 255, 255, 0.9) 0%,     
                rgba(240, 249, 255, 0.85) 50%,     
                rgba(224, 242, 254, 0.8) 100%);  
            backdrop-filter: blur(20px) saturate(180%);  
            -webkit-backdrop-filter: blur(20px) saturate(180%);  
            border-radius: 24px;  
            border: 1px solid rgba(255, 255, 255, 0.5);  
            box-shadow:     
                0 12px 35px rgba(91, 155, 213, 0.12),  
                0 4px 15px rgba(255, 255, 255, 0.8) inset,  
                0 1px 8px rgba(135, 206, 235, 0.3) inset;  
            padding: 25px 20px;  
            margin-bottom: 20px;  
            width: 100%;  
            min-height: 120px;  
            max-height: 200px;  
            display: flex;  
            flex-direction: column;  
            justify-content: center;  
            position: relative;  
        }  
  
        .glass-card.bubble-animation {  
            animation: bubbleFloat 3s ease-in-out infinite;  
        }  
  
        /* ğŸ“ ë ˆí„° ì•„ì¹´ì´ë¸Œ ê²Œì‹œë¬¼ */  
        .letter-item {  
            background: linear-gradient(135deg,     
                rgba(255, 255, 255, 0.95) 0%,     
                rgba(240, 249, 255, 0.9) 100%);  
            border-radius: 20px;  
            padding: 20px;  
            margin-bottom: 16px;  
            box-shadow:     
                0 8px 25px rgba(91, 155, 213, 0.1),  
                0 2px 10px rgba(255, 255, 255, 0.8) inset;  
            transition: all 0.4s;  
            cursor: pointer;  
            border: 1px solid rgba(255, 255, 255, 0.5);  
        }  
  
        .letter-item:hover {  
            transform: translateY(-3px);  
            box-shadow:     
                0 12px 35px rgba(91, 155, 213, 0.2),  
                0 4px 15px rgba(255, 255, 255, 0.9) inset;  
        }  
  
        .letter-header {  
            display: flex;  
            align-items: center;  
            margin-bottom: 15px;  
        }  
  
        .letter-avatar {  
            width: 42px;  
            height: 42px;  
            border-radius: 50%;  
            color: white;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-weight: 700;  
            margin-right: 15px;  
            box-shadow: 0 4px 12px rgba(91, 155, 213, 0.3);  
        }  
  
        .letter-info h4 {  
            font-size: 16px;  
            font-weight: 600;  
            color: var(--color-text-dark);  
        }  
  
        .letter-info p {  
            font-size: 12px;  
            color: var(--color-text-light);  
        }  
  
        .letter-content {  
            margin-bottom: 15px;  
            line-height: 1.6;  
            color: var(--color-text-dark);  
        }  
  
        .letter-image {  
            width: 100%;  
            height: 200px;  
            object-fit: cover;  
            border-radius: 12px;  
            margin-bottom: 15px;  
            box-shadow: 0 4px 15px rgba(91, 155, 213, 0.2);  
        }  
  
        .letter-actions {  
            display: flex;  
            justify-content: space-around;  
            align-items: center;  
            padding: 12px;  
            background: linear-gradient(135deg,     
                rgba(240, 249, 255, 0.8) 0%,     
                rgba(224, 242, 254, 0.7) 100%);  
            border-radius: 16px;  
        }  
  
        .action-btn {  
            display: flex;  
            align-items: center;  
            gap: 6px;  
            padding: 10px 14px;  
            border: none;  
            background: transparent;  
            color: var(--color-text-medium);  
            border-radius: 16px;  
            cursor: pointer;  
            transition: all 0.3s;  
            font-size: 14px;  
            font-weight: 500;  
        }  
  
        .action-btn:hover {  
            background: var(--color-light-blue);  
            color: var(--color-primary-blue);  
            transform: translateY(-2px);  
        }  
  
        .action-btn.active {  
            color: var(--color-primary-blue);  
            background: var(--color-light-blue);  
        }  
  
        /* ì¹´í…Œê³ ë¦¬ í•„í„° */  
        .category-filter {  
            display: flex;  
            gap: 12px;  
            margin-bottom: 20px;  
        }  
  
        .category-btn {  
            flex: 1;  
            padding: 12px;  
            border: 2px solid var(--color-primary-blue);  
            background: transparent;  
            color: var(--color-primary-blue);  
            font-weight: 600;  
            border-radius: 20px;  
            cursor: pointer;  
            transition: all 0.3s;  
        }  
  
        .category-btn:hover {  
            background: var(--color-light-blue);  
            transform: translateY(-2px);  
        }  
  
        .category-btn.active {  
            background: var(--color-primary-blue);  
            color: white;  
            border: none;  
        }  
  
        /* ğŸ’ ìŠ¤íƒ¬í”„ ì‹œìŠ¤í…œ */  
        .stamp-container {  
            display: grid;  
            grid-template-columns: repeat(6, 1fr);  
            gap: 8px;  
            padding: 15px;  
            justify-items: center;  
        }  
  
        .stamp-item {  
            width: 28px;  
            height: 28px;  
            border-radius: 50%;  
            position: relative;  
            transition: all 0.3s ease;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
        }  
  
        .stamp-number {  
            font-size: 10px;  
            font-weight: 600;  
            color: var(--color-text-medium);  
            position: absolute;  
            top: 50%;  
            left: 50%;  
            transform: translate(-50%, -50%);  
        }  
  
        .stamp-item.empty {  
            background: rgba(240, 248, 255, 0.6);  
            border: 1px solid rgba(176, 224, 230, 0.8);  
        }  
  
        .stamp-item.filled {  
            background: radial-gradient(circle,   
                rgba(255, 107, 157, 0.8) 0%,   
                rgba(255, 182, 193, 0.6) 70%);  
            border: 2px solid rgba(255, 218, 185, 0.9);  
            box-shadow: 0 4px 12px rgba(255, 107, 157, 0.3);  
        }  
  
        .stamp-item.filled .stamp-number {  
            color: white;  
        }  
  
        /* ğŸ§­ ë„¤ë¹„ê²Œì´ì…˜ */  
        .back-button {  
            position: absolute;  
            top: 20px;  
            left: 16px;  
            width: 44px;  
            height: 44px;  
            border-radius: 50%;  
            background: linear-gradient(135deg,     
                rgba(255, 255, 255, 0.9) 0%,     
                rgba(240, 249, 255, 0.85) 100%);  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            cursor: pointer;  
            transition: all 0.3s;  
            box-shadow:     
                0 6px 20px rgba(91, 155, 213, 0.2),  
                0 2px 10px rgba(255, 255, 255, 0.8) inset;  
            border: 1px solid rgba(255, 255, 255, 0.5);  
        }  
  
        .back-button:hover {  
            transform: translateY(-2px);  
        }  
  
        .back-button svg {  
            width: 24px;  
            height: 24px;  
            fill: var(--color-primary-blue);  
        }  
  
        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */  
        .bottom-nav {  
            position: fixed;  
            bottom: 0;  
            width: 100%;  
            height: 80px;  
            background: linear-gradient(135deg,   
                rgba(255, 255, 255, 0.98) 0%,   
                rgba(240, 248, 255, 0.95) 100%);  
            backdrop-filter: blur(15px);  
            border-top: 1px solid rgba(255, 255, 255, 0.6);  
            display: none;  
            justify-content: space-around;  
            align-items: center;  
            z-index: 100;  
            box-shadow: 0 -8px 30px rgba(91, 155, 213, 0.15);  
        }  
  
        .bottom-nav.show {  
            display: flex;  
        }  
  
        .nav-item {  
            display: flex;  
            flex-direction: column;  
            align-items: center;  
            text-decoration: none;  
            color: var(--color-text-medium);  
            font-size: 11px;  
            padding: 6px;  
            transition: all 0.3s;  
            flex: 1;  
            position: relative;  
        }  
  
        .nav-item.active {  
            color: var(--color-primary-blue);  
        }  
  
        .nav-icon {  
            width: 30px;  
            height: 30px;  
            margin-bottom: 4px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            border-radius: 50%;  
            transition: all 0.3s;  
        }  
  
        .nav-icon svg {  
            width: 24px;  
            height: 24px;  
            fill: currentColor;  
            transition: all 0.3s;  
        }  
  
        .central-button {  
            background: linear-gradient(135deg,     
                var(--color-primary-pink) 0%,     
                var(--color-lavender) 100%) !important;  
            color: white !important;  
            border-radius: 20px;  
            padding: 8px 6px;  
            margin: -10px 3px;  
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.4);  
        }  
  
        /* ëª¨ë‹¬ */  
        .other-modal {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.6);  
            backdrop-filter: blur(8px);  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            z-index: 1001;  
        }  
  
        .other-modal.hide {  
            display: none;  
        }  
  
        .modal-content {  
            background: linear-gradient(135deg,     
                rgba(255, 255, 255, 0.98) 0%,     
                rgba(240, 249, 255, 0.95) 100%);  
            border-radius: 24px;  
            padding: 30px;  
            width: 90%;  
            max-width: 420px;  
            max-height: 90vh;  
            overflow-y: auto;  
            box-shadow: 0 20px 50px rgba(91, 155, 213, 0.25);  
        }  
  
        .modal-content h3 {  
            color: var(--color-primary-blue);  
            margin-bottom: 25px;  
            text-align: center;  
            font-size: 24px;  
            font-weight: 600;  
        }  
  
        /* ë©”ì‹œì§€ */  
        .toast-message {  
            position: fixed;  
            top: 30px;  
            left: 50%;  
            transform: translateX(-50%);  
            background: linear-gradient(135deg,     
                var(--color-primary-pink) 0%,     
                var(--color-lavender) 100%);  
            color: white;  
            padding: 18px 35px;  
            border-radius: 25px;  
            z-index: 2000;  
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);  
            font-size: 14px;  
            font-weight: 500;  
            animation: fadeInOut 3s ease-out forwards;  
        }  
  
        @keyframes fadeInOut {  
            0% { opacity: 0; transform: translateX(-50%) translateY(-20px); }  
            20% { opacity: 1; transform: translateX(-50%) translateY(0); }  
            80% { opacity: 1; transform: translateX(-50%) translateY(0); }  
            100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }  
        }  
  
        .fade-in {  
            animation: fadeIn 0.6s ease-out;  
        }  
  
        @keyframes fadeIn {  
            from { opacity: 0; transform: translateY(25px); }  
            to { opacity: 1; transform: translateY(0); }  
        }  
  
        .hide {  
            display: none !important;  
        }  
  
        /* ë§ˆì´í˜ì´ì§€ */  
        .mypage-menu {  
            list-style: none;  
            padding: 0;  
        }  
  
        .mypage-menu li {  
            margin-bottom: 14px;  
        }  
  
        .mypage-button {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
            width: 100%;  
            padding: 16px;  
            border: none;  
            background: linear-gradient(135deg,     
                rgba(255, 255, 255, 0.95) 0%,     
                rgba(240, 249, 255, 0.9) 100%);  
            border-radius: 20px;  
            font-weight: 500;  
            cursor: pointer;  
            transition: all 0.3s;  
            text-align: left;  
            font-size: 15px;  
            color: var(--color-text-dark);  
            box-shadow: 0 4px 15px rgba(91, 155, 213, 0.08);  
        }  
  
        .mypage-button:hover {  
            background: var(--color-light-blue);  
            transform: translateY(-2px);  
        }  
  
        .mypage-button::after {  
            content: 'â€º';  
            font-size: 18px;  
            color: var(--color-primary-blue);  
            font-weight: 700;  
        }  
  
        /* ì¹´í…Œê³ ë¦¬ ìƒ‰ìƒ */  
        .category-letter { background: linear-gradient(135deg, var(--color-sky-blue) 0%, var(--color-primary-blue) 100%); }  
        .category-lab { background: linear-gradient(135deg, var(--color-primary-pink) 0%, var(--color-light-pink) 100%); }  
    </style>  
</head>  
<body>  
    <!-- í•‘í¬ë¼ë²¤ë” ë¡œê·¸ì¸ ëª¨ë‹¬ -->  
    <div id="loginModal" class="auth-modal">  
        <div class="auth-content">  
            <h2>ë¡œê·¸ì¸</h2>  
            <input type="email" id="loginEmail" class="auth-input" placeholder="ì´ë©”ì¼">  
            <input type="password" id="loginPassword" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸">  
            <div class="checkbox-container">  
                <input type="checkbox" id="rememberMe">  
                <label for="rememberMe">ë¡œê·¸ì¸ ì •ë³´ ê¸°ì–µí•˜ê¸°</label>  
            </div>  
            <button onclick="handleLogin()" class="auth-button">ë¡œê·¸ì¸</button>  
            <div class="auth-link">  
                <p style="color: var(--color-text-medium); font-size: 12px; margin-bottom: 8px;">ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?</p>  
                <button onclick="showSignup()">íšŒì›ê°€ì…</button>  
            </div>  
        </div>  
    </div>  
  
    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->  
    <div id="signupModal" class="other-modal hide">  
        <div class="modal-content">  
            <h3>íšŒì›ê°€ì…</h3>  
            <input type="email" id="signupEmail" class="auth-input" placeholder="ì´ë©”ì¼">  
            <input type="password" id="signupPassword" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ)">  
            <input type="password" id="signupPasswordConfirm" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸">  
            <button onclick="handleSignup()" class="auth-button">ê°€ì…í•˜ê¸°</button>  
            <button onclick="showLogin()" class="auth-button" style="background: transparent; border: 2px solid var(--color-primary-pink); color: var(--color-primary-pink); margin-top: 15px;">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>  
        </div>  
    </div>  
  
    <!-- ê¸€ì“°ê¸° ëª¨ë‹¬ -->  
    <div id="writeModal" class="other-modal hide">  
        <div class="modal-content">  
            <h3>ë ˆí„° ì•„ì¹´ì´ë¸Œ ê¸€ì“°ê¸°</h3>  
            <div class="category-filter">  
                <button class="category-btn active" data-category="letter">ìíœ´ë ˆí„°</button>  
                <button class="category-btn" data-category="lab">ìíœ´ë©</button>  
            </div>  
            <textarea id="writeText" class="auth-input" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" style="height: 120px; resize: none;"></textarea>  
            <div onclick="document.getElementById('imageFile').click()" style="border: 2px dashed var(--color-light-blue); border-radius: 20px; padding: 30px; text-align: center; margin: 20px 0; cursor: pointer; background: rgba(240, 249, 255, 0.5);">  
                <div style="font-size: 36px; margin-bottom: 12px;">ğŸ“·</div>  
                <p style="color: var(--color-text-medium);">ì‚¬ì§„ ì¶”ê°€í•˜ê¸°</p>  
                <input type="file" id="imageFile" accept="image/*" style="display: none;" onchange="handleImageSelect(event)">  
            </div>  
            <button onclick="submitLetter()" class="auth-button">ê²Œì‹œí•˜ê¸°</button>  
            <button onclick="closeWriteModal()" class="auth-button" style="background: transparent; border: 2px solid var(--color-primary-pink); color: var(--color-primary-pink); margin-top: 15px;">ì·¨ì†Œ</button>  
        </div>  
    </div>  
  
    <!-- ìƒì„¸ í˜ì´ì§€ ëª¨ë‹¬ -->  
    <div id="detailModal" class="other-modal hide">  
        <div class="modal-content" style="max-width: 90%;">  
            <div id="detailContent"></div>  
        </div>  
    </div>  
  
    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->  
    <div id="appContainer" class="main-container">  
    </div>  
  
    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->  
    <nav id="bottomNav" class="bottom-nav">  
        <a href="#" class="nav-item active" data-tab="home">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>  
                </svg>  
            </div>  
            <span>í™ˆ</span>  
        </a>  
        <a href="#" class="nav-item" data-tab="letter">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>  
                </svg>  
            </div>  
            <span>ë ˆí„°</span>  
        </a>  
        <a href="#" class="nav-item central-button" data-tab="mood">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>  
                </svg>  
            </div>  
            <span>ë¬´ë“œ</span>  
        </a>  
        <a href="#" class="nav-item" data-tab="mypage">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>  
                </svg>  
            </div>  
            <span>ë§ˆì´</span>  
        </a>  
    </nav>  
  
    <script>  
        // ì‚¬ìš©ì ë°ì´í„°  
        const users = [  
            { id: 'happxi@jahyu.com', name: 'í–…ì”¨', password: 'admin123', role: 'super_admin', avatar: 'í–…' },  
            { id: 'elly@jahyu.com', name: 'ì—˜ë¦¬', password: 'admin123', role: 'admin', avatar: 'ì—˜' },  
            { id: 'gokal@jahyu.com', name: 'ê³ ì¹¼', password: 'admin123', role: 'admin', avatar: 'ê³ ' },  
            { id: 'yudan@jahyu.com', name: 'ìœ ë‹¨', password: 'admin123', role: 'admin', avatar: 'ìœ ' },  
            { id: 'sunny@jahyu.com', name: 'ì¨ë‹ˆ', password: 'admin123', role: 'admin', avatar: 'ì¨' },  
            { id: 'hyeran@example.com', name: 'í˜œë€', password: 'user123', role: 'user', avatar: 'í˜œ' }  
        ];  
  
        // ì „ì—­ ë³€ìˆ˜  
        let currentUser = null;  
        let currentTab = 'home';  
        let userStamps = 0;  
        let selectedImage = null;  
        let letterFilter = 'all';  
        let isLoggedIn = false;  
        const MAX_STAMPS = 30;  
  
        // ë ˆí„° ë°ì´í„°  
        const letters = [  
            {  
                id: 1,  
                author: 'í–…ì”¨',  
                category: 'letter',  
                title: '12ì›” ì²« ë²ˆì§¸ ìíœ´ë ˆí„°',  
                content: 'ê²¨ìš¸ì´ ë˜ë©´ ì°½ë°–ì„ ë³´ë©° ë”°ëœ»í•œ ì°¨ í•œì”ì˜ ì—¬ìœ ë¥¼ ì¦ê²ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì˜¤ëŠ˜ì€ ì–´ë–¤ê°€ìš”? ì‘ì€ í–‰ë³µì„ ì°¾ì•„ë³´ì‹œëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ê¸¸ ì¶”ì²œí•©ë‹ˆë‹¤.',  
                date: '2025.12.10',  
                image: null,  
                likes: 25,  
                comments: 8,  
                likedBy: [],  
                bookmarkedBy: [],  
                commentsData: [  
                    { id: 101, author: 'í˜œë€', content: 'ì •ë§ ê³µê°ë¼ìš”! ì˜¤ëŠ˜ë„ ì°¨ í•œì” í•˜ë©° ì‰¬ì—ˆì–´ìš”!', date: '2025.12.10' },  
                    { id: 102, author: 'ì—˜ë¦¬', content: 'í–…ì”¨ë‹˜ì˜ ê¸€ì€ í•­ìƒ ë§ˆìŒì„ ì•ˆì •ì‹œì¼œì¤˜ìš”â¤ï¸', date: '2025.12.10' }  
                ]  
            },  
            {  
                id: 2,  
                author: 'ì—˜ë¦¬',  
                category: 'lab',  
                title: 'ì£¼ë§ì˜ ê°€ì¥ ì™„ë²½í•œ íœ´ì‹ ë°©ë²•',  
                content: 'ì£¼ë§ì„ ì•Œì°¨ê²Œ ë³´ë‚´ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ì§€ë§Œ, ë•Œë¡œëŠ” ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠëŠ” ê²ƒë„ íœ´ì‹ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì†ŒíŒŒì— ëˆ„ì›Œ ë© ë•Œë¦¬ëŠ” ì‹œê°„ì˜ ì†Œì¤‘í•¨!',  
                date: '2025.12.09',  
                image: null,  
                likes: 18,  
                comments: 5,  
                likedBy: [],  
                bookmarkedBy: [],  
                commentsData: []  
            },  
            {  
                id: 3,  
                author: 'ê³ ì¹¼',  
                category: 'letter',  
                title: 'ê³„ì ˆì˜ ëìë½ì—ì„œ ëŠë¼ëŠ” ë”°ìŠ¤í•¨',  
                content: 'ê°€ì„ê³¼ ê²¨ìš¸ì˜ ê²½ê³„ì— ì„œì„œ ëŠë¼ëŠ” ì˜¨ë„ê°€ íŠ¹ë³„í•©ë‹ˆë‹¤. ë°”ëŒì´ ìŠ¤ì¹˜ëŠ” ìˆœê°„ë§ˆë‹¤ ê³„ì ˆì˜ ì´ì•¼ê¸°ê°€ ë‹´ê²¨ìˆì£ .',  
                date: '2025.12.08',  
                image: null,  
                likes: 32,  
                comments: 12,  
                likedBy: [],  
                bookmarkedBy: [],  
                commentsData: []  
            }  
        ];  
  
        // ë‚ ì§œ ìœ í‹¸ë¦¬í‹°  
        function getTodayDateString() {  
            const now = new Date();  
            const year = now.getFullYear();  
            const month = String(now.getMonth() + 1).padStart(2, '0');  
            const day = String(now.getDate()).padStart(2, '0');  
            return `${year}.${month}.${day}`;  
        }  
  
        // ì´ˆê¸°í™”  
        document.addEventListener('DOMContentLoaded', function() {  
            checkAutoLogin();  
        });  
  
        // ìë™ ë¡œê·¸ì¸ ì²´í¬  
        function checkAutoLogin() {  
            const savedEmail = localStorage.getItem('rememberedEmail');  
            const autoLogin = localStorage.getItem('autoLogin') === 'true';  
                
            if (savedEmail && autoLogin) {  
                const user = users.find(u => u.id === savedEmail);  
                if (user) {  
                    currentUser = user;  
                    isLoggedIn = true;  
                    hideLoginModal();  
                    showMainApp();  
                    renderTab('home');  
                    showToast('ìë™ ë¡œê·¸ì¸ ë˜ì—ˆìŠµë‹ˆë‹¤! ì•ˆë…•í•˜ì„¸ìš” ' + user.name + 'ë‹˜!');  
                    document.getElementById('rememberMe').checked = true;  
                    return;  
                }  
            }  
                
            showLoginModal();  
        }  
  
        // ë¡œê·¸ì¸ ì²˜ë¦¬  
        function handleLogin() {  
            const email = document.getElementById('loginEmail').value.trim();  
            const password = document.getElementById('loginPassword').value.trim();  
            const rememberMe = document.getElementById('rememberMe').checked;  
                
            if (!email || !password) {  
                showToast('ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
                
            const user = users.find(u => u.id === email && u.password === password);  
            if (user) {  
                currentUser = user;  
                isLoggedIn = true;  
                    
                if (rememberMe) {  
                    localStorage.setItem('rememberedEmail', email);  
                    localStorage.setItem('autoLogin', 'true');  
                } else {  
                    localStorage.removeItem('rememberedEmail');  
                    localStorage.removeItem('autoLogin');  
                }  
                    
                hideLoginModal();  
                showMainApp();  
                renderTab('home');  
                showToast('ë¡œê·¸ì¸ ì„±ê³µ! ì•ˆë…•í•˜ì„¸ìš” ' + user.name + 'ë‹˜!');  
            } else {  
                showToast('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
            }  
        }  
  
        // íšŒì›ê°€ì… ì²˜ë¦¬  
        function handleSignup() {  
            const email = document.getElementById('signupEmail').value.trim();  
            const password = document.getElementById('signupPassword').value.trim();  
            const confirm = document.getElementById('signupPasswordConfirm').value.trim();  
                
            if (!email || !password || !confirm) {  
                showToast('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
                
            if (password !== confirm) {  
                showToast('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
                return;  
            }  
                
            if (password.length < 8) {  
                showToast('ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');  
                return;  
            }  
                
            if (users.find(u => u.id === email)) {  
                showToast('ì´ë¯¸ ê°€ì…ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.');  
                return;  
            }  
                
            const newUser = {  
                id: email,  
                name: email.split('@')[0],  
                password: password,  
                role: 'user',  
                avatar: email[0].toUpperCase()  
            };  
                
            users.push(newUser);  
            showToast('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');  
            showLogin();  
        }  
  
        // ëª¨ë‹¬ ì œì–´  
        function showLoginModal() {  
            const savedEmail = localStorage.getItem('rememberedEmail');  
            if (savedEmail) {  
                document.getElementById('loginEmail').value = savedEmail;  
                document.getElementById('rememberMe').checked = true;  
            }  
            document.getElementById('loginModal').classList.remove('hide');  
        }  
  
        function hideLoginModal() {  
            document.getElementById('loginModal').classList.add('hide');  
        }  
  
        function showMainApp() {  
            document.getElementById('appContainer').classList.add('show');  
            document.getElementById('bottomNav').classList.add('show');  
        }  
  
        function showSignup() {  
            document.getElementById('signupModal').classList.remove('hide');  
        }  
  
        function showLogin() {  
            document.getElementById('signupModal').classList.add('hide');  
            document.getElementById('loginModal').classList.remove('hide');  
        }  
  
        function openWriteModal() {  
            // ê´€ë¦¬ìë§Œ ì‘ì„± ê°€ëŠ¥  
            if (!currentUser || currentUser.role === 'user') {  
                showToast('ë ˆí„° ì‘ì„±ì€ ê´€ë¦¬ìë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');  
                return;  
            }  
            document.getElementById('writeModal').classList.remove('hide');  
        }  
  
        function closeWriteModal() {  
            document.getElementById('writeModal').classList.add('hide');  
            selectedImage = null;  
            document.getElementById('writeText').value = '';  
            // ì¹´í…Œê³ ë¦¬ ì´ˆê¸°í™”  
            document.querySelectorAll('.category-btn').forEach(btn => {  
                btn.classList.remove('active');  
                if (btn.dataset.category === 'letter') {  
                    btn.classList.add('active');  
                }  
            });  
        }  
  
        function handleImageSelect(event) {  
            const file = event.target.files[0];  
            if (file) {  
                const reader = new FileReader();  
                reader.onload = function(e) {  
                    selectedImage = e.target.result;  
                    const imageArea = event.target.parentElement;  
                    imageArea.innerHTML = `  
                        <img src="${selectedImage}" style="max-width: 100%; max-height: 200px; border-radius: 12px; margin-bottom: 10px;">  
                        <p style="color: var(--color-text-medium);">ì‚¬ì§„ ë³€ê²½í•˜ê¸°</p>  
                    `;  
                };  
                reader.readAsDataURL(file);  
            }  
        }  
  
        function submitLetter() {  
            const content = document.getElementById('writeText').value.trim();  
            const activeCategory = document.querySelector('.category-btn.active').dataset.category;  
              
            if (!content) {  
                showToast('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
  
            const newLetter = {  
                id: letters.length + 1,  
                author: currentUser.name,  
                category: activeCategory,  
                title: content.substring(0, 30) + (content.length > 30 ? '...' : ''),  
                content: content,  
                date: getTodayDateString(),  
                image: selectedImage,  
                likes: 0,  
                comments: 0,  
                likedBy: [],  
                bookmarkedBy: [],  
                commentsData: []  
            };  
  
            letters.unshift(newLetter);  
            closeWriteModal();  
            renderTab('letter');  
            showToast('ë ˆí„°ê°€ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');  
        }  
  
        function handleLogout() {  
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {  
                localStorage.removeItem('rememberedEmail');  
                localStorage.removeItem('autoLogin');  
                  
                currentUser = null;  
                isLoggedIn = false;  
                document.getElementById('appContainer').classList.remove('show');  
                document.getElementById('bottomNav').classList.remove('show');  
                  
                document.getElementById('loginEmail').value = '';  
                document.getElementById('loginPassword').value = '';  
                document.getElementById('rememberMe').checked = false;  
                  
                showLoginModal();  
            }  
        }  
  
        function showToast(message) {  
            const existingToast = document.querySelector('.toast-message');  
            if (existingToast) {  
                existingToast.remove();  
            }  
  
            const toast = document.createElement('div');  
            toast.className = 'toast-message';  
            toast.textContent = message;  
            document.body.appendChild(toast);  
                
            setTimeout(() => {  
                toast.remove();  
            }, 3000);  
        }  
  
        function filterLetters(category) {  
            letterFilter = category;  
            renderTab('letter');  
        }  
  
        function toggleLike(event, letterId) {  
            event.stopPropagation();  
            const letter = letters.find(l => l.id === letterId);  
            if (!letter || !currentUser) return;  
  
            const userIndex = letter.likedBy.indexOf(currentUser.id);  
            if (userIndex > -1) {  
                letter.likedBy.splice(userIndex, 1);  
                letter.likes--;  
            } else {  
                letter.likedBy.push(currentUser.id);  
                letter.likes++;  
            }  
  
            renderTab('letter');  
        }  
  
        function toggleBookmark(event, letterId) {  
            event.stopPropagation();  
            const letter = letters.find(l => l.id === letterId);  
            if (!letter || !currentUser) return;  
  
            const userIndex = letter.bookmarkedBy.indexOf(currentUser.id);  
            if (userIndex > -1) {  
                letter.bookmarkedBy.splice(userIndex, 1);  
            } else {  
                letter.bookmarkedBy.push(currentUser.id);  
            }  
  
            renderTab('letter');  
        }  
  
        function showLetterDetail(letterId) {  
            const letter = letters.find(l => l.id === letterId);  
            if (!letter) return;  
  
            const modal = document.getElementById('detailModal');  
            const content = document.getElementById('detailContent');  
              
            const userProfile = users.find(u => u.name === letter.author);  
            const avatar = userProfile ? userProfile.avatar : letter.author[0];  
            const categoryClass = letter.category === 'letter' ? 'category-letter' : 'category-lab';  
            const isLiked = letter.likedBy.includes(currentUser?.id);  
            const isBookmarked = letter.bookmarkedBy.includes(currentUser?.id);  
  
            content.innerHTML = `  
                <div style="max-width: 600px; margin: 0 auto;">  
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 30px;">  
                        <div style="display: flex; align-items: center;">  
                            <div class="letter-avatar ${categoryClass}" style="width: 50px; height: 50px; font-size: 18px;">${avatar}</div>  
                            <div style="margin-left: 15px;">  
                                <h3 style="color: var(--color-text-dark); margin: 0;">${letter.author}</h3>  
                                <p style="color: var(--color-text-light); margin: 0; font-size: 14px;">${letter.date}</p>  
                            </div>  
                        </div>  
                        <span class="auth-input" style="padding: 8px 16px; font-size: 14px; background: ${letter.category === 'letter' ? 'var(--color-sky-blue)' : 'var(--color-light-pink)'}; border: none; color: white;">  
                            ${letter.category === 'letter' ? 'ìíœ´ë ˆí„°' : 'ìíœ´ë©'}  
                        </span>  
                    </div>  
  
                    <h2 style="color: var(--color-text-dark); margin-bottom: 20px;">${letter.title}</h2>  
  
                    ${letter.image ? `<img src="${letter.image}" style="width: 100%; max-height: 400px; object-fit: cover; border-radius: 16px; margin-bottom: 20px;">` : ''}  
  
                    <div style="font-size: 16px; line-height: 1.8; color: var(--color-text-medium); margin-bottom: 30px; white-space: pre-wrap;">${letter.content}</div>  
  
                    <div style="display: flex; gap: 15px; justify-content: center;">  
                        <button class="action-btn ${isLiked ? 'active' : ''}" onclick="toggleLike(event, ${letter.id})">  
                            â¤ï¸ ${letter.likes}  
                        </button>  
                        <button class="action-btn">  
                            ğŸ’¬ ${letter.comments}  
                        </button>  
                        <button class="action-btn ${isBookmarked ? 'active' : ''}" onclick="toggleBookmark(event, ${letter.id})">  
                            ğŸ”–  
                        </button>  
                    </div>  
  
                    ${letter.commentsData.length > 0 ? `  
                        <div style="margin-top: 30px; padding-top: 30px; border-top: 1px solid var(--color-light-blue);">  
                            <h4 style="color: var(--color-text-dark); margin-bottom: 20px;">ëŒ“ê¸€ (${letter.commentsData.length})</h4>  
                            ${letter.commentsData.map(comment => {  
                                const commentUser = users.find(u => u.name === comment.author);  
                                const commentAvatar = commentUser ? commentUser.avatar : comment.author[0];  
                                return `  
                                    <div style="margin-bottom: 15px;">  
                                        <div style="display: flex; align-items: center; margin-bottom: 8px;">  
                                            <div class="letter-avatar" style="width: 32px; height: 32px; font-size: 14px; background: linear-gradient(135deg, var(--color-sky-blue) 0%, var(--color-primary-blue) 100%);">${commentAvatar}</div>  
                                            <div style="margin-left: 10px;">  
                                                <strong style="color: var(--color-text-dark);">${comment.author}</strong>  
                                                <span style="color: var(--color-text-light); font-size: 12px; margin-left: 8px;">${comment.date}</span>  
                                            </div>  
                                        </div>  
                                        <p style="color: var(--color-text-medium); margin-left: 42px; font-size: 14px;">${comment.content}</p>  
                                    </div>  
                                `;  
                            }).join('')}  
                        </div>  
                    ` : ''}  
                </div>  
                <button onclick="closeDetailModal()" class="auth-button" style="margin-top: 30px; background: transparent; border: 2px solid var(--color-primary-pink); color: var(--color-primary-pink);">ë‹«ê¸°</button>  
            `;  
              
            modal.classList.remove('hide');  
        }  
  
        function closeDetailModal() {  
            document.getElementById('detailModal').classList.add('hide');  
        }  
  
        function getUserColor(name) {  
            switch (name) {  
                case 'í–…ì”¨': return 'linear-gradient(135deg, var(--color-sky-blue) 0%, var(--color-primary-blue) 100%)';  
                case 'ì—˜ë¦¬': return 'linear-gradient(135deg, var(--color-primary-pink) 0%, var(--color-light-pink) 100%)';  
                case 'ê³ ì¹¼': return 'linear-gradient(135deg, var(--color-mint) 0%, #4CAF50 100%)';  
                case 'ìœ ë‹¨': return 'linear-gradient(135deg, var(--color-lavender) 0%, #9370DB 100%)';  
                case 'ì¨ë‹ˆ': return 'linear-gradient(135deg, var(--color-peach) 0%, #FFA07A 100%)';  
                default: return 'linear-gradient(135deg, var(--color-sky-blue) 0%, var(--color-primary-blue) 100%)';  
            }  
        }  
  
        // í…œí”Œë¦¿ í•¨ìˆ˜ë“¤  
        function getHomeTemplate() {  
            return `  
                <div class="fade-in">  
                    <div class="home-header">  
                        <h1>í–…ì‚ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”!</h1>  
                        <p>ë©”ë§ˆë¥¸ ì¼ìƒì— íœ´ì‹ í•œ ë°©ìš¸!</p>  
                    </div>  
  
                    <div class="glass-card bubble-animation">  
                        <div style="text-align: center; padding: 20px 0;">  
                            <h2 style="color: var(--color-primary-blue); font-size: 20px; margin-bottom: 10px; font-weight: 600;">  
                                ì˜¤ëŠ˜ì€ ì–´ë–¤ íë§ì´ í•„ìš”í•˜ì„¸ìš”?  
                            </h2>  
                            <p style="color: var(--color-text-medium); margin-bottom: 20px; font-size: 14px;">  
                                ë ˆí„° ì•„ì¹´ì´ë¸Œë¥¼ ì£¼ì œë³„ë¡œ í•œ ëˆˆì—!  
                            </p>  
                        </div>  
                    </div>  
  
                    <div class="menu-container">  
                        <a href="https://maily.so/happci/" class="menu-item" target="_blank">  
                            <div class="menu-icon">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M20 4H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>  
                                </svg>  
                            </div>  
                            <p>ë ˆí„° ì½ê¸°</p>  
                        </a>  
                        <a href="https://index-html-zak5.vercel.app/" class="menu-item" target="_blank">  
                            <div class="menu-icon">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>  
                                </svg>  
                            </div>  
                            <p>íë§ í…ŒìŠ¤íŠ¸</p>  
                        </a>  
                        <a href="#" class="menu-item" data-tab="mood">  
                            <div class="menu-icon">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>  
                                </svg>  
                            </div>  
                            <p>ì˜¤ëŠ˜ì˜ ë¬´ë“œ</p>  
                        </a>  
                        <a href="http://pf.kakao.com/_Jfjxgn/111753149" class="menu-item" target="_blank">  
                            <div class="menu-icon">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>  
                                </svg>  
                            </div>  
                            <p>ë¬¸ì¥ ìˆ˜ì§‘</p>  
                        </a>  
                        <a href="http://pf.kakao.com/_Jfjxgn" class="menu-item" target="_blank">  
                            <div class="menu-icon">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>  
                                </svg>  
                            </div>  
                            <p>1:1 ì±„íŒ…</p>  
                        </a>  
                    </div>  
                </div>  
            `;  
        }  
  
        function getLetterTemplate() {  
            const filteredLetters = letterFilter === 'all' ? letters : letters.filter(l => l.category === letterFilter);  
            const isAdmin = currentUser && currentUser.role !== 'user';  
  
            return `  
                <div class="fade-in">  
                    <div class="back-button" onclick="renderTab('home')">  
                        <svg viewBox="0 0 24 24">  
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>  
                        </svg>  
                    </div>  
  
                    <div class="home-header">  
                        <h2>ë ˆí„° ì•„ì¹´ì´ë¸Œ</h2>  
                        <p>ì—ë””í„°ì˜ ì†Œì¤‘í•œ ê¸€ì„ ì½ì–´ë³´ì„¸ìš”</p>  
                    </div>  
  
                    ${isAdmin ? `  
                        <button onclick="openWriteModal()" class="auth-button" style="width: 100%; margin-bottom: 20px;">  
                            âœï¸ ê¸€ì“°ê¸°  
                        </button>  
                    ` : ''}  
  
                    <div class="category-filter">  
                        <button class="category-btn ${letterFilter === 'all' ? 'active' : ''}" onclick="filterLetters('all')">ì „ì²´</button>  
                        <button class="category-btn ${letterFilter === 'letter' ? 'active' : ''}" onclick="filterLetters('letter')">ìíœ´ë ˆí„°</button>  
                        <button class="category-btn ${letterFilter === 'lab' ? 'active' : ''}" onclick="filterLetters('lab')">ìíœ´ë©</button>  
                    </div>  
  
                    <div>  
                        ${filteredLetters.map(letter => {  
                            const userProfile = users.find(u => u.name === letter.author);  
                            const avatar = userProfile ? userProfile.avatar : letter.author[0];  
                            const categoryClass = letter.category === 'letter' ? 'category-letter' : 'category-lab';  
                            const isLiked = letter.likedBy.includes(currentUser?.id);  
                            const isBookmarked = letter.bookmarkedBy.includes(currentUser?.id);  
  
                            return `  
                                <div class="letter-item" onclick="showLetterDetail(${letter.id})">  
                                    <div class="letter-header">  
                                        <div class="letter-avatar ${categoryClass}">${avatar}</div>  
                                        <div class="letter-info">  
                                            <h4>${letter.author} Â· ${letter.category === 'letter' ? 'ìíœ´ë ˆí„°' : 'ìíœ´ë©'}</h4>  
                                            <p>${letter.date}</p>  
                                        </div>  
                                    </div>  
                                    <h3 style="color: var(--color-text-dark); margin-bottom: 10px; font-size: 18px;">${letter.title}</h3>  
                                    <p class="letter-content" style="font-size: 14px; margin-bottom: 10px;">${letter.content.substring(0, 100)}${letter.content.length > 100 ? '...' : ''}</p>  
                                    ${letter.image ? `<img src="${letter.image}" class="letter-image">` : ''}  
                                    <div class="letter-actions">  
                                        <button class="action-btn ${isLiked ? 'active' : ''}" onclick="toggleLike(event, ${letter.id})">  
                                            â¤ï¸ ${letter.likes}  
                                        </button>  
                                        <button class="action-btn">  
                                            ğŸ’¬ ${letter.comments}  
                                        </button>  
                                        <button class="action-btn ${isBookmarked ? 'active' : ''}" onclick="toggleBookmark(event, ${letter.id})">  
                                            ğŸ”–  
                                        </button>  
                                    </div>  
                                </div>  
                            `;  
                        }).join('')}  
                    </div>  
                </div>  
            `;  
        }  
  
        function getMoodTemplate() {  
            return `  
                <div class="fade-in">  
                    <div class="back-button" onclick="renderTab('home')">  
                        <svg viewBox="0 0 24 24">  
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>  
                        </svg>  
                    </div>  
  
                    <div class="home-header">  
                        <h2>ì˜¤ëŠ˜ì˜ ë¬´ë“œ</h2>  
                        <p>ë‹¹ì‹ ì˜ ê°ì •ì„ ê¸°ë¡í•´ë³´ì„¸ìš”</p>  
                    </div>  
  
                    <div class="glass-card bubble-animation" style="text-align: center; padding: 60px 20px; min-height: 300px;">  
                        <p style="font-size: 18px; color: var(--color-text-medium); margin-bottom: 30px;">  
                            ì—¬ê¸°ì— ì›”ê°„/ì£¼ê°„ ë¬´ë“œ íŠ¸ë˜ì»¤ê°€ ì‹œê°í™”ë©ë‹ˆë‹¤  
                        </p>  
                        <div style="font-size: 64px; margin-bottom: 30px;">ğŸ“Š</div>  
                        <div style="font-size: 14px; color: var(--color-text-light); line-height: 1.6;">  
                            ë¬´ë“œ ê¸°ë¡ ê¸°ëŠ¥ì€ ë‚´ì¼ ì˜¤í”ˆë  ì˜ˆì •ì…ë‹ˆë‹¤<br>  
                            <span style="font-size: 12px; color: var(--color-primary-pink); font-weight: 600;">*ì¤€ë¹„ ì¤‘ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤*</span>  
                        </div>  
                    </div>  
                </div>  
            `;  
        }  
  
        function getMyPageTemplate() {  
            const isVIP = userStamps >= MAX_STAMPS;  
  
            return `  
                <div class="fade-in">  
                    <div class="back-button" onclick="renderTab('home')">  
                        <svg viewBox="0 0 24 24">  
                            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>  
                        </svg>  
                    </div>  
  
                    <div class="home-header">  
                        <h2>${isVIP ? 'â­ VIP í–…ì‚ë‹˜!' : 'My Space'}</h2>  
                        <p style="font-weight: 400;">${isVIP ? 'íŠ¹ë³„í•œ í˜œíƒì„ ì¦ê²¨ë³´ì„¸ìš”!' : 'ì˜¤ëŠ˜ë„ ìíœ´ë ˆí„°ì™€ í•¨ê»˜í•´ìš”'}</p>  
                    </div>  
  
                    <ul class="mypage-menu">  
                        ${currentUser && currentUser.role !== 'user' ? `  
                            <li><button class="mypage-button" onclick="openWriteModal()">ë ˆí„° ì‘ì„±</button></li>  
                        ` : ''}  
                        <li><button class="mypage-button" onclick="filterLetters('letter'); renderTab('letter');">ì¢‹ì•„ìš”í•œ ê¸€</button></li>  
                        <li><button class="mypage-button" onclick="filterLetters('lab'); renderTab('letter');">ë¶ë§ˆí¬í•œ ê¸€</button></li>  
                        <li><button class="mypage-button" onclick="renderTab('mood')">ìíœ´ ìŠ¤íƒ¬í”„ (${userStamps}ê°œ)</button></li>  
                        <li><button class="mypage-button" onclick="handleLogout()">ë¡œê·¸ì•„ì›ƒ</button></li>  
                    </ul>  
  
                    <div class="glass-card">  
                        <h3 style="color: var(--color-primary-blue); margin-bottom: 20px; text-align: center;">ë‚˜ì˜ ìíœ´ ìŠ¤íƒ¬í”„</h3>  
                        <div class="stamp-container">  
                            ${Array(MAX_STAMPS).fill(0).map((_, index) => `  
                                <div class="stamp-item ${index < userStamps ? 'filled' : 'empty'}">  
                                    <span class="stamp-number">${index + 1}</span>  
                                </div>  
                            `).join('')}  
                        </div>  
                        <p style="text-align: center; margin-top: 20px; font-size: 12px; color: var(--color-text-medium);">  
                            *ë ˆí„° ì¢‹ì•„ìš”/ë¶ë§ˆí¬ ì‹œ ìŠ¤íƒ¬í”„ ì ë¦½! ${MAX_STAMPS}ê°œ ëª¨ìœ¼ì‹œë©´ VIP íŠ¹ë³„ ë ˆí„°ê°€ ë„ì°©í•´ìš”!â¤ï¸  
                        </p>  
                    </div>  
                </div>  
            `;  
        }  
  
        function renderTab(tabName) {  
            if (!isLoggedIn && tabName !== 'home') {  
                showToast('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');  
                showLoginModal();  
                return;  
            }  
  
            currentTab = tabName;  
            const container = document.getElementById('appContainer');  
              
            // ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸  
            document.querySelectorAll('.nav-item').forEach(item => {  
                item.classList.remove('active');  
                if (item.getAttribute('data-tab') === tabName) {  
                    item.classList.add('active');  
                }  
            });  
  
            switch (tabName) {  
                case 'home':  
                    container.innerHTML = getHomeTemplate();  
                    break;  
                case 'letter':  
                    container.innerHTML = getLetterTemplate();  
                    break;  
                case 'mood':  
                    container.innerHTML = getMoodTemplate();  
                    break;  
                case 'mypage':  
                    container.innerHTML = getMyPageTemplate();  
                    break;  
                default:  
                    container.innerHTML = '<div class="glass-card"><p>í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></div>';  
            }  
  
            window.scrollTo(0, 0);  
        }  
  
        // ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸  
        document.getElementById('bottomNav').addEventListener('click', function(e) {  
            const navItem = e.target.closest('.nav-item');  
            if (navItem && navItem.hasAttribute('data-tab')) {  
                e.preventDefault();  
                const tabName = navItem.getAttribute('data-tab');  
                renderTab(tabName);  
            }  
        });  
  
        // ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ì´ë²¤íŠ¸  
        document.addEventListener('click', function(e) {  
            if (e.target.classList.contains('category-btn')) {  
                e.preventDefault();  
                document.querySelectorAll('.category-btn').forEach(btn => {  
                    btn.classList.remove('active');  
                });  
                e.target.classList.add('active');  
            }  
        });  
    </script>  
</body>  
</html>  
