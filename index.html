<!DOCTYPE html>  
<html lang="ko">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>ìíœ´ë ˆí„° - ììœ ë¡œìš´ ë‹¹ì‹ ì˜ íœ´ì‹ ê°€ì´ë“œ</title>  
    <script src="https://cdn.tailwindcss.com"></script>  
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">  
    <style>  
        * {  
            font-family: 'Noto Sans KR', sans-serif;  
        }  
          
        /* ğŸ¨ íŠ¸ë Œë””í•œ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ */  
        :root {  
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);  
            --bg-gradient: linear-gradient(135deg, #e0e7ff 0%, #f3e7e9 100%);  
            --card-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);  
            --primary-blue: #667eea;  
            --soft-blue: #e0e7ff;  
            --accent-pink: #f093fb;  
            --text-dark: #4a5568;  
            --text-light: #718096;  
            --glass-bg: rgba(255, 255, 255, 0.9);  
            --new-badge-gradient: linear-gradient(135deg, #ff6b6b 0%, #ff8787 100%);  
            --secret-bg: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);  
            --happxi-bg: linear-gradient(135deg, #ffd70020 0%, #ffb34720 100%);  
        }  
  
        body {  
            background: var(--bg-gradient);  
            min-height: 100vh;  
            overflow-x: hidden;  
        }  
  
        /* âœ¨ ìœ ë¦¬ì§ˆê° ë””ìì¸ */  
        .glass-card {  
            background: var(--glass-bg);  
            backdrop-filter: blur(15px);  
            border: 1px solid rgba(255, 255, 255, 0.3);  
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.1);  
        }  
  
        /* ğŸ”’ ë³´ì•ˆ 10ë‹¨ê³„ ê°•í™” - í”„ë¼ì´ë²„ì‹œ ë³´í˜¸ ë””ìì¸ */  
        .privacy-protected {  
            background: var(--secret-bg);  
            backdrop-filter: blur(15px);  
            border: 2px solid rgba(102, 126, 234, 0.15);  
            border-radius: 20px;  
            padding: 20px;  
            position: relative;  
            overflow: hidden;  
        }  
  
        .privacy-protected::before {  
            content: 'ğŸ”’';  
            position: absolute;  
            top: 8px;  
            right: 8px;  
            font-size: 16px;  
            opacity: 0.2;  
            animation: privacyPulse 3s ease-in-out infinite;  
        }  
  
        .privacy-protected::after {  
            content: '';  
            position: absolute;  
            top: 0;  
            left: 0;  
            right: 0;  
            bottom: 0;  
            background: radial-gradient(circle at center, transparent 0%, rgba(102, 126, 234, 0.03) 100%);  
            pointer-events: none;  
            z-index: 1;  
        }  
  
        /* ğŸ‘‘ í–…ì”¨ ì „ìš© ê´€ë¦¬ì ë””ìì¸ */  
        .happxi-admin {  
            background: var(--happxi-bg);  
            backdrop-filter: blur(15px);  
            border: 2px solid rgba(255, 215, 0, 0.3);  
            border-radius: 20px;  
            padding: 20px;  
            position: relative;  
            overflow: hidden;  
        }  
  
        .happxi-admin::before {  
            content: 'ğŸ‘‘';  
            position: absolute;  
            top: 8px;  
            right: 8px;  
            font-size: 18px;  
            animation: crownFloat 2s ease-in-out infinite;  
        }  
  
        @keyframes privacyPulse {  
            0%, 100% { opacity: 0.2; transform: scale(1); }  
            50% { opacity: 0.3; transform: scale(1.1); }  
        }  
  
        @keyframes crownFloat {  
            0%, 100% { transform: translateY(0px) rotate(0deg); }  
            50% { transform: translateY(-3px) rotate(5deg); }  
        }  
  
        /* ğŸŒŸ í”„ë¦¬ë¯¸ì—„ ë²„íŠ¼ ë””ìì¸ */  
        .premium-btn {  
            background: var(--primary-gradient);  
            color: white;  
            padding: 12px 24px;  
            border-radius: 25px;  
            font-weight: 500;  
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);  
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);  
        }  
  
        .premium-btn:hover {  
            transform: translateY(-2px);  
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);  
        }  
  
        /* ğŸ’– í¸ì§€ ìŠ¤íƒ€ì¼ ì•Œë¦¼ ë””ìì¸ */  
        .letter-notification {  
            position: fixed;  
            top: 20px;  
            left: 50%;  
            transform: translateX(-50%);  
            z-index: 9999;  
            background: var(--glass-bg);  
            backdrop-filter: blur(20px);  
            border: 2px solid rgba(102, 126, 234, 0.2);  
            border-radius: 20px;  
            padding: 20px;  
            min-width: 300px;  
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);  
        }  
  
        .letter-notification::before {  
            content: 'ğŸ’Œ';  
            position: absolute;  
            top: -15px;  
            right: -15px;  
            font-size: 50px;  
            opacity: 0.2;  
            animation: float 3s ease-in-out infinite;  
        }  
  
        @keyframes float {  
            0%, 100% { transform: translateY(0px) rotate(0deg); }  
            50% { transform: translateY(-10px) rotate(10deg); }  
        }  
  
        /* ğŸ†• NEW ë±ƒì§€ ë””ìì¸ */  
        .new-badge {  
            background: var(--new-badge-gradient);  
            color: white;  
            padding: 4px 10px;  
            border-radius: 15px;  
            font-size: 11px;  
            font-weight: bold;  
            animation: pulse 2s infinite;  
            box-shadow: 0 2px 8px rgba(255, 107, 107, 0.3);  
        }  
  
        @keyframes pulse {  
            0%, 100% { transform: scale(1); }  
            50% { transform: scale(1.05); }  
        }  
  
        /* ğŸ¯ ì„¸ë ¨ëœ ì¹´ë“œ ë””ìì¸ */  
        .trend-card {  
            background: var(--glass-bg);  
            backdrop-filter: blur(15px);  
            border-radius: 20px;  
            padding: 20px;  
            border: 1px solid rgba(255, 255, 255, 0.2);  
            transition: all 0.3s ease;  
            cursor: pointer;  
        }  
  
        .trend-card:hover {  
            transform: translateY(-5px);  
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.2);  
        }  
  
        /* ğŸ“± ëª¨ë°”ì¼ ìµœì í™” ë„¤ë¹„ê²Œì´ì…˜ */  
        .bottom-nav {  
            position: fixed;  
            bottom: 0;  
            left: 0;  
            right: 0;  
            height: 70px;  
            z-index: 1000;  
            background: var(--glass-bg);  
            backdrop-filter: blur(20px);  
            border-top: 1px solid rgba(102, 126, 234, 0.1);  
        }  
  
        .nav-item {  
            display: flex;  
            flex-direction: column;  
            align-items: center;  
            justify-content: center;  
            height: 100%;  
            color: var(--text-light);  
            text-decoration: none;  
            transition: all 0.3s ease;  
            position: relative;  
            padding: 5px 10px;  
        }  
  
        .nav-item.active {  
            color: var(--primary-blue);  
        }  
  
        .nav-item::before {  
            content: '';  
            position: absolute;  
            top: 0;  
            left: 50%;  
            transform: translateX(-50%);  
            width: 30px;  
            height: 3px;  
            background: var(--primary-gradient);  
            border-radius: 2px;  
            opacity: 0;  
            transition: opacity 0.3s ease;  
        }  
  
        .nav-item.active::before {  
            opacity: 1;  
        }  
  
        /* ğŸ¨ ê¸°ë¶„ íŠ¸ë˜ì»¤ ë””ìì¸ */  
        .mood-item {  
            width: 50px;  
            height: 50px;  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-size: 24px;  
            cursor: pointer;  
            transition: all 0.3s ease;  
            border: 3px solid transparent;  
            background: rgba(255, 255, 255, 0.8);  
        }  
  
        .mood-item:hover {  
            transform: scale(1.1);  
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);  
        }  
  
        .mood-item.selected {  
            border-color: var(--primary-blue);  
            background: var(--soft-blue);  
            transform: scale(1.15);  
        }  
  
        /* ğŸ“¸ ëª¨ë¨¼íŠ¸ í”¼ë“œ ë””ìì¸ */  
        .moment-card {  
            background: var(--glass-bg);  
            backdrop-filter: blur(15px);  
            border-radius: 20px;  
            padding: 20px;  
            margin-bottom: 20px;  
            border: 1px solid rgba(255, 255, 255, 0.2);  
            transition: all 0.3s ease;  
        }  
  
        .moment-card:hover {  
            transform: translateY(-3px);  
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);  
        }  
  
        /* ğŸ­ ëª¨ë‹¬ ë””ìì¸ */  
        .modal {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.5);  
            backdrop-filter: blur(10px);  
            z-index: 2000;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            opacity: 0;  
            visibility: hidden;  
            transition: all 0.3s ease;  
        }  
  
        .modal.active {  
            opacity: 1;  
            visibility: visible;  
        }  
  
        .modal-content {  
            background: var(--glass-bg);  
            backdrop-filter: blur(20px);  
            border-radius: 25px;  
            padding: 30px;  
            max-width: 500px;  
            width: 90%;  
            max-height: 90vh;  
            overflow-y: auto;  
            transform: scale(0.7);  
            transition: transform 0.3s ease;  
        }  
  
        .modal.active .modal-content {  
            transform: scale(1);  
        }  
  
        /* ğŸ“ ì‘ì„± ì˜ì—­ ë””ìì¸ */  
        .compose-textarea {  
            width: 100%;  
            min-height: 150px;  
            border-radius: 15px;  
            border: 2px solid rgba(102, 126, 234, 0.2);  
            padding: 15px;  
            resize: none;  
            background: rgba(255, 255, 255, 0.8);  
            font-family: 'Noto Sans KR', sans-serif;  
            transition: border-color 0.3s ease;  
        }  
  
        .compose-textarea:focus {  
            outline: none;  
            border-color: var(--primary-blue);  
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);  
        }  
  
        /* ğŸ­ ë¡œê·¸ì¸ í™”ë©´ ë””ìì¸ */  
        .login-input {  
            width: 100%;  
            padding: 12px 16px;  
            border-radius: 15px;  
            border: 2px solid rgba(102, 126, 234, 0.2);  
            background: rgba(255, 255, 255, 0.8);  
            transition: all 0.3s ease;  
            margin-bottom: 15px;  
        }  
  
        .login-input:focus {  
            outline: none;  
            border-color: var(--primary-blue);  
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);  
        }  
  
        /* ë°˜ì‘í˜• ë””ìì¸ */  
        .hide { display: none !important; }  
        .fade-in { animation: fadeIn 0.5s ease-out; }  
          
        @keyframes fadeIn {  
            from { opacity: 0; transform: translateY(20px); }  
            to { opacity: 1; transform: translateY(0); }  
        }  
  
        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” */  
        ::-webkit-scrollbar {  
            width: 8px;  
        }  
  
        ::-webkit-scrollbar-track {  
            background: rgba(255, 255, 255, 0.1);  
        }  
  
        ::-webkit-scrollbar-thumb {  
            background: var(--primary-blue);  
            border-radius: 4px;  
        }  
  
        ::-webkit-scrollbar-thumb:hover {  
            background: var(--accent-pink);  
        }  
    </style>  
</head>  
<body>  
  
<!-- ğŸ‘¤ ë¡œê·¸ì¸ ëª¨ë‹¬ -->  
<div id="loginModal" class="modal active">  
    <div class="modal-content" onclick="event.stopPropagation()">  
        <div class="text-center mb-6">  
            <h2 class="text-3xl font-bold mb-2" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
                ìíœ´ë ˆí„°  
            </h2>  
            <p class="text-gray-600">ë‹¹ì‹ ì˜ íŠ¹ë³„í•œ íœ´ì‹ì„ ìœ„í•œ ê³µê°„</p>  
        </div>  
          
        <form onsubmit="handleLogin(event)">  
            <input type="email" id="loginEmail" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" class="login-input" required>  
            <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" class="login-input" required>  
              
            <div class="flex items-center mb-4">  
                <input type="checkbox" id="rememberLogin" class="mr-2">  
                <label for="rememberLogin" class="text-sm text-gray-700">ë¡œê·¸ì¸ ì •ë³´ ì €ì¥í•˜ê¸°</label>  
            </div>  
              
            <button type="submit" class="premium-btn w-full">  
                ë¡œê·¸ì¸ ğŸ’  
            </button>  
        </form>  
          
        <div class="mt-6 text-center">  
            <p class="text-sm text-gray-600">  
                ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?   
                <button onclick="showSignup()" class="text-purple-600 font-medium hover:underline">íšŒì›ê°€ì…</button>  
            </p>  
        </div>  
          
        <!-- í…ŒìŠ¤íŠ¸ìš© ê³„ì • -->  
        <div class="mt-6 p-4 bg-purple-50 rounded-xl">  
            <p class="text-sm font-medium text-purple-800 mb-2">í…ŒìŠ¤íŠ¸ ê³„ì •</p>  
            <div class="space-y-2">  
                <!-- ğŸ‘‘ í–…ì”¨ - ìµœê³  ê´€ë¦¬ì -->  
                <button onclick="quickLogin('happxi@jahyu.com', 'admin123')" class="w-full text-left text-sm p-2 bg-white rounded-lg hover:bg-purple-50 border border-yellow-200">  
                    ğŸ‘‘ í–…ì”¨ (ìµœê³  ê´€ë¦¬ì): happxi@jahyu.com  
                </button>  
                <!-- ì¼ë°˜ ê´€ë¦¬ì 4ëª… -->  
                <button onclick="quickLogin('admin1@jahyu.com', 'admin123')" class="w-full text-left text-sm p-2 bg-white rounded-lg hover:bg-purple-50">  
                    ğŸ”§ ê´€ë¦¬ì1: admin1@jahyu.com  
                </button>  
                <button onclick="quickLogin('admin2@jahyu.com', 'admin123')" class="w-full text-left text-sm p-2 bg-white rounded-lg hover:bg-purple-50">  
                    ğŸ”§ ê´€ë¦¬ì2: admin2@jahyu.com  
                </button>  
                <button onclick="quickLogin('admin3@jahyu.com', 'admin123')" class="w-full text-left text-sm p-2 bg-white rounded-lg hover:bg-purple-50">  
                    ğŸ”§ ê´€ë¦¬ì3: admin3@jahyu.com  
                </button>  
                <button onclick="quickLogin('admin4@jahyu.com', 'admin123')" class="w-full text-left text-sm p-2 bg-white rounded-lg hover:bg-purple-50">  
                    ğŸ”§ ê´€ë¦¬ì4: admin4@jahyu.com  
                </button>  
                <!-- ì¼ë°˜ ì‚¬ìš©ì -->  
                <button onclick="quickLogin('hyeran@example.com', 'user123')" class="w-full text-left text-sm p-2 bg-white rounded-lg hover:bg-purple-50">  
                    ğŸ‘¤ í˜œë€ë‹˜: hyeran@example.com  
                </button>  
            </div>  
        </div>  
    </div>  
</div>  
  
<!-- âœ‰ï¸ ì €ë… 6ì‹œ í¸ì§€ ì•Œë¦¼ -->  
<div id="letterNotification" class="letter-notification hide">  
    <div class="text-center">  
        <div class="text-2xl mb-2">ğŸ’Œ</div>  
        <h3 class="text-lg font-bold mb-1" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
            í–…ì‚ë‹˜ì˜ í¸ì§€ê°€ ë„ì°©í–ˆì–´ìš”!  
        </h3>  
        <p class="text-sm text-gray-600 mb-4">  
            ì •ë§ ê³ ìƒë§ì•˜ì–´ìš”! ì˜¤ëŠ˜ í•˜ë£¨ë¥¼ ê¸°ë¡í•˜ëŸ¬ ê°€ë³¼ê¹Œìš”?  
        </p>  
        <button onclick="openTodayMood()" class="premium-btn w-full">  
            ì§€ê¸ˆ ê¸°ë¡í•˜ê¸° âœ¨  
        </button>  
    </div>  
</div>  
  
<div id="appContainer" class="min-h-screen pb-[70px] hide">  
  
    <!-- ğŸ  í™ˆí˜ì´ì§€ -->  
    <section id="homePage" class="p-5 pt-16 fade-in">  
        <div class="text-center mb-8">  
            <h1 class="text-3xl font-bold mb-2" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
                ììœ ë¡œìš´ ë‹¹ì‹ ì˜ íœ´ì‹ ê°€ì´ë“œ  
            </h1>  
            <p class="text-gray-600">ì¼ê³¼ ì‚¶ì˜ ê· í˜•, ìíœ´ë ˆí„°ê°€ ë„ì™€ë“œë¦´ê²Œìš” âœ¨</p>  
        </div>  
  
        <div class="glass-card rounded-3xl p-6 mb-6">  
            <div class="flex items-center justify-between">  
                <div>  
                    <h3 class="text-xl font-bold text-gray-800" id="userGreeting">í˜œë€ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”! ğŸŒ¿</h3>  
                    <p class="text-sm text-gray-600 mt-1">ë‹¹ì‹ ì˜ íë§ì„ ìœ„í•œ, ìíœ´ë ˆí„°</p>  
                </div>  
                <div class="text-4xl animate-pulse">ğŸ’–</div>  
            </div>  
        </div>  
  
        <div class="mb-6">  
            <h3 class="text-xl font-bold mb-4 text-gray-800">HOT TREND</h3>  
            <div class="trend-card" onclick="showHealingTypeTest()">  
                <div class="flex items-center justify-between">  
                    <div>  
                        <h4 class="font-bold text-lg text-gray-800">ë‚˜ë§Œì˜ íë§ ìœ í˜• TEST</h4>  
                        <p class="text-sm text-gray-600 mt-1">ì§€ê¸ˆ ë°”ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ë§ì¶¤ ë ˆí„° ë°›ê¸° ğŸ”®</p>  
                    </div>  
                    <div class="text-2xl">âœ¨</div>  
                </div>  
            </div>  
        </div>  
  
        <div class="grid grid-cols-3 gap-4">  
            <button class="glass-card rounded-2xl p-4 text-center transition hover:shadow-lg" onclick="alert('ì¹´í†¡ ì¶”ê°€ ê¸°ëŠ¥ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤')">  
                <div class="text-3xl mb-2">ğŸ’¬</div>  
                <span class="text-xs text-gray-600">ì¹´í†¡ ì¶”ê°€</span>  
            </button>  
            <button class="glass-card rounded-2xl p-4 text-center transition hover:shadow-lg" onclick="alert('ë¬¸ì¥ ìˆ˜ì§‘ ê¸°ëŠ¥ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤')">  
                <div class="text-3xl mb-2">ğŸ“–</div>  
                <span class="text-xs text-gray-600">ë¬¸ì¥ ìˆ˜ì§‘</span>  
            </button>  
            <button class="glass-card rounded-2xl p-4 text-center transition hover:shadow-lg" onclick="navigateTo('newsletter')">  
                <div class="text-3xl mb-2">ğŸ’Œ</div>  
                <span class="text-xs text-gray-600">ë ˆí„° ë³´ê¸°</span>  
            </button>  
        </div>  
    </section>  
  
    <!-- ğŸ“¬ ë ˆí„° í˜ì´ì§€ -->  
    <section id="newsletterPage" class="p-5 pt-16 hide fade-in">  
        <h2 class="text-3xl font-bold mb-4 text-gray-800">ë ˆí„° ì•„ì¹´ì´ë¸Œ</h2>  
        <p class="text-gray-600 mb-6">ì§€ê¸ˆ ê¼­ í•„ìš”í•œ ìœ„ë¡œë¥¼ ë°›ì•„ë³´ì„¸ìš”!</p>  
          
        <div class="space-y-4">  
            <div class="glass-card rounded-2xl p-5">  
                <h4 class="text-lg font-bold text-gray-800 mb-1">32í˜¸. í‡´ì‚¬ í›„ ë²ˆì•„ì›ƒ, ì €ë§Œ ì´ëŸ°ê°€ìš”?</h4>  
                <p class="text-sm text-gray-600">í‡´ì‚¬ í›„ì—ë„ ì‰¬ì§€ ëª»í•˜ëŠ” ë‹¹ì‹ ì—ê²Œ...</p>  
                <div class="mt-3 text-xs text-gray-500">3ì¼ ì „</div>  
            </div>  
              
            <div class="glass-card rounded-2xl p-5">  
                <h4 class="text-lg font-bold text-gray-800 mb-1">31í˜¸. ì£¼ë§ì—ë„ ì¼ìƒê°ì´ ë©ˆì¶”ì§€ ì•Šì•„ìš”</h4>  
                <p class="text-sm text-gray-600">ì™„ì „í•œ íœ´ì‹ì„ ìœ„í•œ ë§ˆìŒ ë²—ê¸°ê¸°ë²•</p>  
                <div class="mt-3 text-xs text-gray-500">1ì£¼ì¼ ì „</div>  
            </div>  
        </div>  
    </section>  
  
    <!-- ğŸ’¬ ì—ë””í„°í†¡ í˜ì´ì§€ -->  
    <section id="editorTalkPage" class="p-5 pt-16 hide fade-in">  
        <h2 class="text-3xl font-bold mb-4 text-gray-800">ì—ë””í„° í†¡</h2>  
          
        <div class="glass-card rounded-2xl p-5 mb-6">  
            <div class="flex items-center mb-2">  
                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center text-white font-bold mr-3">  
                    ì—  
                </div>  
                <div>  
                    <p class="font-bold text-gray-800">ì—ë””í„°</p>  
                    <p class="text-xs text-gray-500">ë°©ê¸ˆ ì „</p>  
                </div>  
            </div>  
            <p class="text-gray-700">ì¼ì£¼ì¼ ì˜ ë²„í‹°ì…¨ë‚˜ìš”? ì£¼ë§ì—ëŠ” ì•„ë¬´ ìƒê° ì—†ì´ ì‰¬ì–´ì•¼ í•´ìš”! â˜•ï¸</p>  
        </div>  
          
        <div class="glass-card rounded-2xl p-5">  
            <div class="flex items-center mb-2">  
                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center text-white font-bold mr-3">  
                    í˜œ  
                </div>  
                <div>  
                    <p class="font-bold text-gray-800">í˜œë€</p>  
                    <p class="text-xs text-gray-500">2ì‹œê°„ ì „</p>  
                </div>  
            </div>  
            <p class="text-gray-700">ì—ë””í„°ë‹˜ ë•ë¶„ì— í˜ëƒˆì–´ìš”! ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ™</p>  
        </div>  
    </section>  
  
    <!-- ğŸ“¸ ëª¨ë¨¼íŠ¸ í˜ì´ì§€ -->  
    <section id="momentPage" class="p-5 pt-16 hide fade-in">  
        <div class="flex items-center justify-between mb-6">  
            <div>  
                <h2 class="text-3xl font-bold text-gray-800">ëª¨ë¨¼íŠ¸</h2>  
                <p class="text-gray-600 mt-1">í–…ì‚ë‹˜ë“¤ì˜ ì¼ìƒì´ ê¶ê¸ˆí•´ìš”! í–‰ë³µí•œ ìˆœê°„ë“¤ì„ ê³µìœ í•´ì£¼ì„¸ìš”!</p>  
            </div>  
            <button onclick="openMomentCompose()" class="premium-btn">  
                ì‘ì„±í•˜ê¸° âœ¨  
            </button>  
        </div>  
          
        <div id="momentsFeed" class="space-y-4">  
            <div class="moment-card">  
                <div class="flex items-center mb-3">  
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-400 to-red-400 flex items-center justify-center text-white font-bold mr-3">  
                        í˜œ  
                    </div>  
                    <div class="flex-1">  
                        <p class="font-bold text-gray-800">í˜œë€</p>  
                        <p class="text-xs text-gray-500">3ì‹œê°„ ì „</p>  
                    </div>  
                </div>  
                <p class="text-gray-700 mb-3">ì˜¤ëŠ˜ì€ ë‚ ì”¨ë„ ì¢‹ê³  ì¹´í˜ì—ì„œ ì—¬ìœ ë¡­ê²Œ ì‰¬ê³  ìˆì–´ìš” â˜•ï¸âœ¨</p>  
                <img src="https://picsum.photos/seed/cafe1/400/300.jpg" alt="ì¹´í˜ ì´ë¯¸ì§€" class="w-full rounded-xl mb-3">  
                <div class="flex items-center justify-between text-sm text-gray-600">  
                    <div class="flex gap-4">  
                        <span>ğŸ’™ 12</span>  
                        <span>ğŸ’¬ 3</span>  
                    </div>  
                    <span>ğŸ‘ï¸ 234</span>  
                </div>  
            </div>  
        </div>  
    </section>  
  
    <!-- ğŸ’  ì˜¤ëŠ˜ì˜ ë¬´ë“œ í˜ì´ì§€ -->  
    <section id="sanctuaryPage" class="p-5 pt-16 hide fade-in">  
        <div class="flex items-center justify-between mb-6">  
            <div>  
                <h2 class="text-3xl font-bold text-gray-800">ì˜¤ëŠ˜ì˜ ë¬´ë“œ</h2>  
                <p class="text-gray-600 mt-1" id="moodDescription">  
                    í–…ì‚ë‹˜ì´ ì˜¤ëŠ˜ ëŠë‚€ ê°ì •ê³¼ ìƒê°ë“¤ì„ ì†”ì§í•˜ê²Œ ê¸°ë¡í•´ ë³´ì„¸ìš”!  
                </p>  
            </div>  
            <button onclick="openDiaryWrite()" class="premium-btn" id="moodWriteBtn">  
                ê¸°ë¡í•˜ê¸° âœï¸  
            </button>  
        </div>  
          
        <div id="diaryList" class="space-y-4">  
            <!-- ë‹¤ì´ì–´ë¦¬ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->  
        </div>  
    </section>  
  
    <!-- ğŸ‘¤ ë§ˆì´í˜ì´ì§€ -->  
    <section id="myPage" class="p-5 pt-16 hide fade-in">  
        <h2 class="text-3xl font-bold mb-4 text-gray-800">ë§ˆì´í˜ì´ì§€</h2>  
          
        <div class="glass-card rounded-2xl p-6 mb-6">  
            <div class="flex items-center">  
                <div class="w-20 h-20 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center text-white text-2xl font-bold mr-4" id="profileAvatar">  
                    í˜œ  
                </div>  
                <div>  
                    <h3 class="text-xl font-bold text-gray-800" id="profileName">í˜œë€</h3>  
                    <p class="text-gray-600" id="profileEmail">hyeran@example.com</p>  
                    <div class="mt-2">  
                        <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs" id="profileRole">ì¼ë°˜ íšŒì›</span>  
                    </div>  
                </div>  
            </div>  
        </div>  
          
        <div class="space-y-3 mb-6">  
            <button class="w-full glass-card rounded-2xl p-4 text-left">  
                <span class="font-medium text-gray-800">ì„¤ì •</span>  
            </button>  
            <button class="w-full glass-card rounded-2xl p-4 text-left">  
                <span class="font-medium text-gray-800">ì•Œë¦¼</span>  
            </button>  
            <button class="w-full glass-card rounded-2xl p-4 text-left">  
                <span class="font-medium text-gray-800">ê³ ê°ì„¼í„°</span>  
            </button>  
        </div>  
          
        <button onclick="handleLogout()" class="w-full bg-red-500 text-white rounded-2xl p-4 font-medium hover:bg-red-600 transition">  
            ë¡œê·¸ì•„ì›ƒ  
        </button>  
    </section>  
</div>  
  
<!-- ğŸ“ ë‹¤ì´ì–´ë¦¬ ì‘ì„± ëª¨ë‹¬ -->  
<div id="diaryModal" class="modal" onclick="closeModal('diaryModal')">  
    <div class="modal-content" onclick="event.stopPropagation()">  
        <div class="flex items-center justify-between mb-6">  
            <h3 class="text-2xl font-bold" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
                ì˜¤ëŠ˜ì˜ ê¸°ë¡ âœ¨  
            </h3>  
            <button onclick="closeModal('diaryModal')" class="text-gray-500 hover:text-gray-700">  
                âœ•  
            </button>  
        </div>  
          
        <form onsubmit="submitDiary(event)">  
            <div class="mb-6">  
                <p class="text-sm font-medium text-gray-700 mb-3">ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì€ ì–´ë–¤ê°€ìš”?</p>  
                <div class="flex gap-2 justify-center flex-wrap">  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜„', 'í–‰ë³µ')" data-mood="í–‰ë³µ">ğŸ˜„</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜Œ', 'í‰ì˜¨')" data-mood="í‰ì˜¨">ğŸ˜Œ</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ¥°', 'ì„¤ë ˜')" data-mood="ì„¤ë ˜">ğŸ¥°</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜©', 'ì§€ì¹¨')" data-mood="ì§€ì¹¨">ğŸ˜©</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜ ', 'ë¶„ë…¸')" data-mood="ë¶„ë…¸">ğŸ˜ </div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜¢', 'ìŠ¬í””')" data-mood="ìŠ¬í””">ğŸ˜¢</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜Ÿ', 'ë¶ˆì•ˆ')" data-mood="ë¶ˆì•ˆ">ğŸ˜Ÿ</div>  
                    <div class="mood-item" onclick="selectMood(this, 'ğŸ˜', 'ë¬´ê´€ì‹¬')" data-mood="ë¬´ê´€ì‹¬">ğŸ˜</div>  
                </div>  
            </div>  
              
            <input type="text" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒ)" class="w-full p-3 rounded-xl border-2 border-gray-200 mb-4 focus:border-purple-400 focus:outline-none" id="diaryTitle">  
              
            <textarea placeholder="ì˜¤ëŠ˜ì€ ì–´ë–¤ í•˜ë£¨ì˜€ë‚˜ìš”?" rows="8" class="compose-textarea mb-4" id="diaryContent"></textarea>  
              
            <button type="submit" class="premium-btn w-full" id="diarySubmitBtn" disabled>  
                ê¸°ë¡ ì™„ë£Œ ğŸ’–  
            </button>  
        </form>  
    </div>  
</div>  
  
<!-- ğŸ“· ëª¨ë¨¼íŠ¸ ì‘ì„± ëª¨ë‹¬ -->  
<div id="momentModal" class="modal" onclick="closeModal('momentModal')">  
    <div class="modal-content" onclick="event.stopPropagation()">  
        <div class="flex items-center justify-between mb-6">  
            <h3 class="text-2xl font-bold" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">  
                ëª¨ë¨¼íŠ¸ ì‘ì„± ğŸ“¸  
            </h3>  
            <button onclick="closeModal('momentModal')" class="text-gray-500 hover:text-gray-700">  
                âœ•  
            </button>  
        </div>  
          
        <form onsubmit="submitMoment(event)">  
            <div class="mb-4">  
                <div class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center cursor-pointer hover:border-purple-400 transition" onclick="document.getElementById('imageInput').click()">  
                    <div class="text-4xl mb-2">ğŸ“¸</div>  
                    <p class="text-gray-600">ì‚¬ì§„ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”</p>  
                    <p class="text-sm text-gray-500">í´ë¦­ ë˜ëŠ” ë“œë˜ê·¸</p>  
                </div>  
                <input type="file" id="imageInput" accept="image/*" class="hidden" onchange="handleImageUpload(event)">  
            </div>  
              
            <textarea placeholder="ì˜¤ëŠ˜ì˜ ìˆœê°„ì„ ê³µìœ í•´ì£¼ì„¸ìš” ğŸŒŸ" rows="4" class="compose-textarea mb-4" id="momentContent"></textarea>  
              
            <button type="submit" class="premium-btn w-full">  
                ëª¨ë¨¼íŠ¸ ê³µìœ  âœ¨  
            </button>  
        </form>  
    </div>  
</div>  
  
<!-- ğŸ“± í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->  
<nav class="bottom-nav">  
    <a href="#" class="nav-item active" onclick="navigateTo('home', event)">  
        <span class="nav-icon">ğŸŒ™</span>  
        <span class="nav-text">í™ˆ</span>  
    </a>  
    <a href="#" class="nav-item" onclick="navigateTo('newsletter', event)">  
        <span class="nav-icon">âœ‰ï¸</span>  
        <span class="nav-text">ë ˆí„°</span>  
    </a>  
    <a href="#" class="nav-item" onclick="navigateTo('editorTalk', event)">  
        <span class="nav-icon">ğŸ’¬</span>  
        <span class="nav-text">ì—ë””í„°í†¡</span>  
    </a>  
    <a href="#" class="nav-item" onclick="navigateTo('moment', event)">  
        <span class="nav-icon">ğŸ“¸</span>  
        <span class="nav-text">ëª¨ë¨¼íŠ¸</span>  
    </a>  
    <a href="#" class="nav-item" onclick="navigateTo('sanctuary', event)">  
        <span class="nav-icon">ğŸ’ </span>  
        <span class="nav-text">ì˜¤ëŠ˜ì˜ ë¬´ë“œ</span>  
    </a>  
    <a href="#" class="nav-item" onclick="navigateTo('myPage', event)">  
        <span class="nav-icon">ğŸ‘¤</span>  
        <span class="nav-text">ë§ˆì´</span>  
    </a>  
</nav>  
  
<script>  
    // ğŸ” ë³´ì•ˆ 10ë‹¨ê³„ ê°•í™” - ì¸ì¦ ë° ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œ  
    const appData = {  
        // ì‚¬ìš©ì ë°ì´í„° êµ¬ì¡°  
        users: [  
            // ğŸ‘‘ í–…ì”¨ - ìµœê³  ê´€ë¦¬ì (ëª¨ë“  ì‚¬ìš©ìì˜ ë¬´ë“œ ì ‘ê·¼ ê°€ëŠ¥)  
            {   
                id: 'happxi@jahyu.com',   
                name: 'í–…ì”¨',   
                password: 'admin123',   
                role: 'super_admin',   
                avatar: 'í–…',  
                permissions: ['view_all_moods', 'manage_system']  
            },  
            // ì¼ë°˜ ê´€ë¦¬ì 4ëª… (ì¼ë°˜ ì‚¬ìš©ìì™€ ë™ì¼í•œ ê¶Œí•œ)  
            {   
                id: 'admin1@jahyu.com',   
                name: 'ê´€ë¦¬ì1',   
                password: 'admin123',   
                role: 'admin',   
                avatar: 'ê´€1',  
                permissions: ['basic_access']  
            },  
            {   
                id: 'admin2@jahyu.com',   
                name: 'ê´€ë¦¬ì2',   
                password: 'admin123',   
                role: 'admin',   
                avatar: 'ê´€2',  
                permissions: ['basic_access']  
            },  
            {   
                id: 'admin3@jahyu.com',   
                name: 'ê´€ë¦¬ì3',   
                password: 'admin123',   
                role: 'admin',   
                avatar: 'ê´€3',  
                permissions: ['basic_access']  
            },  
            {   
                id: 'admin4@jahyu.com',   
                name: 'ê´€ë¦¬ì4',   
                password: 'admin123',   
                role: 'admin',   
                avatar: 'ê´€4',  
                permissions: ['basic_access']  
            },  
            // ì¼ë°˜ ì‚¬ìš©ì  
            {   
                id: 'hyeran@example.com',   
                name: 'í˜œë€',   
                password: 'user123',   
                role: 'user',   
                avatar: 'í˜œ',  
                permissions: ['basic_access']  
            }  
        ],  
        currentUser: null,  
        diaries: [  
            { id: 1, userId: 'hyeran@example.com', date: '2025-12-10', title: 'ì˜¤ëŠ˜ í•˜ë£¨ ë„ˆë¬´ ì§€ì³¤ì–´ìš”', content: 'ì¼ì´ ë„ˆë¬´ ë§ì•„ì„œ í˜ë“¤ì—ˆì§€ë§Œ, ì§‘ì— ì™€ì„œ ë”°ëœ»í•œ ì°¨ë¥¼ ë§ˆì‹œë‹ˆ ì¡°ê¸ˆ í’€ë¦¬ë„¤ìš”.', emotion: 'ğŸ˜©', moodName: 'ì§€ì¹¨' },  
            { id: 2, userId: 'hyeran@example.com', date: '2025-12-09', title: 'ìƒˆë¡œìš´ ì‹œì‘ì— ëŒ€í•œ ê¸°ëŒ€ì™€ ë¶ˆì•ˆ', content: 'ì„±ì¥í†µì´ê¸°ë¥¼ ë°”ë¼ë©°.', emotion: 'ğŸ˜Œ', moodName: 'í‰ì˜¨' },  
            { id: 3, userId: 'hyeran@example.com', date: '2025-12-07', title: 'ì†Œí™•í–‰, ë”°ëœ»í•œ ë¼ë–¼ í•œ ì”', content: 'ëª¨ë“  í”¼ë¡œê°€ ë…¹ëŠ” ê¸°ë¶„.', emotion: 'ğŸ˜„', moodName: 'í–‰ë³µ' },  
            { id: 4, userId: 'admin1@jahyu.com', date: '2025-12-10', title: 'ê´€ë¦¬ìì˜ í•˜ë£¨', content: 'ì‹œìŠ¤í…œ ì ê²€ ì¤‘ì…ë‹ˆë‹¤.', emotion: 'ğŸ˜', moodName: 'ë¬´ê´€ì‹¬' },  
            { id: 5, userId: 'happxi@jahyu.com', date: '2025-12-08', title: 'ëª¨ë‘ë¥¼ ì‘ì›í•©ë‹ˆë‹¤', content: 'ì˜¤ëŠ˜ í•˜ë£¨ë„ ìˆ˜ê³ í–ˆì–´ìš”!', emotion: 'ğŸ¥°', moodName: 'ì„¤ë ˜' },  
            { id: 6, userId: 'admin2@jahyu.com', date: '2025-12-06', title: 'ì£¼ë§ ê¸°ë‹¤ë ¤ì§', content: 'ì£¼ë§ì— ì‰¬ê³  ì‹¶ì–´ìš”.', emotion: 'ğŸ˜„', moodName: 'í–‰ë³µ' }  
        ],  
        moments: [  
            { id: 1, userId: 'hyeran@example.com', content: 'ì˜¤ëŠ˜ì€ ë‚ ì”¨ë„ ì¢‹ê³  ì¹´í˜ì—ì„œ ì—¬ìœ ë¡­ê²Œ ì‰¬ê³  ìˆì–´ìš” â˜•ï¸âœ¨', likes: 12, comments: 3, views: 234, time: '3ì‹œê°„ ì „' }  
        ]  
    };  
  
    let selectedMood = { icon: '', name: '' };  
    let currentTab = 'home';  
  
    // ğŸš€ ì•± ì´ˆê¸°í™”  
    function initApp() {  
        checkAutoLogin();  
        setupEventListeners();  
        if (appData.currentUser) {  
            showMainApp();  
            setupEveningNotification();  
        }  
    }  
  
    // ğŸ” ìë™ ë¡œê·¸ì¸ ì²´í¬ (ë³´ì•ˆ ê°•í™”)  
    function checkAutoLogin() {  
        const savedLogin = localStorage.getItem('jahyuLogin');  
        if (savedLogin) {  
            try {  
                const { email, password } = JSON.parse(savedLogin);  
                const user = authenticateUser(email, password);  
                if (user) {  
                    appData.currentUser = user;  
                    // ë³´ì•ˆ: ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì¦‰ì‹œ ì´ˆê¸°í™”  
                    setTimeout(() => {  
                        localStorage.removeItem('jahyuLogin');  
                    }, 1000);  
                    showMainApp();  
                    return true;  
                }  
            } catch (error) {  
                // ì†ìƒëœ ë°ì´í„° ì œê±°  
                localStorage.removeItem('jahyuLogin');  
            }  
        }  
        return false;  
    }  
  
    // ğŸ” ì‚¬ìš©ì ì¸ì¦ (ë³´ì•ˆ ê°•í™”)  
    function authenticateUser(email, password) {  
        const user = appData.users.find(u => u.id === email);  
        if (!user) return null;  
          
        // ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ (ì‹¤ì œë¡œëŠ” í•´ì‹œí™”ëœ ë¹„ë°€ë²ˆí˜¸ì™€ ë¹„êµí•´ì•¼ í•¨)  
        if (user.password === password) {  
            // ë³´ì•ˆ: ì¤‘ìš”í•œ ì •ë³´ ì œì™¸í•˜ê³  ë°˜í™˜  
            return {  
                id: user.id,  
                name: user.name,  
                role: user.role,  
                avatar: user.avatar,  
                permissions: user.permissions  
            };  
        }  
        return null;  
    }  
  
    // ğŸ‘¤ ë¡œê·¸ì¸ ì²˜ë¦¬ (ë³´ì•ˆ ê°•í™”)  
    function handleLogin(event) {  
        event.preventDefault();  
        const email = document.getElementById('loginEmail').value;  
        const password = document.getElementById('loginPassword').value;  
        const remember = document.getElementById('rememberLogin').checked;  
  
        const user = authenticateUser(email, password);  
          
        if (user) {  
            appData.currentUser = user;  
              
            // ë¡œê·¸ì¸ ì •ë³´ ì €ì¥ (ì„ íƒì )  
            if (remember) {  
                localStorage.setItem('jahyuLogin', JSON.stringify({ email, password }));  
            } else {  
                localStorage.removeItem('jahyuLogin');  
            }  
              
            showMainApp();  
            setupEveningNotification();  
        } else {  
            alert('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
        }  
    }  
  
    // âš¡ ë¹ ë¥¸ ë¡œê·¸ì¸ (í…ŒìŠ¤íŠ¸ìš©)  
    function quickLogin(email, password) {  
        document.getElementById('loginEmail').value = email;  
        document.getElementById('loginPassword').value = password;  
        document.getElementById('rememberLogin').checked = false;  
        handleLogin(new Event('submit'));  
    }  
  
    // ğŸšª ë¡œê·¸ì•„ì›ƒ (ë³´ì•ˆ ê°•í™”)  
    function handleLogout() {  
        if (confirm('ì •ë§ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {  
            // ëª¨ë“  ë¯¼ê°í•œ ë°ì´í„° ì¦‰ì‹œ ì œê±°  
            appData.currentUser = null;  
            localStorage.removeItem('jahyuLogin');  
            sessionStorage.clear();  
              
            // ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸  
            document.getElementById('loginModal').classList.add('active');  
            document.getElementById('appContainer').classList.add('hide');  
              
            // í˜ì´ì§€ ìƒíƒœ ì´ˆê¸°í™”  
            navigateTo('home');  
        }  
    }  
  
    // ğŸ“± ë©”ì¸ ì•± í‘œì‹œ  
    function showMainApp() {  
        document.getElementById('loginModal').classList.remove('active');  
        document.getElementById('appContainer').classList.remove('hide');  
          
        // ì‚¬ìš©ì ì •ë³´ ë° ê¶Œí•œë³„ UI ì—…ë°ì´íŠ¸  
        updateUserProfile();  
        updateMoodPageForRole();  
        navigateTo('home');  
        renderDiaries();  
    }  
  
    // ğŸ‘¤ ì‚¬ìš©ì í”„ë¡œí•„ ì—…ë°ì´íŠ¸  
    function updateUserProfile() {  
        if (!appData.currentUser) return;  
          
        const user = appData.currentUser;  
          
        // ì¼ë°˜ í”„ë¡œí•„ ì •ë³´  
        document.getElementById('userGreeting').textContent = `${user.name}ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”! ğŸŒ¿`;  
        document.getElementById('profileAvatar').textContent = user.avatar;  
        document.getElementById('profileName').textContent = user.name;  
        document.getElementById('profileEmail').textContent = user.id;  
          
        // ì—­í• ë³„ í‘œì‹œ  
        let roleText = 'ì¼ë°˜ íšŒì›';  
        let roleClass = 'bg-gray-100 text-gray-800';  
          
        if (user.role === 'super_admin') {  
            roleText = 'ğŸ‘‘ í–…ì”¨ (ìµœê³  ê´€ë¦¬ì)';  
            roleClass = 'bg-yellow-100 text-yellow-800';  
        } else if (user.role === 'admin') {  
            roleText = 'ê´€ë¦¬ì';  
            roleClass = 'bg-blue-100 text-blue-800';  
        }  
          
        const roleElement = document.getElementById('profileRole');  
        if (roleElement) {  
            roleElement.textContent = roleText;  
            roleElement.className = `${roleClass} px-3 py-1 rounded-full text-xs`;  
        }  
    }  
  
    // ğŸ­ ì—­í• ë³„ ë¬´ë“œ í˜ì´ì§€ ì„¤ì •  
    function updateMoodPageForRole() {  
        const moodDescription = document.getElementById('moodDescription');  
        const writeBtn = document.getElementById('moodWriteBtn');  
          
        if (!appData.currentUser) return;  
          
        if (appData.currentUser.role === 'super_admin') {  
            // í–…ì”¨: ëª¨ë“  ì‚¬ìš©ìì˜ ë¬´ë“œë¥¼ ë³¼ ìˆ˜ ìˆìŒ  
            moodDescription.textContent = 'ëª¨ë“  í–…ì‚ë‹˜ë“¤ì˜ ê°ì •ì„ ëŒë³´ê³  ìˆìŠµë‹ˆë‹¤. ğŸ‘‘';  
            writeBtn.textContent = 'ê¸°ë¡í•˜ê¸° âœï¸';  
        } else {  
            // ë‹¤ë¥¸ ëª¨ë“  ì‚¬ìš©ì: ë³¸ì¸ë§Œ ë³¼ ìˆ˜ ìˆìŒ  
            moodDescription.textContent = 'ë‹¹ì‹ ë§Œì˜ ê°œì¸ì ì¸ ê°ì • ê¸°ë¡ê³µê°„ì…ë‹ˆë‹¤. ğŸ”’';  
            writeBtn.textContent = 'ê¸°ë¡í•˜ê¸° âœï¸';  
        }  
    }  
  
    // ğŸŒŸ ì €ë… 6ì‹œ ì•Œë¦¼ ì„¤ì •  
    function setupEveningNotification() {  
        const now = new Date();  
        const currentHour = now.getHours();  
          
        // í˜„ì¬ ì‹œê°„ì´ ì €ë… 6ì‹œ ì´í›„ì´ë©´ ì¦‰ì‹œ ì•Œë¦¼ í‘œì‹œ  
        if (currentHour >= 18) {  
            showEveningNotification();  
            return;  
        }  
          
        // ì˜¤ëŠ˜ ì €ë… 6ì‹œì— ì•Œë¦¼ ì˜ˆì•½  
        const notificationTime = new Date();  
        notificationTime.setHours(18, 0, 0, 0);  
        const timeUntilEvening = notificationTime.getTime() - now.getTime();  
          
        setTimeout(showEveningNotification, timeUntilEvening);  
    }  
  
    // âœ‰ï¸ ì €ë… ì•Œë¦¼ í‘œì‹œ  
    function showEveningNotification() {  
        const notification = document.getElementById('letterNotification');  
        notification.classList.remove('hide');  
          
        // 10ì´ˆ í›„ ìë™ìœ¼ë¡œ ì‚¬ë¼ì§  
        setTimeout(() => {  
            notification.classList.add('hide');  
        }, 10000);  
    }  
  
    // ğŸ“ ë‹¤ì´ì–´ë¦¬ ë Œë”ë§ (ë³´ì•ˆ 10ë‹¨ê³„ ê°•í™”)  
    function renderDiaries() {  
        const diaryList = document.getElementById('diaryList');  
        if (!diaryList) return;  
          
        diaryList.innerHTML = '';  
          
        if (!appData.currentUser) {  
            diaryList.innerHTML = '<div class="text-center text-gray-400 mt-10"><p>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</p></div>';  
            return;  
        }  
          
        // ğŸ” ë³´ì•ˆ 10ë‹¨ê³„: ì ‘ê·¼ ê¶Œí•œ ì²´í¬  
        const visibleDiaries = getVisibleDiaries();  
          
        if (visibleDiaries.length === 0) {  
            const emptyMessage = isSuperAdmin()   
                ? '<div class="text-center text-gray-400 mt-10"><div class="text-4xl mb-2">ğŸ“</div><p>ì•„ì§ ì•„ë¬´ëŸ° ê¸°ë¡ì´ ì—†ì–´ìš”.</p><p class="text-sm mt-1">í–¥ì‚ë‹˜ë“¤ì˜ ì²« ê¸°ë¡ì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘ì´ì—ìš”! ğŸ’</p></div>'  
                : '<div class="text-center text-gray-400 mt-10"><div class="text-4xl mb-2">ğŸ“</div><p>ì•„ì§ ê¸°ë¡ëœ ë¬´ë“œê°€ ì—†ì–´ìš”.</p><p class="text-sm mt-1">ì²« ê¸°ë¡ì„ ë‚¨ê²¨ë³´ì„¸ìš”! ğŸ’</p></div>';  
              
            diaryList.innerHTML = emptyMessage;  
            return;  
        }  
          
        // í–…ì”¨ì¸ ê²½ìš° ì‚¬ìš©ìë³„ ê·¸ë£¹í™”  
        if (isSuperAdmin()) {  
            const groupedDiaries = groupDiariesByUser(visibleDiaries);  
            renderAdminDiaryView(groupedDiaries);  
        } else {  
            // ì¼ë°˜ ì‚¬ìš©ì/ê´€ë¦¬ì: ë³¸ì¸ ê¸€ë§Œ í‘œì‹œ  
            visibleDiaries.forEach(diary => {  
                const isNew = isWithin7Days(diary.date);  
                const diaryCard = createDiaryCard(diary, isNew);  
                diaryList.appendChild(diaryCard);  
            });  
        }  
    }  
  
    // ğŸ” ë³´ì•ˆ 10ë‹¨ê³„: ê°€ì‹œì„± ìˆëŠ” ë‹¤ì´ì–´ë¦¬ í•„í„°ë§  
    function getVisibleDiaries() {  
        if (!appData.currentUser) return [];  
          
        return appData.diaries.filter(diary => {  
            // í–…ì”¨(super_admin)ë§Œ ëª¨ë“  ë‹¤ì´ì–´ë¦¬ ë³¼ ìˆ˜ ìˆìŒ  
            if (appData.currentUser.role === 'super_admin') {  
                return true;  
            }  
              
            // ë‹¤ë¥¸ ëª¨ë“  ì‚¬ìš©ìëŠ” ë³¸ì¸ ê¸€ë§Œ ë³¼ ìˆ˜ ìˆìŒ  
            return diary.userId === appData.currentUser.id;  
        }).sort((a, b) => new Date(b.date) - new Date(a.date));  
    }  
  
    // ğŸ‘‘ í–…ì”¨ ì—¬ë¶€ í™•ì¸  
    function isSuperAdmin() {  
        return appData.currentUser && appData.currentUser.role === 'super_admin';  
    }  
  
    // ğŸ‘‘ í–…ì”¨ìš© ë‹¤ì´ì–´ë¦¬ ê·¸ë£¹í™”  
    function groupDiariesByUser(diaries) {  
        const grouped = {};  
        diaries.forEach(diary => {  
            if (!grouped[diary.userId]) {  
                const user = appData.users.find(u => u.id === diary.userId);  
                grouped[diary.userId] = {  
                    user: user,  
                    diaries: []  
                };  
            }  
            grouped[diary.userId].diaries.push(diary);  
        });  
        return grouped;  
    }  
  
    // ğŸ‘‘ í–…ì”¨ìš© ê´€ë¦¬ì ë·° ë Œë”ë§  
    function renderAdminDiaryView(groupedDiaries) {  
        const diaryList = document.getElementById('diaryList');  
          
        // í†µê³„ ì •ë³´ í‘œì‹œ  
        const totalDiaries = Object.values(groupedDiaries).reduce((sum, group) => sum + group.diaries.length, 0);  
        const totalUsers = Object.keys(groupedDiaries).length;  
          
        const statsCard = document.createElement('div');  
        statsCard.className = 'happxi-admin rounded-2xl p-6 mb-6';  
        statsCard.innerHTML = `  
            <h3 class="text-xl font-bold mb-4 text-gray-800">ğŸ‘‘ í–…ì”¨ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h3>  
            <div class="grid grid-cols-3 gap-4 text-center">  
                <div>  
                    <div class="text-2xl font-bold text-purple-600">${totalUsers}</div>  
                    <div class="text-sm text-gray-600">í™œì„± ì‚¬ìš©ì</div>  
                </div>  
                <div>  
                    <div class="text-2xl font-bold text-blue-600">${totalDiaries}</div>  
                    <div class="text-sm text-gray-600">ì´ ê¸°ë¡</div>  
                </div>  
                <div>  
                    <div class="text-2xl font-bold text-green-600">${getTodayDiariesCount()}</div>  
                    <div class="text-sm text-gray-600">ì˜¤ëŠ˜ ê¸°ë¡</div>  
                </div>  
            </div>  
        `;  
        diaryList.appendChild(statsCard);  
          
        // ì‚¬ìš©ìë³„ ë‹¤ì´ì–´ë¦¬ ëª©ë¡  
        Object.entries(groupedDiaries).forEach(([userId, group]) => {  
            const userCard = createAdminUserCard(group.user, group.diaries);  
            diaryList.appendChild(userCard);  
        });  
    }  
  
    // ğŸ‘‘ ì‚¬ìš©ìë³„ ì¹´ë“œ ìƒì„± (í–…ì”¨ìš©)  
    function createAdminUserCard(user, diaries) {  
        const userCard = document.createElement('div');  
        userCard.className = 'happxi-admin rounded-2xl p-5 mb-6';  
          
        const sortedDiaries = diaries.sort((a, b) => new Date(b.date) - new Date(a.date));  
          
        userCard.innerHTML = `  
            <div class="flex items-center justify-between mb-4">  
                <div class="flex items-center">  
                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center text-white font-bold mr-3">  
                        ${user.avatar}  
                    </div>  
                    <div>  
                        <h4 class="font-bold text-gray-800">${user.name}</h4>  
                        <p class="text-sm text-gray-600">${user.id}</p>  
                    </div>  
                </div>  
                <span class="bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs">  
                    ${diaries.length}ê°œì˜ ê¸°ë¡  
                </span>  
            </div>  
            <div class="space-y-3" id="user-diaries-${user.id}">  
                ${sortedDiaries.slice(0, 3).map(diary => {  
                    const isNew = isWithin7Days(diary.date);  
                    return `  
                        <div class="privacy-protected rounded-xl p-3 cursor-pointer hover:shadow-md transition" onclick="showDiaryDetail(${diary.id})">  
                            <div class="flex items-center justify-between mb-1">  
                                <h5 class="font-medium text-gray-800 text-sm">  
                                    ${diary.title || 'ì œëª© ì—†ìŒ'}  
                                    ${isNew ? '<span class="new-badge ml-2">NEW</span>' : ''}  
                                </h5>  
                                <span class="text-lg">${diary.emotion}</span>  
                            </div>  
                            <p class="text-xs text-gray-600 line-clamp-2">${diary.content}</p>  
                            <div class="mt-1 text-xs text-gray-500">${formatDate(diary.date)} â€¢ ${diary.moodName}</div>  
                        </div>  
                    `;  
                }).join('')}  
            </div>  
            ${diaries.length > 3 ? `  
                <button onclick="toggleUserDiaries('${user.id}')" class="text-sm text-purple-600 font-medium mt-3">  
                    ë”ë³´ê¸° (${diaries.length - 3}ê°œ)  
                </button>  
            ` : ''}  
        `;  
          
        return userCard;  
    }  
  
    // ğŸ“‹ ì¼ë°˜ ì‚¬ìš©ììš© ë‹¤ì´ì–´ë¦¬ ì¹´ë“œ ìƒì„±  
    function createDiaryCard(diary, isNew) {  
        const card = document.createElement('div');  
        card.className = 'privacy-protected';  
          
        const user = appData.users.find(u => u.id === diary.userId);  
          
        card.innerHTML = `  
            <div class="flex items-start">  
                <div class="text-center mr-4">  
                    <div class="text-2xl mb-1">${new Date(diary.date).getDate()}</div>  
                    <div class="text-xs text-gray-500">${formatDate(diary.date).split(' ')[0]}</div>  
                </div>  
                <div class="flex-1">  
                    <div class="flex items-center justify-between mb-2">  
                        <h3 class="font-bold text-gray-800">  
                            ${diary.title || 'ì œëª© ì—†ìŒ'}  
                            ${isNew ? '<span class="new-badge ml-2">NEW</span>' : ''}  
                        </h3>  
                        <span class="text-2xl">${diary.emotion}</span>  
                    </div>  
                    <p class="text-sm text-gray-600 line-clamp-2">${diary.content}</p>  
                    <div class="mt-2 text-xs text-gray-500">${diary.moodName}</div>  
                </div>  
            </div>  
        `;  
          
        return card;  
    }  
  
    // ğŸ“… ë‚ ì§œ í¬ë§·íŒ…  
    function formatDate(dateString) {  
        const date = new Date(dateString);  
        return date.toLocaleDateString('ko-KR', {   
            month: 'long',   
            day: 'numeric',  
            year: date.getFullYear() !== new Date().getFullYear() ? 'numeric' : undefined  
        });  
    }  
  
    // ğŸ“… 7ì¼ ì´ë‚´ì¸ì§€ ì²´í¬  
    function isWithin7Days(diaryDate) {  
        const diary = new Date(diaryDate);  
        const today = new Date();  
        const diffTime = Math.abs(today - diary);  
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));  
        return diffDays <= 7;  
    }  
  
    // ğŸ“Š ì˜¤ëŠ˜ ì‘ì„±ëœ ë‹¤ì´ì–´ë¦¬ ìˆ˜  
    function getTodayDiariesCount() {  
        const today = new Date().toISOString().split('T')[0];  
        return appData.diaries.filter(diary => diary.date === today).length;  
    }  
  
    // ğŸ¯ ê¸°ë¶„ ì„ íƒ  
    function selectMood(element, icon, name) {  
        document.querySelectorAll('.mood-item').forEach(item => item.classList.remove('selected'));  
        element.classList.add('selected');  
        selectedMood = { icon, name };  
        checkDiaryForm();  
    }  
  
    // âœ… ë‹¤ì´ì–´ë¦¬ í¼ ê²€ì¦  
    function checkDiaryForm() {  
        const content = document.getElementById('diaryContent').value.trim();  
        const submitBtn = document.getElementById('diarySubmitBtn');  
          
        if (selectedMood.icon && content) {  
            submitBtn.disabled = false;  
            submitBtn.classList.add('opacity-100');  
        } else {  
            submitBtn.disabled = true;  
            submitBtn.classList.remove('opacity-100');  
        }  
    }  
  
    // ğŸ“ ë‹¤ì´ì–´ë¦¬ ì œì¶œ (ë³´ì•ˆ ê°•í™”)  
    function submitDiary(event) {  
        event.preventDefault();  
          
        if (!selectedMood.icon) {  
            alert('ê¸°ë¶„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');  
            return;  
        }  
          
        if (!appData.currentUser) {  
            alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');  
            return;  
        }  
          
        const title = document.getElementById('diaryTitle').value.trim();  
        const content = document.getElementById('diaryContent').value.trim();  
          
        // ğŸ” ë³´ì•ˆ ê²€ì¦: í˜„ì¬ ì‚¬ìš©ìì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ì¬í™•ì¸  
        const newDiary = {  
            id: Date.now(),  
            userId: appData.currentUser.id,  
            date: new Date().toISOString().split('T')[0],  
            title: title,  
            content: content,  
            emotion: selectedMood.icon,  
            moodName: selectedMood.name  
        };  
          
        appData.diaries.push(newDiary);  
        renderDiaries();  
        closeModal('diaryModal');  
          
        // í¼ ì´ˆê¸°í™”  
        document.getElementById('diaryTitle').value = '';  
        document.getElementById('diaryContent').value = '';  
        selectedMood = { icon: '', name: '' };  
        document.querySelectorAll('.mood-item').forEach(item => item.classList.remove('selected'));  
          
        alert('ì˜¤ëŠ˜ì˜ ë¬´ë“œê°€ ì™„ë²½í•˜ê²Œ ë³´í˜¸ë˜ë©° ì €ì¥ë˜ì—ˆì–´ìš”! ğŸ’–');  
    }  
  
    // ğŸ“¸ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²˜ë¦¬  
    function handleImageUpload(event) {  
        const file = event.target.files[0];  
        if (file) {  
            const reader = new FileReader();  
            reader.onload = function(e) {  
                const dropZone = event.target.parentElement;  
                dropZone.innerHTML = `  
                    <img src="${e.target.result}" alt="ì—…ë¡œë“œëœ ì´ë¯¸ì§€" class="w-full h-32 object-cover rounded-lg mb-2">  
                    <p class="text-sm text-gray-600">í´ë¦­í•´ì„œ ë‹¤ë¥¸ ì´ë¯¸ì§€ ì„ íƒ</p>  
                `;  
            };  
            reader.readAsDataURL(file);  
        }  
    }  
  
    // ğŸ”„ ëª¨ë¨¼íŠ¸ ì œì¶œ (ê°„ë‹¨í•œ êµ¬í˜„)  
    function submitMoment(event) {  
        event.preventDefault();  
        const content = document.getElementById('momentContent').value.trim();  
          
        if (content) {  
            const newMoment = {  
                id: Date.now(),  
                userId: appData.currentUser.id,  
                content: content,  
                likes: 0,  
                comments: 0,  
                views: 0,  
                time: 'ë°©ê¸ˆ ì „'  
            };  
              
            appData.moments.unshift(newMoment);  
            closeModal('momentModal');  
            document.getElementById('momentContent').value = '';  
            alert('ëª¨ë¨¼íŠ¸ê°€ ê³µìœ ë˜ì—ˆì–´ìš”! âœ¨');  
        }  
    }  
  
    // ğŸ“± í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜  
    function navigateTo(page, event) {  
        if (event) event.preventDefault();  
          
        // ëª¨ë“  í˜ì´ì§€ ìˆ¨ê¸°ê¸°  
        document.querySelectorAll('section').forEach(section => section.classList.add('hide'));  
          
        // ì„ íƒëœ í˜ì´ì§€ í‘œì‹œ  
        const targetPage = document.getElementById(page + 'Page');  
        if (targetPage) {  
            targetPage.classList.remove('hide');  
            targetPage.classList.add('fade-in');  
        }  
          
        // ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œ ì—…ë°ì´íŠ¸  
        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));  
        event?.currentTarget?.classList.add('active');  
          
        currentTab = page;  
          
        // í˜ì´ì§€ë³„ ì´ˆê¸°í™”  
        if (page === 'sanctuary') {  
            renderDiaries();  
        }  
    }  
  
    // âœ‰ï¸ ì˜¤ëŠ˜ì˜ ë¬´ë“œ ë°”ë¡œ ì—´ê¸°  
    function openTodayMood() {  
        document.getElementById('letterNotification').classList.add('hide');  
        navigateTo('sanctuary');  
        setTimeout(() => openDiaryWrite(), 300);  
    }  
  
    // ğŸ“ ë‹¤ì´ì–´ë¦¬ ì‘ì„± ì—´ê¸°  
    function openDiaryWrite() {  
        if (!appData.currentUser) return;  
        document.getElementById('diaryModal').classList.add('active');  
    }  
  
    // ğŸ“¸ ëª¨ë¨¼íŠ¸ ì‘ì„± ì—´ê¸°  
    function openMomentCompose() {  
        if (!appData.currentUser) return;  
        document.getElementById('momentModal').classList.add('active');  
    }  
  
    // âŒ ëª¨ë‹¬ ë‹«ê¸°  
    function closeModal(modalId) {  
        document.getElementById(modalId).classList.remove('active');  
    }  
  
    // ğŸ§ª íë§ ìœ í˜• í…ŒìŠ¤íŠ¸  
    function showHealingTypeTest() {  
        alert('íë§ ìœ í˜• í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤! âœ¨');  
    }  
  
    // ğŸ‘‹ íšŒì›ê°€ì…  
    function showSignup() {  
        alert('íšŒì›ê°€ì… ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤! ğŸ’');  
    }  
  
    // ğŸ‘‘ ì‚¬ìš©ìë³„ ë‹¤ì´ì–´ë¦¬ í† ê¸€ (í–…ì”¨ìš©)  
    function toggleUserDiaries(userId) {  
        const container = document.getElementById(`user-diaries-${userId}`);  
        // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ìˆ¨ê²¨ì§„ ë‹¤ì´ì–´ë¦¬ë“¤ì„ í‘œì‹œ/ìˆ¨ê¹€  
        alert('ë”ë³´ê¸° ê¸°ëŠ¥ì´ êµ¬í˜„ë  ì˜ˆì •ì…ë‹ˆë‹¤!');  
    }  
  
    // ğŸ“„ ë‹¤ì´ì–´ë¦¬ ìƒì„¸ ë³´ê¸° (í–…ì”¨ìš©)  
    function showDiaryDetail(diaryId) {  
        const diary = appData.diaries.find(d => d.id === diaryId);  
        if (!diary) return;  
          
        const user = appData.users.find(u => u.id === diary.userId);  
        alert(`  
ğŸ“ ${diary.title || 'ì œëª© ì—†ìŒ'}  
  
ì‘ì„±ì: ${user.name} (${user.id})  
ì‘ì„±ì¼: ${formatDate(diary.date)}  
ê¸°ë¶„: ${diary.emotion} ${diary.moodName}  
  
ë‚´ìš©:  
${diary.content}  
        `);  
    }  
  
    // ğŸ§ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •  
    function setupEventListeners() {  
        // ë‹¤ì´ì–´ë¦¬ ë‚´ìš© ë³€ê²½ ì‹œ í¼ ê²€ì¦  
        const diaryContent = document.getElementById('diaryContent');  
        if (diaryContent) {  
            diaryContent.addEventListener('input', checkDiaryForm);  
        }  
          
        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°  
        document.querySelectorAll('.modal').forEach(modal => {  
            modal.addEventListener('click', function(e) {  
                if (e.target === this) {  
                    this.classList.remove('active');  
                }  
            });  
        });  
    }  
  
    // ğŸš€ ì•± ì‹œì‘  
    window.addEventListener('DOMContentLoaded', initApp);  
</script>  
  
</body>  
</html>  
