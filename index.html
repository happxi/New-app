<!DOCTYPE html>  
<html lang="ko">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ìíœ´ë ˆí„° - í–…ì‚ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”!</title>  
    <style>  
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');  
          
        :root {  
            --color-primary: #9B59B6;  
            --color-primary-light: #D7BDE2;  
            --color-primary-dark: #8E44AD;  
            --color-secondary: #E8DAEF;  
            --color-accent: #BB8FCE;  
            --color-text: #2C3E50;  
            --color-text-light: #7F8C8D;  
            --color-white: rgba(255, 255, 255, 0.95);  
            --color-shadow: rgba(155, 89, 182, 0.2);  
            --color-black: #1a1a1a;  
        }  
  
        * {  
            box-sizing: border-box;  
            margin: 0;  
            padding: 0;  
            font-family: 'Noto Sans KR', sans-serif;  
        }  
  
        body {  
            background: linear-gradient(135deg, var(--color-secondary) 0%, #F4ECF7 100%);  
            color: var(--color-text);  
            min-height: 100vh;  
            overflow-x: hidden;  
            position: relative;  
        }  
  
        /* ë¡œê·¸ì¸ ëª¨ë‹¬ - í•­ìƒ í‘œì‹œ */  
        .auth-modal {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.7);  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            z-index: 1000;  
        }  
  
        .auth-content {  
            background: var(--color-white);  
            border-radius: 25px;  
            padding: 40px;  
            width: 90%;  
            max-width: 380px;  
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);  
            animation: slideUp 0.3s ease-out;  
        }  
  
        @keyframes slideUp {  
            from {  
                transform: translateY(50px);  
                opacity: 0;  
            }  
            to {  
                transform: translateY(0);  
                opacity: 1;  
            }  
        }  
  
        .auth-content h2 {  
            color: var(--color-primary);  
            text-align: center;  
            margin-bottom: 30px;  
            font-size: 28px;  
            font-weight: 700;  
        }  
  
        .auth-input {  
            width: 100%;  
            padding: 15px 20px;  
            border: 2px solid var(--color-primary-light);  
            border-radius: 20px;  
            margin-bottom: 20px;  
            font-size: 16px;  
            transition: all 0.3s;  
            background: rgba(255, 255, 255, 0.9);  
        }  
  
        .auth-input:focus {  
            outline: none;  
            border-color: var(--color-primary);  
            transform: translateY(-2px);  
            box-shadow: 0 5px 15px var(--color-shadow);  
        }  
  
        .auth-button {  
            width: 100%;  
            padding: 15px;  
            background: var(--color-primary);  
            color: white;  
            border: none;  
            border-radius: 20px;  
            font-size: 16px;  
            font-weight: 600;  
            cursor: pointer;  
            transition: all 0.3s;  
            margin-bottom: 15px;  
        }  
  
        .auth-button:hover {  
            background: var(--color-primary-dark);  
            transform: translateY(-2px);  
            box-shadow: 0 8px 25px rgba(155, 89, 182, 0.4);  
        }  
  
        .auth-link {  
            text-align: center;  
            margin-top: 20px;  
        }  
  
        .auth-link button {  
            background: none;  
            border: none;  
            color: var(--color-primary);  
            font-weight: 600;  
            cursor: pointer;  
            font-size: 14px;  
        }  
  
        .auth-link button:hover {  
            text-decoration: underline;  
        }  
  
        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ - ë¡œê·¸ì¸ ì „ ìˆ¨ê¹€ */  
        .main-container {  
            width: 100%;  
            max-width: 100vw;  
            min-height: calc(100vh - 80px);  
            padding: 0 16px 20px;  
            padding-bottom: 100px;  
            display: none;  
        }  
  
        .main-container.show {  
            display: block;  
        }  
  
        /* í—¤ë” */  
        .main-header {  
            text-align: center;  
            padding: 40px 0 30px;  
        }  
  
        .main-header h1 {  
            font-size: 28px;  
            font-weight: 700;  
            margin-bottom: 8px;  
            color: var(--color-black);  
            border-radius: 25px;  
            padding: 15px 20px;  
            background: var(--color-white);  
            box-shadow: 0 4px 15px var(--color-shadow);  
            display: inline-block;  
        }  
  
        .main-header p {  
            font-size: 14px;  
            color: var(--color-text-light);  
            font-weight: 300;  
            margin-top: 10px;  
        }  
  
        /* ì¹´ë“œ */  
        .glass-card {  
            background: var(--color-white);  
            backdrop-filter: blur(15px);  
            border-radius: 20px;  
            box-shadow: 0 8px 25px var(--color-shadow);  
            padding: 25px;  
            margin-bottom: 20px;  
            width: 100%;  
        }  
  
        /* ì•„ì´ì½˜ ì› */  
        .icon-circle {  
            width: 70px;  
            height: 70px;  
            margin: 0 auto 8px;  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-primary) 100%);  
            box-shadow: 0 8px 25px var(--color-shadow);  
            transition: all 0.3s;  
        }  
  
        .icon-circle:hover {  
            transform: translateY(-5px) scale(1.05);  
            box-shadow: 0 12px 30px rgba(155, 89, 182, 0.4);  
        }  
  
        .icon-circle svg {  
            width: 32px;  
            height: 32px;  
            fill: white;  
        }  
  
        /* ì•¡ì…˜ ë²„íŠ¼ */  
        .action-button {  
            display: inline-block;  
            padding: 12px 25px;  
            background: var(--color-primary);  
            color: white;  
            border: none;  
            border-radius: 25px;  
            font-weight: 600;  
            cursor: pointer;  
            transition: all 0.3s;  
            text-decoration: none;  
            text-align: center;  
            box-shadow: 0 4px 15px var(--color-shadow);  
        }  
  
        .action-button:hover {  
            background: var(--color-primary-dark);  
            transform: translateY(-2px);  
            box-shadow: 0 6px 20px rgba(155, 89, 182, 0.3);  
        }  
  
        /* ì•¡ì…˜ ê·¸ë£¹ */  
        .action-group {  
            display: flex;  
            justify-content: space-around;  
            margin: 30px 0;  
            gap: 15px;  
        }  
  
        .action-item {  
            text-decoration: none;  
            color: var(--color-text);  
            font-size: 13px;  
            text-align: center;  
            flex: 1;  
        }  
  
        /* ê²Œì‹œë¬¼ */  
        .post-item {  
            background: white;  
            border-radius: 15px;  
            padding: 16px;  
            margin-bottom: 12px;  
            box-shadow: 0 2px 10px rgba(155, 89, 182, 0.1);  
            transition: all 0.3s;  
            cursor: pointer;  
        }  
  
        .post-item:hover {  
            transform: translateY(-2px);  
            box-shadow: 0 4px 20px rgba(155, 89, 182, 0.2);  
        }  
  
        .post-header {  
            display: flex;  
            align-items: center;  
            margin-bottom: 12px;  
        }  
  
        .post-avatar {  
            width: 40px;  
            height: 40px;  
            border-radius: 50%;  
            background: var(--color-primary);  
            color: white;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-weight: 700;  
            margin-right: 12px;  
        }  
  
        .post-info h4 {  
            font-size: 16px;  
            font-weight: 600;  
            color: var(--color-text);  
        }  
  
        .post-info p {  
            font-size: 12px;  
            color: var(--color-text-light);  
        }  
  
        .post-content {  
            margin-bottom: 12px;  
            line-height: 1.5;  
        }  
  
        .post-actions {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
        }  
  
        .action-btn {  
            display: flex;  
            align-items: center;  
            gap: 5px;  
            padding: 8px 12px;  
            border: none;  
            background: transparent;  
            color: var(--color-text-light);  
            border-radius: 15px;  
            cursor: pointer;  
            transition: all 0.2s;  
            font-size: 14px;  
        }  
  
        .action-btn:hover {  
            background: var(--color-secondary);  
            color: var(--color-primary);  
        }  
  
        /* ë§ˆì´í˜ì´ì§€ */  
        .mypage-menu {  
            list-style: none;  
            padding: 0;  
        }  
  
        .mypage-menu li {  
            margin-bottom: 12px;  
        }  
  
        .mypage-button {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
            width: 100%;  
            padding: 15px;  
            border: none;  
            background: white;  
            border-radius: 15px;  
            font-weight: 500;  
            cursor: pointer;  
            transition: all 0.2s;  
            text-align: left;  
            font-size: 15px;  
        }  
  
        .mypage-button:hover {  
            background: var(--color-secondary);  
        }  
  
        /* ìŠ¤íƒ¬í”„ */  
        .stamp-grid {  
            display: grid;  
            grid-template-columns: repeat(10, 1fr);  
            gap: 8px;  
            margin-top: 20px;  
            justify-items: center;  
        }  
  
        .stamp-icon {  
            width: 25px;  
            height: 25px;  
            border-radius: 50%;  
            transition: all 0.3s;  
        }  
  
        .unstamped {  
            background: rgba(240, 240, 240, 0.3);  
            border: 1px solid rgba(200, 200, 200, 0.3);  
        }  
  
        .stamped {  
            background: radial-gradient(circle, var(--color-primary-dark) 0%, var(--color-primary) 70%);  
            box-shadow: 0 2px 8px rgba(155, 89, 182, 0.4);  
            border: 2px solid var(--color-primary-light);  
        }  
  
        /* ë„¤ë¹„ê²Œì´ì…˜ */  
        .bottom-nav {  
            position: fixed;  
            bottom: 0;  
            width: 100%;  
            max-width: 100vw;  
            height: 80px;  
            background: var(--color-white);  
            backdrop-filter: blur(15px);  
            border-top: 1px solid rgba(255, 255, 255, 0.3);  
            display: none;  
            justify-content: space-around;  
            align-items: center;  
            z-index: 100;  
            box-shadow: 0 -5px 20px var(--color-shadow);  
        }  
  
        .bottom-nav.show {  
            display: flex;  
        }  
  
        .nav-item {  
            display: flex;  
            flex-direction: column;  
            align-items: center;  
            text-decoration: none;  
            color: var(--color-text-light);  
            font-size: 11px;  
            padding: 5px;  
            transition: all 0.2s;  
            flex: 1;  
        }  
  
        .nav-item.active {  
            color: var(--color-primary);  
        }  
  
        .nav-icon {  
            width: 28px;  
            height: 28px;  
            margin-bottom: 4px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
        }  
  
        .nav-icon svg {  
            width: 24px;  
            height: 24px;  
            fill: currentColor;  
        }  
  
        .central-button {  
            background: var(--color-primary) !important;  
            color: white !important;  
            border-radius: 15px;  
            padding: 8px 5px;  
            margin: -8px 2px;  
            box-shadow: 0 4px 15px var(--color-shadow);  
        }  
  
        /* í•„í„° */  
        .filter-buttons {  
            display: flex;  
            gap: 10px;  
            margin-bottom: 20px;  
        }  
  
        .filter-buttons button {  
            flex: 1;  
            padding: 12px;  
            border: 2px solid var(--color-primary);  
            background: transparent;  
            color: var(--color-primary);  
            font-weight: 600;  
            border-radius: 20px;  
            cursor: pointer;  
            transition: all 0.3s;  
        }  
  
        .filter-buttons button.active {  
            background: var(--color-primary);  
            color: white;  
        }  
  
        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */  
        .other-modal {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.7);  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            z-index: 1001;  
        }  
  
        .other-modal.hide {  
            display: none;  
        }  
  
        .modal-content {  
            background: white;  
            border-radius: 20px;  
            padding: 30px;  
            width: 90%;  
            max-width: 400px;  
            max-height: 90vh;  
            overflow-y: auto;  
        }  
  
        .modal-content h3 {  
            color: var(--color-primary);  
            margin-bottom: 20px;  
            text-align: center;  
            font-size: 22px;  
        }  
  
        .textarea-input {  
            width: 100%;  
            min-height: 150px;  
            padding: 12px;  
            border: 2px solid var(--color-primary-light);  
            border-radius: 15px;  
            resize: none;  
            font-family: 'Noto Sans KR', sans-serif;  
            margin-bottom: 15px;  
        }  
  
        .textarea-input:focus {  
            outline: none;  
            border-color: var(--color-primary);  
        }  
  
        .image-area {  
            border: 2px dashed var(--color-primary-light);  
            border-radius: 15px;  
            padding: 30px;  
            text-align: center;  
            margin-bottom: 20px;  
            cursor: pointer;  
            transition: all 0.3s;  
        }  
  
        .image-area:hover {  
            border-color: var(--color-primary);  
            background: var(--color-secondary);  
        }  
  
        /* ë©”ì‹œì§€ */  
        .toast-message {  
            position: fixed;  
            top: 30px;  
            left: 50%;  
            transform: translateX(-50%);  
            background: var(--color-primary);  
            color: white;  
            padding: 15px 30px;  
            border-radius: 25px;  
            z-index: 2000;  
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);  
            font-size: 14px;  
            font-weight: 500;  
            animation: fadeInOut 3s ease-out forwards;  
        }  
  
        @keyframes fadeInOut {  
            0% { opacity: 0; transform: translateX(-50%) translateY(-20px); }  
            20% { opacity: 1; transform: translateX(-50%) translateY(0); }  
            80% { opacity: 1; transform: translateX(-50%) translateY(0); }  
            100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }  
        }  
  
        /* ì—ë””í„° ëŒ€ì‹œë³´ë“œ */  
        .admin-header {  
            background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-secondary) 100%);  
            border-radius: 20px;  
            padding: 30px;  
            margin-bottom: 20px;  
            text-align: center;  
        }  
  
        .admin-header h2 {  
            color: var(--color-primary-dark);  
            font-size: 24px;  
            margin-bottom: 10px;  
        }  
  
        /* ì• ë‹ˆë©”ì´ì…˜ */  
        .fade-in {  
            animation: fadeIn 0.5s ease-out;  
        }  
  
        @keyframes fadeIn {  
            from { opacity: 0; transform: translateY(20px); }  
            to { opacity: 1; transform: translateY(0); }  
        }  
  
        /* ìˆ¨ê¹€ */  
        .hide {  
            display: none !important;  
        }  
    </style>  
</head>  
<body>  
    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ (í•­ìƒ í‘œì‹œ) -->  
    <div id="loginModal" class="auth-modal">  
        <div class="auth-content">  
            <h2>ë¡œê·¸ì¸</h2>  
            <input type="email" id="loginEmail" class="auth-input" placeholder="ì´ë©”ì¼">  
            <input type="password" id="loginPassword" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸">  
            <button onclick="handleLogin()" class="auth-button">ë¡œê·¸ì¸</button>  
            <div class="auth-link">  
                <p style="color: var(--color-text-light); font-size: 12px; margin-bottom: 10px;">ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?</p>  
                <button onclick="showSignup()">íšŒì›ê°€ì…</button>  
            </div>  
        </div>  
    </div>  
  
    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->  
    <div id="signupModal" class="other-modal hide">  
        <div class="modal-content">  
            <h3>íšŒì›ê°€ì…</h3>  
            <input type="email" id="signupEmail" class="auth-input" placeholder="ì´ë©”ì¼">  
            <input type="password" id="signupPassword" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ)">  
            <input type="password" id="signupPasswordConfirm" class="auth-input" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸">  
            <button onclick="handleSignup()" class="auth-button">ê°€ì…í•˜ê¸°</button>  
            <button onclick="showLogin()" class="auth-button" style="background: transparent; border: 2px solid var(--color-primary); color: var(--color-primary); margin-top: 10px;">ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>  
        </div>  
    </div>  
  
    <!-- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ëª¨ë‹¬ -->  
    <div id="passwordModal" class="other-modal hide">  
        <div class="modal-content">  
            <h3>ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h3>  
            <input type="password" id="currentPassword" class="auth-input" placeholder="í˜„ì¬ ë¹„ë°€ë²ˆí˜¸">  
            <input type="password" id="newPassword" class="auth-input" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ)">  
            <input type="password" id="newPasswordConfirm" class="auth-input" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸">  
            <button onclick="handleChangePassword()" class="auth-button">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>  
            <button onclick="closePasswordModal()" class="auth-button" style="background: transparent; border: 2px solid var(--color-primary); color: var(--color-primary); margin-top: 10px;">ì·¨ì†Œ</button>  
        </div>  
    </div>  
  
    <!-- ê¸€ì“°ê¸° ëª¨ë‹¬ -->  
    <div id="writeModal" class="other-modal hide">  
        <div class="modal-content">  
            <h3>ì—ë””í„°í†¡ ê¸€ì“°ê¸°</h3>  
            <textarea id="writeText" class="textarea-input" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>  
            <div class="image-area" onclick="document.getElementById('imageFile').click()">  
                <div style="font-size: 32px; margin-bottom: 10px;">ğŸ“·</div>  
                <p>ì‚¬ì§„ ì¶”ê°€í•˜ê¸°</p>  
                <input type="file" id="imageFile" accept="image/*" style="display: none;" onchange="handleImageSelect(event)">  
            </div>  
            <button onclick="submitPost()" class="auth-button">ê²Œì‹œí•˜ê¸°</button>  
            <button onclick="closeWriteModal()" class="auth-button" style="background: transparent; border: 2px solid var(--color-primary); color: var(--color-primary); margin-top: 10px;">ì·¨ì†Œ</button>  
        </div>  
    </div>  
  
    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->  
    <div id="appContainer" class="main-container">  
        <!-- ë‚´ìš©ì€ ë™ì ìœ¼ë¡œ ìƒì„± -->  
    </div>  
  
    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->  
    <nav id="bottomNav" class="bottom-nav">  
        <a href="#" class="nav-item active" data-tab="home">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>  
                </svg>  
            </div>  
            <span>í™ˆ</span>  
        </a>  
        <a href="#" class="nav-item" data-tab="letter">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>  
                </svg>  
            </div>  
            <span>ë ˆí„°</span>  
        </a>  
        <a href="#" class="nav-item central-button" data-tab="mood">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>  
                </svg>  
            </div>  
            <span>ë¬´ë“œ</span>  
        </a>  
        <a href="#" class="nav-item" data-tab="editor-talk">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>  
                </svg>  
            </div>  
            <span>ì—ë””í„°í†¡</span>  
        </a>  
        <a href="#" class="nav-item" data-tab="mypage">  
            <div class="nav-icon">  
                <svg viewBox="0 0 24 24">  
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>  
                </svg>  
            </div>  
            <span>ë§ˆì´</span>  
        </a>  
    </nav>  
  
    <script>  
        // ì‚¬ìš©ì ë°ì´í„°  
        const users = [  
            { id: 'happxi@jahyu.com', name: 'í–…ì”¨', password: 'admin123', role: 'super_admin', avatar: 'í–…' },  
            { id: 'elly@jahyu.com', name: 'ì—˜ë¦¬', password: 'admin123', role: 'admin', avatar: 'ì—˜' },  
            { id: 'gokal@jahyu.com', name: 'ê³ ì¹¼', password: 'admin123', role: 'admin', avatar: 'ê³ ' },  
            { id: 'yudan@jahyu.com', name: 'ìœ ë‹¨', password: 'admin123', role: 'admin', avatar: 'ìœ ' },  
            { id: 'sunny@jahyu.com', name: 'ì¨ë‹ˆ', password: 'admin123', role: 'admin', avatar: 'ì¨' },  
            { id: 'hyeran@example.com', name: 'í˜œë€', password: 'user123', role: 'user', avatar: 'í˜œ' }  
        ];  
  
        // ì „ì—­ ë³€ìˆ˜  
        let currentUser = null;  
        let currentTab = 'home';  
        let userStamps = 45;  
        let selectedImage = null;  
        let letterFilter = 'ìíœ´ë ˆí„°';  
        let isLoggedIn = false;  
  
        // ê²Œì‹œë¬¼ ë°ì´í„°  
        const posts = [  
            {  
                id: 1,  
                author: 'ì—˜ë¦¬',  
                content: 'ìƒˆí•´ ëª©í‘œë¥¼ ì„¸ì›Œë´¤ì–´ìš”. ì¼ì£¼ì¼ì— 3ë²ˆ ìš”ê°€í•˜ê¸°!',  
                date: '2025.12.10',  
                likes: 12,  
                comments: 3,  
                likedBy: [],  
                bookmarkedBy: []  
            },  
            {  
                id: 2,  
                author: 'ê³ ì¹¼',  
                content: 'ê²¨ìš¸ í•œì •íŒ íŠ¸ë Œë”” ì¹´í˜ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸ ì •ë¦¬ ì¤‘!',  
                date: '2025.12.09',  
                likes: 8,  
                comments: 1,  
                likedBy: [],  
                bookmarkedBy: []  
            },  
            {  
                id: 3,  
                author: 'ì¨ë‹ˆ',  
                content: 'ì˜¤ëŠ˜ì€ ì°½ë¬¸ì„ ì—´ê³  í–‡ì‚´ì„ ë°›ìœ¼ë©° ì°¨ í•œì”~',  
                date: '2025.12.08',  
                likes: 15,  
                comments: 5,  
                likedBy: [],  
                bookmarkedBy: []  
            }  
        ];  
  
        // í˜ì´ì§€ ì´ˆê¸°í™” - ì¦‰ì‹œ ì‹¤í–‰  
        document.addEventListener('DOMContentLoaded', function() {  
            // ë¡œê·¸ì¸ ëª¨ë‹¬ í•­ìƒ í‘œì‹œ  
            showLoginModal();  
        });  
  
        // ë¡œê·¸ì¸ ì²˜ë¦¬  
        function handleLogin() {  
            const email = document.getElementById('loginEmail').value.trim();  
            const password = document.getElementById('loginPassword').value.trim();  
              
            if (!email || !password) {  
                showToast('ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
              
            const user = users.find(u => u.id === email && u.password === password);  
            if (user) {  
                currentUser = user;  
                isLoggedIn = true;  
                hideLoginModal();  
                showMainApp();  
                renderTab('home');  
                showToast('ë¡œê·¸ì¸ ì„±ê³µ! ì•ˆë…•í•˜ì„¸ìš” ' + user.name + 'ë‹˜!');  
            } else {  
                showToast('ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
            }  
        }  
  
        // íšŒì›ê°€ì… ì²˜ë¦¬  
        function handleSignup() {  
            const email = document.getElementById('signupEmail').value.trim();  
            const password = document.getElementById('signupPassword').value.trim();  
            const confirm = document.getElementById('signupPasswordConfirm').value.trim();  
              
            if (!email || !password || !confirm) {  
                showToast('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
              
            if (password !== confirm) {  
                showToast('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
                return;  
            }  
              
            if (password.length < 8) {  
                showToast('ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');  
                return;  
            }  
              
            if (users.find(u => u.id === email)) {  
                showToast('ì´ë¯¸ ê°€ì…ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.');  
                return;  
            }  
              
            const newUser = {  
                id: email,  
                name: email.split('@')[0],  
                password: password,  
                role: 'user',  
                avatar: email[0].toUpperCase()  
            };  
              
            users.push(newUser);  
            showToast('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');  
            showLogin();  
        }  
  
        // ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì²˜ë¦¬  
        function handleChangePassword() {  
            const current = document.getElementById('currentPassword').value.trim();  
            const newPass = document.getElementById('newPassword').value.trim();  
            const confirm = document.getElementById('newPasswordConfirm').value.trim();  
              
            if (!current || !newPass || !confirm) {  
                showToast('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
              
            if (current !== currentUser.password) {  
                showToast('í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
                return;  
            }  
              
            if (newPass !== confirm) {  
                showToast('ìƒˆ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');  
                return;  
            }  
              
            if (newPass.length < 8) {  
                showToast('ìƒˆ ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');  
                return;  
            }  
              
            if (newPass === current) {  
                showToast('ì´ì „ ë¹„ë°€ë²ˆí˜¸ì™€ ë‹¤ë¥¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
              
            // ë¹„ë°€ë²ˆí˜¸ ë³€ê²½  
            const userIndex = users.findIndex(u => u.id === currentUser.id);  
            users[userIndex].password = newPass;  
            currentUser.password = newPass;  
              
            closePasswordModal();  
            showToast('ë¹„ë°€ë²ˆí˜¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!');  
        }  
  
        // ëª¨ë‹¬ ì œì–´ í•¨ìˆ˜  
        function showLoginModal() {  
            document.getElementById('loginModal').classList.remove('hide');  
        }  
  
        function hideLoginModal() {  
            document.getElementById('loginModal').classList.add('hide');  
        }  
  
        function showMainApp() {  
            document.getElementById('appContainer').classList.add('show');  
            document.getElementById('bottomNav').classList.add('show');  
        }  
  
        function showSignup() {  
            document.getElementById('signupModal').classList.remove('hide');  
        }  
  
        function showLogin() {  
            document.getElementById('signupModal').classList.add('hide');  
            document.getElementById('loginModal').classList.remove('hide');  
        }  
  
        function openPasswordModal() {  
            document.getElementById('passwordModal').classList.remove('hide');  
        }  
  
        function closePasswordModal() {  
            document.getElementById('passwordModal').classList.add('hide');  
            // ì…ë ¥ê°’ ì´ˆê¸°í™”  
            document.getElementById('currentPassword').value = '';  
            document.getElementById('newPassword').value = '';  
            document.getElementById('newPasswordConfirm').value = '';  
        }  
  
        function openWriteModal() {  
            if (!currentUser || currentUser.role === 'user') {  
                showToast('ê¸€ì“°ê¸° ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');  
                return;  
            }  
            document.getElementById('writeModal').classList.remove('hide');  
        }  
  
        function closeWriteModal() {  
            document.getElementById('writeModal').classList.add('hide');  
            selectedImage = null;  
            document.getElementById('writeText').value = '';  
        }  
  
        function handleImageSelect(event) {  
            const file = event.target.files[0];  
            if (file) {  
                const reader = new FileReader();  
                reader.onload = function(e) {  
                    selectedImage = e.target.result;  
                    const imageArea = event.target.parentElement;  
                    imageArea.innerHTML = `  
                        <img src="${selectedImage}" style="max-width: 100%; max-height: 200px; border-radius: 10px; margin-bottom: 10px;">  
                        <p>ì‚¬ì§„ ë³€ê²½í•˜ê¸°</p>  
                    `;  
                };  
                reader.readAsDataURL(file);  
            }  
        }  
  
        function submitPost() {  
            const content = document.getElementById('writeText').value.trim();  
            if (!content) {  
                showToast('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');  
                return;  
            }  
  
            const newPost = {  
                id: posts.length + 1,  
                author: currentUser.name,  
                content: content,  
                date: new Date().toLocaleDateString('ko-KR'),  
                likes: 0,  
                comments: 0,  
                likedBy: [],  
                bookmarkedBy: [],  
                image: selectedImage  
            };  
  
            posts.unshift(newPost);  
            closeWriteModal();  
            renderTab('editor-talk');  
            showToast('ê²Œì‹œë¬¼ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');  
        }  
  
        function handleLogout() {  
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {  
                currentUser = null;  
                isLoggedIn = false;  
                document.getElementById('appContainer').classList.remove('show');  
                document.getElementById('bottomNav').classList.remove('show');  
                // ë¡œê·¸ì¸ ì…ë ¥ê°’ ì´ˆê¸°í™”  
                document.getElementById('loginEmail').value = '';  
                document.getElementById('loginPassword').value = '';  
                showLoginModal();  
            }  
        }  
  
        function showToast(message) {  
            // ê¸°ì¡´ í† ìŠ¤íŠ¸ ì œê±°  
            const existingToast = document.querySelector('.toast-message');  
            if (existingToast) {  
                existingToast.remove();  
            }  
  
            const toast = document.createElement('div');  
            toast.className = 'toast-message';  
            toast.textContent = message;  
            document.body.appendChild(toast);  
              
            setTimeout(() => {  
                toast.remove();  
            }, 3000);  
        }  
  
        function toggleLike(event, postId) {  
            event.stopPropagation();  
            const post = posts.find(p => p.id === postId);  
            if (!post) return;  
  
            const userIndex = post.likedBy.indexOf(currentUser.id);  
            if (userIndex > -1) {  
                post.likedBy.splice(userIndex, 1);  
                post.likes--;  
            } else {  
                post.likedBy.push(currentUser.id);  
                post.likes++;  
            }  
  
            renderTab('editor-talk');  
        }  
  
        function toggleBookmark(event, postId) {  
            event.stopPropagation();  
            const post = posts.find(p => p.id === postId);  
            if (!post) return;  
  
            const userIndex = post.bookmarkedBy.indexOf(currentUser.id);  
            if (userIndex > -1) {  
                post.bookmarkedBy.splice(userIndex, 1);  
            } else {  
                post.bookmarkedBy.push(currentUser.id);  
            }  
  
            renderTab('editor-talk');  
        }  
  
        function filterLetters(category) {  
            letterFilter = category;  
            renderTab('letter');  
        }  
  
        // í…œí”Œë¦¿ í•¨ìˆ˜ë“¤  
        function getHomeTemplate() {  
            return `  
                <div class="fade-in">  
                    <div class="main-header">  
                        <h1>í–…ì‚ë‹˜ ì˜¤ëŠ˜ë„ í–‰ë³µí•˜ì„¸ìš”!</h1>  
                        <p>ë©”ë§ˆë¥¸ ì¼ìƒì— íœ´ì‹ í•œ ë°©ìš¸!</p>  
                    </div>  
  
                    <div class="glass-card">  
                        <div style="text-align: center; padding: 40px 0;">  
                            <h2 style="color: var(--color-primary); font-size: 22px; margin-bottom: 10px;">  
                                ì˜¤ëŠ˜ì€ ì–´ë–¤ íë§ì´ í•„ìš”í•˜ì„¸ìš”?  
                            </h2>  
                            <p style="color: var(--color-text-light); margin-bottom: 25px;">  
                                ìíœ´ë ˆí„°ì™€ ìíœ´ë©ì„ ì£¼ì œë³„ë¡œ í•œ ëˆˆì—!  
                            </p>  
                            <a href="#" class="action-button" data-tab="letter">ë ˆí„° ì•„ì¹´ì´ë¸Œ ë°”ë¡œê°€ê¸°</a>  
                        </div>  
                    </div>  
  
                    <div class="action-group">  
                        <a href="http://pf.kakao.com/_Jfjxgn" class="action-item" target="_blank">  
                            <div class="icon-circle">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>  
                                </svg>  
                            </div>  
                            <p>1:1 ì±„íŒ…</p>  
                        </a>  
                        <a href="http://pf.kakao.com/_Jfjxgn/111753149" class="action-item" target="_blank">  
                            <div class="icon-circle">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>  
                                </svg>  
                            </div>  
                            <p>ë¬¸ì¥ ìˆ˜ì§‘</p>  
                        </a>  
                        <a href="https://index-html-zak5.vercel.app/" class="action-item" target="_blank">  
                            <div class="icon-circle">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>  
                                </svg>  
                            </div>  
                            <p>íë§í…ŒìŠ¤íŠ¸</p>  
                        </a>  
                        <a href="https://maily.so/happci/posts/2nzn7qegrp5" class="action-item" target="_blank">  
                            <div class="icon-circle">  
                                <svg viewBox="0 0 24 24">  
                                    <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>  
                                </svg>  
                            </div>  
                            <p>ë ˆí„°ì½ê¸°</p>  
                        </a>  
                    </div>  
                </div>  
            `;  
        }  
  
        function getLetterTemplate() {  
            const letterPosts = [  
                { title: '[ìíœ´ë ˆí„°] íë§ ì—ì„¸ì´ 12ì›”í˜¸', date: '2025.12.10', category: 'ìíœ´ë ˆí„°' },  
                { title: '[ìíœ´ë©] ì£¼ë§ ì‰¼ì˜ ê¸°ìˆ ', date: '2025.12.09', category: 'ìíœ´ë©' },  
                { title: '[ìíœ´ë ˆí„°] ì¼ìƒì˜ ì‘ì€ í–‰ë³µ ì°¾ê¸°', date: '2025.12.08', category: 'ìíœ´ë ˆí„°' },  
                { title: '[ìíœ´ë©] ê°ì„±ì ì¸ ì¹´í˜ ì¶”ì²œ', date: '2025.12.07', category: 'ìíœ´ë©' }  
            ];  
  
            const filteredPosts = letterPosts.filter(post => post.category === letterFilter);  
  
            return `  
                <div class="fade-in">  
                    <div class="main-header">  
                        <h2>ë ˆí„° ì•„ì¹´ì´ë¸Œ</h2>  
                    </div>  
  
                    <div class="filter-buttons">  
                        <button class="${letterFilter === 'ìíœ´ë ˆí„°' ? 'active' : ''}" onclick="filterLetters('ìíœ´ë ˆí„°')">ìíœ´ë ˆí„°</button>  
                        <button class="${letterFilter === 'ìíœ´ë©' ? 'active' : ''}" onclick="filterLetters('ìíœ´ë©')">ìíœ´ë©</button>  
                    </div>  
  
                    <div>  
                        ${filteredPosts.map(post => `  
                            <div class="post-item">  
                                <div class="post-header">  
                                    <div class="post-avatar">ì</div>  
                                    <div class="post-info">  
                                        <h4>${post.title}</h4>  
                                        <p>${post.date}</p>  
                                    </div>  
                                </div>  
                                <div class="post-actions">  
                                    <button class="action-btn">â¤ï¸ ì¢‹ì•„ìš”</button>  
                                    <button class="action-btn">ğŸ’¬ ëŒ“ê¸€</button>  
                                    <button class="action-btn">ğŸ”– ë¶ë§ˆí¬</button>  
                                </div>  
                            </div>  
                        `).join('')}  
                    </div>  
                </div>  
            `;  
        }  
  
        function getEditorTalkTemplate() {  
            const isAdmin = currentUser && currentUser.role !== 'user';  
              
            return `  
                <div class="fade-in">  
                    <div class="main-header">  
                        <h2>ì—ë””í„°í†¡</h2>  
                        <p>ì—ë””í„°ì˜ ì¼ìƒì„ ë” ê°€ê¹Œì´ì—ì„œ ë§Œë‚˜ë³´ì„¸ìš”!</p>  
                    </div>  
  
                    ${isAdmin ? `  
                        <button onclick="openWriteModal()" class="action-button" style="width: 100%; margin-bottom: 20px;">  
                            âœï¸ ê¸€ì“°ê¸°  
                        </button>  
                    ` : ''}  
  
                    <div>  
                        ${posts.map(post => {  
                            const userColor = getUserColor(post.author);  
                            const authorProfile = users.find(u => u.name === post.author);  
                            const avatar = authorProfile ? authorProfile.avatar : 'ì';  
                            return `  
                                <div class="post-item" onclick="showPostDetail(${post.id})">  
                                    <div class="post-header">  
                                        <div class="post-avatar" style="background: ${userColor}">${avatar}</div>  
                                        <div class="post-info">  
                                            <h4>${post.author}</h4>  
                                            <p>${post.date}</p>  
                                        </div>  
                                    </div>  
                                    <div class="post-content">${post.content}</div>  
                                    ${post.image ? `<img src="${post.image}" alt="ê²Œì‹œë¬¼ ì´ë¯¸ì§€" style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-bottom: 12px;">` : ''}  
                                    <div class="post-actions">  
                                        <button class="action-btn ${post.likedBy.includes(currentUser?.id) ? 'active' : ''}" onclick="toggleLike(event, ${post.id})">  
                                            â¤ï¸ ${post.likes}  
                                        </button>  
                                        <button class="action-btn">  
                                            ğŸ’¬ ${post.comments}  
                                        </button>  
                                        <button class="action-btn ${post.bookmarkedBy.includes(currentUser?.id) ? 'active' : ''}" onclick="toggleBookmark(event, ${post.id})">  
                                            ğŸ”–  
                                        </button>  
                                    </div>  
                                </div>  
                            `;  
                        }).join('')}  
                    </div>  
                </div>  
            `;  
        }  
  
        function getMoodTemplate() {  
            if (currentUser && currentUser.role === 'super_admin') {  
                return getAdminMoodTemplate();  
            }  
  
            return `  
                <div class="fade-in">  
                    <div class="main-header">  
                        <h2>ì˜¤ëŠ˜ì˜ ë¬´ë“œ</h2>  
                        <p>ë‹¹ì‹ ì˜ ê°ì •ì„ ê¸°ë¡í•´ë³´ì„¸ìš”</p>  
                    </div>  
  
                    <div class="glass-card" style="text-align: center; padding: 60px 20px;">  
                        <p style="font-size: 18px; color: var(--color-text-light); margin-bottom: 30px;">  
                            ì—¬ê¸°ì— ì›”ê°„/ì£¼ê°„ ë¬´ë“œ íŠ¸ë˜ì»¤ê°€ ì‹œê°í™”ë©ë‹ˆë‹¤  
                        </p>  
                        <div style="font-size: 64px; margin-bottom: 30px;">ğŸ“Š</div>  
                        <button onclick="openWriteModal()" class="action-button">  
                            ë¬´ë“œ ê¸°ë¡ ì‘ì„±  
                        </button>  
                    </div>  
                </div>  
            `;  
        }  
  
        function getAdminMoodTemplate() {  
            const moods = [  
                { user: 'í˜œë€', content: 'ì˜¤ëŠ˜ í•˜ë£¨ ë„ˆë¬´ ì§€ì³¤ì–´ìš”...', mood: 'ğŸ˜©', date: '2025.12.10' },  
                { user: 'í–…ì”¨', content: 'ëª¨ë‘ ìˆ˜ê³ í–ˆì–´ìš”! ë‚´ì¼ì€ ë” ë¹›ë‚  ê±°ì˜ˆìš” âœ¨', mood: 'ğŸ¥°', date: '2025.12.09' },  
                { user: 'ì—˜ë¦¬', content: 'ì£¼ë§ì— ì‰¬ê³  ì‹¶ì–´ìš”~', mood: 'ğŸ˜Š', date: '2025.12.08' }  
            ];  
  
            return `  
                <div class="fade-in">  
                    <div class="admin-header">  
                        <h2>ğŸ‘‘ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h2>  
                        <p>ëª¨ë“  í–…ì‚ë‹˜ë“¤ì˜ ê°ì •ì„ ì‚´í´ë³´ì„¸ìš”</p>  
                    </div>  
  
                    ${moods.map(mood => {  
                        const userColor = getUserColor(mood.user);  
                        const avatar = users.find(u => u.name === mood.user)?.avatar || 'ì‚¬';  
                        return `  
                            <div class="glass-card">  
                                <div class="post-header">  
                                    <div class="post-avatar" style="background: ${userColor}">${avatar}</div>  
                                    <div class="post-info">  
                                        <h4>${mood.user}</h4>  
                                        <p>${mood.date}</p>  
                                    </div>  
                                </div>  
                                <div style="margin-top: 15px;">  
                                    <p style="margin-bottom: 5px;"><strong>${mood.mood} ${mood.content}</strong></p>  
                                </div>  
                            </div>  
                        `;  
                    }).join('')}  
                </div>  
            `;  
        }  
  
        function getMyPageTemplate() {  
            const isVIP = userStamps >= 50;  
              
            return `  
                <div class="fade-in">  
                    <div class="main-header">  
                        <h2>${isVIP ? 'â­ VIP í–…ì‚ë‹˜!' : 'My Space'}</h2>  
                        <p>${isVIP ? 'íŠ¹ë³„í•œ í˜œíƒì„ ì¦ê²¨ë³´ì„¸ìš”!' : 'ì˜¤ëŠ˜ë„ ìíœ´ë ˆí„°ì™€ í•¨ê»˜í•´ìš”'}</p>  
                    </div>  
  
                    <ul class="mypage-menu">  
                        <li><button class="mypage-button" onclick="showContentList('mypost')">ë‚´ê°€ ì“´ ê¸€</button></li>  
                        <li><button class="mypage-button" onclick="showContentList('mycomment')">ë‚˜ì˜ ëŒ“ê¸€</button></li>  
                        <li><button class="mypage-button" onclick="showContentList('mylike')">ì¢‹ì•„ìš”í•œ ê¸€</button></li>  
                        <li><button class="mypage-button" onclick="showContentList('mybookmark')">ë¶ë§ˆí¬í•œ ê¸€</button></li>  
                        <li><button class="mypage-button" onclick="showContentList('mystamp')">ìíœ´ ìŠ¤íƒ¬í”„ (${userStamps}ê°œ)</button></li>  
                        ${currentUser && currentUser.role !== 'user' ? `  
                            <li><button class="mypage-button" onclick="showAdminPanel()">ê´€ë¦¬ì íŒ¨ë„</button></li>  
                        ` : ''}  
                        <li><button class="mypage-button" onclick="openPasswordModal()">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button></li>  
                        <li><button class="mypage-button" onclick="handleLogout()">ë¡œê·¸ì•„ì›ƒ</button></li>  
                    </ul>  
  
                    <div class="glass-card">  
                        <h3 style="color: var(--color-primary); margin-bottom: 20px;">ë‚˜ì˜ ìíœ´ ìŠ¤íƒ¬í”„</h3>  
                        <div class="stamp-grid">  
                            ${Array(50).fill(0).map((_, index) => `  
                                <div class="stamp-icon ${index < userStamps ? 'stamped' : 'unstamped'}"></div>  
                            `).join('')}  
                        </div>  
                        <p style="text-align: center; margin-top: 25px; font-size: 12px; color: var(--color-text-light);">  
                            *ìŠ¤íƒ¬í”„ 50ê°œ ì´ìƒ ëˆ„ì ì‹œ ìíœ´ë ˆí„°VIPê°€ ë©ë‹ˆë‹¤! <br>  
                            ì–´ëŠë‚  ìŠ¤íì…œë ˆí„°ê°€ ë„ì°©í•  ì§€ë„ ëª°ë¼ìš”!ğŸ˜‰  
                        </p>  
                    </div>  
                </div>  
            `;  
        }  
  
        function getContentListTemplate(type) {  
            const titles = {  
                'mypost': 'ë‚´ê°€ ì“´ ê¸€',  
                'mycomment': 'ë‚˜ì˜ ëŒ“ê¸€',  
                'mylike': 'ì¢‹ì•„ìš”í•œ ê¸€',  
                'mybookmark': 'ë¶ë§ˆí¬í•œ ê¸€',  
                'mystamp': 'ìíœ´ ìŠ¤íƒ¬í”„'  
            };  
  
            return `  
                <div class="fade-in">  
                    <div class="main-header">  
                        <h2 style="color: var(--color-primary);">${titles[type]}</h2>  
                    </div>  
  
                    <div class="glass-card" style="padding: 40px; text-align: center;">  
                        <p style="font-size: 18px; color: var(--color-text-light); margin-bottom: 25px;">  
                            ${titles[type]} ë°ì´í„°ê°€ ì—¬ê¸°ì— ì—°ë™ë©ë‹ˆë‹¤  
                        </p>  
                        <p style="margin-bottom: 10px;">- 12/10: í…ŒìŠ¤íŠ¸ ê²Œì‹œë¬¼ 1</p>  
                        <p>- 12/08: í…ŒìŠ¤íŠ¸ ê²Œì‹œë¬¼ 2</p>  
                        <p style="margin-top: 25px; color: var(--color-primary); font-weight: 600; font-size: 16px;">  
                            âœ… í•´ë‹¹ í˜ì´ì§€ ë Œë”ë§ìœ¼ë¡œ ê¸°ëŠ¥ ì—°ë™ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤  
                        </p>  
                    </div>  
  
                    <button class="action-button" style="width: 100%; margin-top: 20px;" onclick="renderTab('mypage')">  
                        ë§ˆì´í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°  
                    </button>  
                </div>  
            `;  
        }  
  
        function getAdminPanelTemplate() {  
            return `  
                <div class="fade-in">  
                    <div class="admin-header">  
                        <h2>ê´€ë¦¬ì íŒ¨ë„</h2>  
                        <p>${currentUser.name}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!</p>  
                    </div>  
  
                    <div class="glass-card">  
                        <h3 style="color: var(--color-primary); margin-bottom: 20px;">ì‚¬ìš©ì ê´€ë¦¬</h3>  
                        <p style="color: var(--color-text-light); margin-bottom: 25px;">í˜„ì¬ ${users.length}ëª…ì˜ ì‚¬ìš©ìê°€ ìˆìŠµë‹ˆë‹¤.</p>  
                          
                        <div>  
                            ${users.map(user => `  
                                <div style="padding: 15px; background: var(--color-secondary); border-radius: 15px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center;">  
                                    <span><strong>${user.name}</strong> (${user.role === 'super_admin' ? 'ìµœê³  ê´€ë¦¬ì' : user.role === 'admin' ? 'ì¼ë°˜ ê´€ë¦¬ì' : 'ì¼ë°˜ ì‚¬ìš©ì'})</span>  
                                    <span style="font-size: 12px; color: var(--color-text-light);">${user.avatar}</span>  
                                </div>  
                            `).join('')}  
                        </div>  
                    </div>  
  
                    <button class="action-button" style="width: 100%; margin-top: 20px;" onclick="renderTab('mypage')">  
                        ë§ˆì´í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°  
                    </button>  
                </div>  
            `;  
        }  
  
        function getUserColor(name) {  
            const colors = {  
                'í–…ì”¨': '#9B59B6',  
                'ì—˜ë¦¬': '#E74C3C',  
                'ê³ ì¹¼': '#3498DB',  
                'ìœ ë‹¨': '#2ECC71',  
                'ì¨ë‹ˆ': '#F39C12'  
            };  
            return colors[name] || '#9B59B6';  
        }  
  
        function renderTab(tabName, actionType = null) {  
            if (!isLoggedIn) return;  
              
            currentTab = tabName;  
            const container = document.getElementById('appContainer');  
              
            // ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸  
            document.querySelectorAll('.nav-item').forEach(item => {  
                item.classList.remove('active');  
                if (item.getAttribute('data-tab') === tabName) {  
                    item.classList.add('active');  
                }  
            });  
  
            if (actionType && ['mypost', 'mycomment', 'mylike', 'mybookmark', 'mystamp'].includes(actionType)) {  
                container.innerHTML = getContentListTemplate(actionType);  
                return;  
            }  
  
            switch (tabName) {  
                case 'home':  
                    container.innerHTML = getHomeTemplate();  
                    break;  
                case 'letter':  
                    container.innerHTML = getLetterTemplate();  
                    break;  
                case 'editor-talk':  
                    container.innerHTML = getEditorTalkTemplate();  
                    break;  
                case 'mood':  
                    container.innerHTML = getMoodTemplate();  
                    break;  
                case 'mypage':  
                    container.innerHTML = getMyPageTemplate();  
                    break;  
                default:  
                    container.innerHTML = '<div class="glass-card"><p>í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></div>';  
            }  
  
            window.scrollTo(0, 0);  
        }  
  
        function showPostDetail(postId) {  
            const post = posts.find(p => p.id === postId);  
            if (!post) return;  
  
            const userColor = getUserColor(post.author);  
            const authorProfile = users.find(u => u.name === post.author);  
            const avatar = authorProfile ? authorProfile.avatar : 'ì';  
            const isLiked = post.likedBy.includes(currentUser?.id);  
            const isBookmarked = post.bookmarkedBy.includes(currentUser?.id);  
  
            const container = document.getElementById('appContainer');  
            container.innerHTML = `  
                <div class="fade-in">  
                    <div class="main-header">  
                        <h2 style="color: var(--color-primary);">ê²Œì‹œë¬¼ ìƒì„¸</h2>  
                    </div>  
  
                    <div class="glass-card">  
                        <div class="post-header">  
                            <div class="post-avatar" style="background: ${userColor}">${avatar}</div>  
                            <div class="post-info">  
                                <h4>${post.author}</h4>  
                                <p>${post.date}</p>  
                            </div>  
                        </div>  
                        <div class="post-content" style="font-size: 16px; line-height: 1.6; margin: 20px 0;">  
                            ${post.content}  
                        </div>  
                        ${post.image ? `<img src="${post.image}" alt="ê²Œì‹œë¬¼ ì´ë¯¸ì§€" style="width: 100%; border-radius: 10px; margin-bottom: 20px;">` : ''}  
                    </div>  
  
                    <div style="display: flex; justify-content: space-around; margin: 30px 0; padding: 20px; background: var(--color-secondary); border-radius: 15px;">  
                        <button class="action-btn ${isLiked ? 'active' : ''}" onclick="toggleLike(event, ${post.id})">  
                            â¤ï¸ ${post.likes}  
                        </button>  
                        <button class="action-btn">  
                            ğŸ’¬ ${post.comments}  
                        </button>  
                        <button class="action-btn ${isBookmarked ? 'active' : ''}" onclick="toggleBookmark(event, ${post.id})">  
                            ğŸ”– ë¶ë§ˆí¬  
                        </button>  
                    </div>  
  
                    <button class="action-button" style="width: 100%;" onclick="renderTab('editor-talk')">  
                        ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°  
                    </button>  
                </div>  
            `;  
        }  
  
        function showContentList(type) {  
            renderTab('content-list', type);  
        }  
  
        function showAdminPanel() {  
            document.getElementById('appContainer').innerHTML = getAdminPanelTemplate();  
        }  
  
        // í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬  
        document.addEventListener('click', function handleClick(event) {  
            const target = event.target.closest('[data-tab], .action-button, .mypage-button');  
            if (!target) return;  
  
            if (target.hasAttribute('data-tab')) {  
                event.preventDefault();  
                const tab = target.getAttribute('data-tab');  
                renderTab(tab);  
            }  
        });  
  
        // ì—”í„° í‚¤ ë¡œê·¸ì¸ ì§€ì›  
        document.addEventListener('keypress', function(event) {  
            if (event.key === 'Enter') {  
                const activeElement = document.activeElement;  
                if (activeElement.id === 'loginPassword') {  
                    handleLogin();  
                } else if (activeElement.id === 'signupPasswordConfirm') {  
                    handleSignup();  
                } else if (activeElement.id === 'newPasswordConfirm') {  
                    handleChangePassword();  
                }  
            }  
        });  
    </script>  
</body>  
</html>  
